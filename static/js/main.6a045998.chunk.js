(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e){e.exports={id:"The unique integer id of the node used internally by Hetmech (but not in Hetionet v1.0)",metapath:"The type of path (metapath) connecting the source node to the target node",path_count:"The number of paths between the source and target node of the specified metapath (path type)",adjusted_p_value:"A measure of the significance of the DWPC that indicates whether more paths were observed than expected due to random chance. Compares the DWPC to a null distribution of DWPCs generated from degree-preserving permuted networks. Bonferroni-adjusted for the number of metapaths with the same source metanode, target metanode, and length.",p_value:"A measure of the significance of the DWPC that indicates whether more paths were observed than expected due to random chance. Compares the DWPC to a null distribution of DWPCs generated from degree-preserving permuted networks. Not adjusted for multiple comparisons (i.e. when multiple metapaths are assessed for significant connectivity between the source and target node).",dwpc:"Degree-Weighted Path Count \u2014 Measures the extent of connectivity between the source and target node for the given metapath. Like the path count, but with less weight given to paths along high-degree nodes.",dgp_source_degree:"The number of edges from the source node that are of the same type as the initial metaedge of the metapath",dgp_target_degree:"The number of edges from the target node that are of the same type as the final metaedge of the metapath",dgp_n_dwpcs:"The number of DWPCs calculated on permuted networks used to generate a null distribution for the DWPC from the real network. Permuted DWPCs are aggregated for all permuted node pairs with the same degrees as the source and target node.",dgp_n_nonzero_dwpcs:"The number of permuted DWPCs from '# of DWPCs' column that were nonzero. Nonzero DWPCs indicate at least one path between the source and target node existed in the permuted network.",dgp_nonzero_mean:"The mean of nonzero permuted DWPCs. Used to generate the gamma-hurdle model of the null DWPC distribution.",dgp_nonzero_sd:"The standard deviation of nonzero permuted DWPCs. Used to generate the gamma-hurdle model of the null DWPC distribution.",path:"The sequence of edges in the network connecting the source node to the target node. Duplicate nodes are not permitted in paths.",score:"A metric of how meaningful the path is in describing the connectivity between the source and target node. The score combines the magnitude of the metapath's p-value with the percent of the DWPC contributed by the path.",percent_of_DWPC:"The contribution of the path to the DWPC for its metapath. This metric compares the importance of all paths of the same metapath from the source node to the target node.",cypher_query:"Copy, paste, and run this code in the command bar at https://neo4j.het.io/browser/ to recreate the graph of this metapath in the Neo4j browser."}},107:function(e,t,r){e.exports=r(265)},119:function(e,t,r){},120:function(e,t,r){},141:function(e,t,r){},142:function(e,t,r){},258:function(e,t,r){},259:function(e,t,r){},260:function(e,t,r){},261:function(e,t,r){},262:function(e,t,r){},263:function(e,t,r){},264:function(e,t,r){},265:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(26),i=r.n(o),l=r(39),s=r(100),c=r(13),h=r(24);function u(e){e=parseFloat(e).toExponential(1);var t=parseFloat(e.split("e")[0]).toFixed(1),r=parseInt(e.split("e")[1]);return n.a.createElement("span",null,t," \xd7 10",n.a.createElement("sup",null,r))}function p(e){return n.a.createElement("span",null,parseFloat(e).toFixed(1))}function d(e){return Number(e).toLocaleString()}function f(e){var t=["rgba(255, 255, 255, 0)","rgba(255, 249, 196, 1)","rgba(255, 236, 179, 1)","rgba(255, 224, 178, 1)","rgba(255, 204, 188, 1)","rgba(248, 187, 208, 1)"];t=t.map(function(e){return e=e.split(/[^0-9,]/).join(""),e={r:parseInt(e.split(",")[0]),g:parseInt(e.split(",")[1]),b:parseInt(e.split(",")[2]),a:parseFloat(e.split(",")[3])}});var r=((e=Math.log10(e))-0)/-8;r=Math.min(Math.max(0,r),1);var a=(t.length-1)*r,n=t[Math.floor(a)],o=t[Math.ceil(a)],i=a%1,l={r:n.r+(o.r-n.r)*i,g:n.g+(o.g-n.g)*i,b:n.b+(o.b-n.b)*i,a:n.a+(o.a-n.a)*i};return l.r=Math.floor(l.r),l.g=Math.floor(l.g),l.b=Math.floor(l.b),l.a=l.a.toFixed(3),(l="rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")")||"#ffffff"}function m(e,t){var r=e.map(function(e){return e.join(",")}).join("\n"),a=new Blob(["\ufeff",r],{type:"text/csv;charset=utf-8"}),n=window.URL.createObjectURL(a),o=document.createElement("a");document.body.appendChild(o),o.href=n,o.download=(t||"data")+".csv",o.click(),window.URL.revokeObjectURL(n),o.remove()}function v(e){return e=(e=(e=e.trim()).replace(/[^0-9A-Za-z]/gi,"-")).substring(0,15)}function g(e,t,r){return e.sort(function(e,a){return r&&(e=e[r],a=a[r]),e=t.indexOf(e),a=t.indexOf(a),-1!==e&&-1!==a?e-a:-1!==e?-1:-1!==a?1:a-e})}function y(e,t,r,a){var n=!0,o=!1,i=void 0;try{for(var l,s=t[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value,h=!0,u=!1,p=void 0;try{for(var d,f=e[Symbol.iterator]();!(h=(d=f.next()).done);h=!0){var m=d.value,v=!0,g=!0,y=!1,b=void 0;try{for(var O,k=r[Symbol.iterator]();!(g=(O=k.next()).done);g=!0){var j=O.value;if(m[j]!==c[j]){v=!1;break}}}catch(S){y=!0,b=S}finally{try{g||null==k.return||k.return()}finally{if(y)throw b}}if(v){var _=!0,w=!1,E=void 0;try{for(var x,C=a[Symbol.iterator]();!(_=(x=C.next()).done);_=!0){var N=x.value;c[N]=m[N]}}catch(S){w=!0,E=S}finally{try{_||null==C.return||C.return()}finally{if(w)throw E}}}}}catch(S){u=!0,p=S}finally{try{h||null==f.return||f.return()}finally{if(u)throw p}}}}catch(S){o=!0,i=S}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return t}function b(e,t,r){return e.length===t.length&&(r?e.every(function(e,r){return e===t[r]})||e.slice().reverse().every(function(e,r){return e===t[r]}):e.every(function(e,r){return e===t[r]}))}function O(e,t){return e.length<=t?e:e.substring(0,t-3)+"..."}function k(e){return JSON.parse(JSON.stringify(e))}var j=r(52),_=r(4),w=r(5),E=r(7),x=r(6),C=r(2),N=r(8);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var P=n.a.createElement("style",null,"\n    #back_line,\n    #front_line,\n    #circle_1,\n    #circle_2,\n    #circle_3,\n    #circle_4 {\n      animation-duration: 1.5s;\n      animation-timing-function: ease;\n      animation-fill-mode: forwards;\n    }\n    #back_line {\n      animation-name: draw_back_line;\n    }\n    @keyframes draw_back_line {\n      0% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 60;\n      }\n      60% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 60;\n      }\n      100% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 0;\n      }\n    }\n    #front_line {\n      animation-name: draw_front_line;\n    }\n    @keyframes draw_front_line {\n      0% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 158;\n      }\n      60% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 0;\n      }\n      100% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 0;\n      }\n    }\n    #circle_1 {\n      animation-name: draw_circle_1;\n    }\n    #circle_2 {\n      animation-name: draw_circle_2;\n    }\n    #circle_3 {\n      animation-name: draw_circle_3;\n    }\n    #circle_4 {\n      animation-name: draw_circle_4;\n    }\n    @keyframes draw_circle_1 {\n      0% {\n        transform: scale(0);\n      }\n      20% {\n        transform: scale(0);\n      }\n      40% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_2 {\n      0% {\n        transform: scale(0);\n      }\n      30% {\n        transform: scale(0);\n      }\n      50% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_3 {\n      0% {\n        transform: scale(0);\n      }\n      40% {\n        transform: scale(0);\n      }\n      60% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_4 {\n      0% {\n        transform: scale(0);\n      }\n      50% {\n        transform: scale(0);\n      }\n      70% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n  "),T=n.a.createElement("path",{id:"back_line",stroke:"#bdbdbd",strokeWidth:5,fill:"none",d:"       M 20 50       L 80 50     "}),D=n.a.createElement("path",{id:"front_line",stroke:"#424242",strokeWidth:7.5,fill:"none",d:"       M 0 50       L 20 50       L 40 75       L 60 25       L 80 50       L 100 50     "}),L=n.a.createElement("g",{transform:"translate(20,50)"},n.a.createElement("circle",{id:"circle_1",cx:0,cy:0,r:10,fill:"#02b3e4"})),R=n.a.createElement("g",{transform:"translate(40,75)"},n.a.createElement("circle",{id:"circle_2",cx:0,cy:0,r:10,fill:"#c341d8"})),A=n.a.createElement("g",{transform:"translate(60,25)"},n.a.createElement("circle",{id:"circle_3",cx:0,cy:0,r:10,fill:"#fa750f"})),U=n.a.createElement("g",{transform:"translate(80,50)"},n.a.createElement("circle",{id:"circle_4",cx:0,cy:0,r:10,fill:"#e91e63"})),W=function(e){var t=e.svgRef,r=M(e,["svgRef"]);return n.a.createElement("svg",S({viewBox:"0 0 100 100",ref:t},r),P,T,D,L,R,A,U)},H=n.a.forwardRef(function(e,t){return n.a.createElement(W,S({svgRef:t},e))}),I=(r.p,function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.showLogo=!1,window.setTimeout(function(){return e.setState({showLogo:!0})},1e3),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e;return e=this.state.showLogo?n.a.createElement(H,{className:"logo"}):n.a.createElement("svg",{className:"logo"}),n.a.createElement("header",null,e,n.a.createElement("h1",null,"HETMECH"),n.a.createElement("h2",null,"A project of the"," ",n.a.createElement("a",{href:"http://www.greenelab.com/"},"Greene Laboratory")))}}]),t}(a.Component)),F=r(106),Q=r(103),B=r.n(Q),V=r(104),z=r.n(V),q=r(66),G=r.n(q),Z=r(105),K=r.n(Z),J=r(27),X=r(9);r(119);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ee=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50     "}),te=function(e){var t=e.svgRef,r=$(e,["svgRef"]);return n.a.createElement("svg",Y({viewBox:"0 0 100 100",ref:t},r),ee)},re=n.a.forwardRef(function(e,t){return n.a.createElement(te,Y({svgRef:t},e))});r.p;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var oe=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50       M 70 35       L 90 50       L 70 65     "}),ie=function(e){var t=e.svgRef,r=ne(e,["svgRef"]);return n.a.createElement("svg",ae({viewBox:"0 0 100 100",ref:t},r),oe)},le=n.a.forwardRef(function(e,t){return n.a.createElement(ie,ae({svgRef:t},e))});r.p;function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var he=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50       M 30 35       L 10 50       L 30 65     "}),ue=function(e){var t=e.svgRef,r=ce(e,["svgRef"]);return n.a.createElement("svg",se({viewBox:"0 0 100 100",ref:t},r),he)},pe=n.a.forwardRef(function(e,t){return n.a.createElement(ue,se({svgRef:t},e))});r.p;function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var me=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746       L 78.2842755245486 50       L 50 50     "}),ve=function(e){var t=e.svgRef,r=fe(e,["svgRef"]);return n.a.createElement("svg",de({viewBox:"0 0 100 100",ref:t},r),me)},ge=n.a.forwardRef(function(e,t){return n.a.createElement(ve,de({svgRef:t},e))});r.p;function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Oe=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),ke=function(e){var t=e.svgRef,r=be(e,["svgRef"]);return n.a.createElement("svg",ye({viewBox:"0 0 100 100",ref:t},r),Oe)},je=n.a.forwardRef(function(e,t){return n.a.createElement(ke,ye({svgRef:t},e))});r.p;function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ee=n.a.createElement("clipPath",{id:"clip"},n.a.createElement("rect",{x:0,y:0,width:100,height:100})),xe=n.a.createElement("g",null,n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.5) translate(-50,-50)",clipPath:"url(#clip)",d:"         M 10 110         L 50 0         L 90 110         M 30 70         L 70 70       "})),Ce=function(e){var t=e.svgRef,r=we(e,["svgRef"]);return n.a.createElement("svg",_e({viewBox:"0 0 100 100",ref:t},r),Ee,xe)},Ne=n.a.forwardRef(function(e,t){return n.a.createElement(Ce,_e({svgRef:t},e))});r.p;function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Pe=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 25 10       L 50 10       A 40 40 0 0 1 50 90       L 25 90       Z     "}),Te=function(e){var t=e.svgRef,r=Me(e,["svgRef"]);return n.a.createElement("svg",Se({viewBox:"0 0 100 100",ref:t},r),Pe)},De=n.a.forwardRef(function(e,t){return n.a.createElement(Te,Se({svgRef:t},e))});r.p;function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ae=n.a.createElement("clipPath",{id:"clip"},n.a.createElement("rect",{x:0,y:0,width:100,height:100})),Ue=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",clipPath:"url(#clip)",d:"       M 80 18       C 70 14 62 10 50 10       C 42 10 22 14 22 30       C 22 46 38 48.4 50 50       C 62 51.6 78 54 78 70       C 78 86 59 90 50 90       C 38 90 30 86 20 82     "}),We=function(e){var t=e.svgRef,r=Re(e,["svgRef"]);return n.a.createElement("svg",Le({viewBox:"0 0 100 100",ref:t},r),Ae,Ue)},He=n.a.forwardRef(function(e,t){return n.a.createElement(We,Le({svgRef:t},e))});r.p;function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Qe=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-42,0)",d:"       M 80 18       C 70 14 62 10 50 10       C 42 10 22 14 22 30       C 22 46 38 48.4 50 50       C 62 51.6 78 54 78 70       C 78 86 59 90 50 90       C 38 90 30 86 20 82     "}),Be=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(42,0)",d:"       M 75 10       L 25 10       L 25 90       L 75 90       M 30 50       L 65 50     "}),Ve=function(e){var t=e.svgRef,r=Fe(e,["svgRef"]);return n.a.createElement("svg",Ie({viewBox:"0 0 100 100",ref:t},r),Qe,Be)},ze=n.a.forwardRef(function(e,t){return n.a.createElement(Ve,Ie({svgRef:t},e))});r.p;function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ze=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-44,0)",d:"       M 25 10       L 60 10       A 20 20 0 0 1 60 50       A 20 20 0 0 1 60 90       L 25 90       Z       M 30 50       L 60 50     "}),Ke=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(44,0)",d:"       M 25 90       L 25 10       L 60 10       A 20 20 0 0 1 60 50       L 30 50     "}),Je=function(e){var t=e.svgRef,r=Ge(e,["svgRef"]);return n.a.createElement("svg",qe({viewBox:"0 0 100 100",ref:t},r),Ze,Ke)},Xe=n.a.forwardRef(function(e,t){return n.a.createElement(Je,qe({svgRef:t},e))});r.p;function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function $e(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var et=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-43,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),tt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(48,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),rt=function(e){var t=e.svgRef,r=$e(e,["svgRef"]);return n.a.createElement("svg",Ye({viewBox:"0 0 100 100",ref:t},r),et,tt)},at=n.a.forwardRef(function(e,t){return n.a.createElement(rt,Ye({svgRef:t},e))});r.p;function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ot(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var it=n.a.createElement("clipPath",{id:"clip"},n.a.createElement("rect",{x:0,y:0,width:100,height:100})),lt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",strokeLinejoin:"bevel",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-40,0)",clipPath:"url(#clip)",d:"       M 10 90       L 10 -10       L 50 65       L 90 -10       L 90 90     "}),st=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(60,0)",d:"       M 75 10       L 25 10       L 25 90       M 30 50       L 65 50     "}),ct=function(e){var t=e.svgRef,r=ot(e,["svgRef"]);return n.a.createElement("svg",nt({viewBox:"0 0 100 100",ref:t},r),it,lt,st)},ht=n.a.forwardRef(function(e,t){return n.a.createElement(ct,nt({svgRef:t},e))});r.p;function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function pt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var dt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-52,0)",d:"     M 25 90     L 25 10     L 60 10     A 20 20 0 0 1 60 50     L 30 50     "}),ft=n.a.createElement("clipPath",{id:"clip"},n.a.createElement("rect",{x:0,y:0,width:100,height:100})),mt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",strokeLinejoin:"bevel",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(45,0)",clipPath:"url(#clip)",d:"       M 10 -10       L 25 100       L 50 35       L 75 100       L 90 -10     "}),vt=function(e){var t=e.svgRef,r=pt(e,["svgRef"]);return n.a.createElement("svg",ut({viewBox:"0 0 100 100",ref:t},r),dt,ft,mt)},gt=n.a.forwardRef(function(e,t){return n.a.createElement(vt,ut({svgRef:t},e))});r.p;function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function bt(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Ot=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-50,0)",d:"       M 25 90       L 25 10       L 60 10       A 20 20 0 0 1 60 50       L 30 50     "}),kt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(48,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),jt=function(e){var t=e.svgRef,r=bt(e,["svgRef"]);return n.a.createElement("svg",yt({viewBox:"0 0 100 100",ref:t},r),Ot,kt)},_t=n.a.forwardRef(function(e,t){return n.a.createElement(jt,yt({svgRef:t},e))}),wt=(r.p,function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e;switch(this.props.type){case"Gene":e=n.a.createElement(ge,null);break;case"Compound":e=n.a.createElement(je,null);break;case"Anatomy":e=n.a.createElement(Ne,null);break;case"Disease":e=n.a.createElement(De,null);break;case"Symptom":e=n.a.createElement(He,null);break;case"Side Effect":e=n.a.createElement(ze,null);break;case"Biological Process":e=n.a.createElement(Xe,null);break;case"Cellular Component":e=n.a.createElement(at,null);break;case"Molecular Function":e=n.a.createElement(ht,null);break;case"Pathway":e=n.a.createElement(gt,null);break;case"Pharmacologic Class":e=n.a.createElement(_t,null)}var t="#424242",r="#fafafa",a=this.props.hetioStyles[this.props.type];return a&&a.fill_color&&(t=a.fill_color),a&&a.text_color&&(r=a.text_color),n.a.createElement("div",{className:"metanode_chip",style:{color:r}},n.a.createElement("svg",{viewBox:"0 0 100 100"},n.a.createElement("circle",{cx:"50",cy:"50",r:"49",fill:t})),e)}}]),t}(a.Component));wt=Object(c.b)(function(e){return{hetioStyles:e.hetioStyles}})(wt);var Et=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e;switch(this.props.direction){case"backward":e=n.a.createElement(pe,null);break;case"forward":e=n.a.createElement(le,null);break;default:e=n.a.createElement(re,null)}var t="";return this.props.metagraph.kind_to_abbrev&&(t=this.props.metagraph.kind_to_abbrev[this.props.type]),n.a.createElement("div",{className:"metaedge_chip","data-name":this.props.type,"data-abbreviation":t},e)}}]),t}(a.Component);function xt(e,t){return e.map(function(e,r){return"node"===e.element?n.a.createElement(Ct,{key:r,type:e.type,name:e.name,expanded:t}):"edge"===e.element?n.a.createElement(Et,{key:r,type:e.type,direction:e.direction}):""})}Et=Object(c.b)(function(e){return{metagraph:e.metagraph}})(Et);var Ct=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e="#424242",t="#fafafa",r=this.props.hetioStyles[this.props.type];return r&&r.fill_color&&(e=r.fill_color),r&&r.text_color&&(t=r.text_color),n.a.createElement("span",{className:"node_chip",style:{background:e,color:t},"data-expanded":this.props.expanded},this.props.name)}}]),t}(a.Component);Ct=Object(c.b)(function(e){return{hetioStyles:e.hetioStyles}})(Ct);var Nt=r(65),St=r.n(Nt),Mt=(r(120),function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.open=!1,e.state.x=0,e.state.y=0,e.state.opacity=0,e.onMouseEnter=e.onMouseEnter.bind(Object(C.a)(e)),e.openTooltip=e.openTooltip.bind(Object(C.a)(e)),e.onMouseLeave=e.onMouseLeave.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onMouseEnter",value:function(e){var t=this,r=e.target;window.setTimeout(function(){return t.openTooltip(r)},1e3),this.setState({hover:!0})}},{key:"openTooltip",value:function(e){if(this.state.hover&&e){var t=e.getBoundingClientRect().left+document.documentElement.scrollLeft,r=e.getBoundingClientRect().top+document.documentElement.scrollTop,a=Math.min(t,document.body.clientWidth-200),n=r;this.setState({open:!0,x:a,y:n})}else this.setState({open:!1})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1,open:!1})}},{key:"render",value:function(){if(!this.props.text)return n.a.createElement(n.a.Fragment,null,this.props.children);var e={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},t=n.a.Children.map(this.props.children,function(t){return n.a.isValidElement(t)?n.a.cloneElement(t,e):"string"===typeof t?n.a.createElement("span",e,t):t});return n.a.createElement(n.a.Fragment,null,t,this.state.open&&n.a.createElement(Pt,{text:this.props.text,open:this.state.open,x:this.state.x,y:this.state.y}))}}]),t}(a.Component)),Pt=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return i.a.createPortal(n.a.createElement(St.a,{in:this.props.open},n.a.createElement("div",{className:"tooltip",style:{left:this.props.x+"px",top:this.props.y+"px"}},this.props.text)),document.body)}}]),t}(a.Component),Tt=(r(141),function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Mt,{text:this.props.tooltipText},n.a.createElement("button",{className:this.props.className,onClick:function(t){t.ctrlKey?e.props.onCtrlClick&&e.props.onCtrlClick():t.shiftKey?e.props.onShiftClick&&e.props.onShiftClick():e.props.onClick&&e.props.onClick()}},this.props.children))}}]),t}(a.Component)),Dt=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement(Tt,{className:this.props.className+" text_button small",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.text&&n.a.createElement("span",null,this.props.text),n.a.createElement(J.a,{icon:this.props.icon,className:"text_button_icon"}))}}]),t}(a.Component),Lt=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement(Tt,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&n.a.createElement(J.a,{className:"fa-xs",icon:X.e}))}}]),t}(a.Component),Rt=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement(Tt,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&n.a.createElement(J.a,{className:"fa-xs",icon:X.l}))}}]),t}(a.Component),At=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement(Tt,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&n.a.createElement(J.a,{className:"fa-xs",icon:X.m}))}}]),t}(a.Component),Ut=r(102),Wt="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/hetnet/json/hetionet-v1.0-metagraph.json",Ht="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/describe/definitions.json",It="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/describe/styles.json",Ft="https://search-api.het.io/v1/nodes/",Qt="https://search-api.het.io/v1/count-metapaths-to/",Bt="https://search-api.het.io/v1/random-node-pair/",Vt="https://search-api.het.io/v1/query-metapaths/",zt="https://search-api.het.io/v1/query-paths/";function qt(e){return fetch(e).then(function(e){return e.json()}).then(function(e){return e||{}}).catch(function(t){return console.log(t,e),{}})}function Gt(e){return e?qt(Ft+e):null}function Zt(e,t){var r=new URLSearchParams;return r.set("source",e),r.set("target",t),qt(Vt+"?"+r.toString()).then(function(e){return e.path_counts})}function Kt(e,t,r){var a=new URLSearchParams;return a.set("source",e),a.set("target",t),a.set("metapath",r),qt(zt+"?"+a.toString()).then(function(e){return e})}function Jt(e){return{type:"update_source_target_nodes",payload:{sourceNode:e.sourceNode,targetNode:e.targetNode},updateUrl:!e.dontUpdateUrl}}function Xt(e){return{type:"update_metapaths",payload:{metapaths:e.metapaths},updateUrl:!e.dontUpdateUrl,preserveChecks:e.preserveChecks}}function Yt(e){return{type:"update_path_queries",payload:{pathQueries:e.pathQueries},preserveChecks:e.preserveChecks}}function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function er(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var tr=n.a.createElement("circle",{cx:25,cy:65,r:10,fill:"currentColor"}),rr=n.a.createElement("circle",{cx:40,cy:35,r:10,fill:"currentColor"}),ar=n.a.createElement("circle",{cx:70,cy:50,r:10,fill:"currentColor"}),nr=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:5,d:"       M 25 65       L 40 35       L 70 50     "}),or=function(e){var t=e.svgRef,r=er(e,["svgRef"]);return n.a.createElement("svg",$t({viewBox:"0 0 100 100",ref:t},r),tr,rr,ar,nr)},ir=n.a.forwardRef(function(e,t){return n.a.createElement(or,$t({svgRef:t},e))}),lr=(r.p,r(142),function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.filters=[],e.state.filterString="",e.updateFilters=e.updateFilters.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"updateFilters",value:function(e,t){this.setState({filters:e,filterString:t})}},{key:"render",value:function(){return n.a.createElement("section",{className:"center"},n.a.createElement(sr.Provider,{value:{filterString:this.state.filterString}},n.a.createElement(cr,{filters:this.state.filters,filterString:this.state.filterString,updateFilters:this.updateFilters}),n.a.createElement(ur,null),n.a.createElement(vr,null),n.a.createElement(gr,null),n.a.createElement(pr,null)))}}]),t}(a.Component)),sr=n.a.createContext({}),cr=function(e){function t(e){var r;return Object(_.a)(this,t),(r=Object(E.a)(this,Object(x.a)(t).call(this,e))).toggle=r.toggle.bind(Object(C.a)(r)),r.solo=r.solo.bind(Object(C.a)(r)),r}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.metagraph.metanode_kinds!==this.props.metagraph.metanode_kinds){var t=[],r=!0,a=!1,n=void 0;try{for(var o,i=this.props.metagraph.metanode_kinds[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;t.push({name:l,active:!0})}}catch(s){a=!0,n=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}t=g(t,["Gene","Compound","Anatomy","Disease","Symptom","Side Effect","Biological Process","Cellular Component","Molecular Function","Pathway","Pharmacolocic Class"],"name"),this.props.updateFilters(t,"")}}},{key:"allOn",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){if(!n.value.active)return!1}}catch(i){r=!0,a=i}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!0}},{key:"allOthersOff",value:function(e,t){var r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;if(t!==l.name&&l.active)return!1}}catch(s){a=!0,n=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return!0}},{key:"toggle",value:function(e){var t=k(this.props.filters),r=!0,a=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;l.name===e&&(l.active=!l.active)}}catch(s){a=!0,n=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}this.props.updateFilters(t,this.toString(t))}},{key:"solo",value:function(e){var t=k(this.props.filters),r=this.allOthersOff(t,e),a=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value;r?s.active=!0:e===s.name?s.active=!0:s.active=!1}}catch(c){n=!0,o=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}this.props.updateFilters(t,this.toString(t))}},{key:"toString",value:function(e){if(this.allOn(e))return"";var t=[],r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;l.active&&t.push(this.props.metagraph.kind_to_abbrev[l.name])}}catch(s){a=!0,n=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return t.join(",")}},{key:"render",value:function(){var e=this,t=this.props.filters.map(function(t,r){return n.a.createElement(hr,{key:r,name:t.name,tooltipText:e.props.hetioDefinitions.metanodes[t.name],active:t.active,toggle:e.toggle,solo:e.solo})});return n.a.createElement(n.a.Fragment,null,t)}}]),t}(a.Component);cr=Object(c.b)(function(e){return{metagraph:e.metagraph,hetioDefinitions:e.hetioDefinitions}})(cr);var hr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Tt,{className:"node_search_filter_button"+(this.props.active?"":" node_search_filter_button_off"),tooltipText:this.props.tooltipText,onClick:function(){return e.props.toggle(e.props.name)},onCtrlClick:function(){return e.props.solo(e.props.name)}},n.a.createElement(wt,{type:this.props.name}),this.props.name)}}]),t}(a.Component),ur=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).onChange=e.onChange.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onChange",value:function(e){this.props.dispatch(Jt({sourceNode:e})),e&&document.activeElement.blur()}},{key:"render",value:function(){return n.a.createElement(dr,{label:"Source Node",tooltipText:"The starting node of the paths",node:this.props.node,otherNode:this.props.otherNode,onChange:this.onChange})}}]),t}(a.Component);ur=Object(c.b)(function(e){return{node:e.sourceNode,otherNode:e.targetNode}})(ur);var pr=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).onChange=e.onChange.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onChange",value:function(e){this.props.dispatch(Jt({targetNode:e})),e&&document.activeElement.blur()}},{key:"render",value:function(){return n.a.createElement(dr,{label:"Target Node",tooltipText:"The ending node of the paths",node:this.props.node,otherNode:this.props.otherNode,onChange:this.onChange})}}]),t}(a.Component);pr=Object(c.b)(function(e){return{node:e.targetNode,otherNode:e.sourceNode}})(pr);var dr=function(e){function t(e){var r;return Object(_.a)(this,t),(r=Object(E.a)(this,Object(x.a)(t).call(this,e))).state={},r.state.searchResults=[],r.inputRef=n.a.createRef(),r.formRef=n.a.createRef(),r.onInput=r.onInput.bind(Object(C.a)(r)),r}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onInput",value:function(e){var t,r=this,a="";this.props.otherNode&&void 0!==this.props.otherNode.id&&(a=this.props.otherNode.id),""===e&&""!==a?(t=a,qt(Qt+t).then(function(e){return e.results})).then(function(e){return r.setState({searchResults:e||[]})}):function(e,t,r){var a=new URLSearchParams;return a.set("search",e),a.set("limit","100"),t&&a.set("metanodes",t),r&&a.set("count-metapaths-to",r),qt(Ft+"?"+a.toString()).then(function(e){return e.results})}(e,this.context.filterString,a).then(function(e){return r.setState({searchResults:e||[]})})}},{key:"itemToString",value:function(e){return e&&e.name?e.name:""}},{key:"render",value:function(){var e=this;return n.a.createElement(F.a,{onChange:this.props.onChange,onBlur:this.onBlur,onInputValueChange:this.onInput,itemToString:this.itemToString,selectedItem:this.props.node},function(t){var r=t.getInputProps,a=t.getItemProps,o=t.getMenuProps,i=t.isOpen,l=t.selectedItem,s=t.highlightedIndex,c=t.clearSelection,h=t.openMenu;return n.a.createElement("div",{className:"node_search_form",ref:e.formRef},n.a.createElement("span",{className:"small light node_search_form_label"},n.a.createElement(Mt,{text:e.props.tooltipText},e.props.label)),n.a.createElement(fr,{inputRef:e.inputRef,getInputProps:r,clearSelection:c,selectedItem:l,onFocus:e.onInput,openMenu:h}),n.a.createElement(mr,{isOpen:i,inputRef:e.inputRef,formRef:e.formRef,getMenuProps:o,searchResults:e.state.searchResults,showMetapathCount:void 0!==e.props.otherNode.id,selectedItem:l,highlightedIndex:s,getItemProps:a}))})}}]),t}(a.Component);dr.contextType=sr;var fr=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.focused=!1,e.onInput=e.onInput.bind(Object(C.a)(e)),e.onFocus=e.onFocus.bind(Object(C.a)(e)),e.onBlur=e.onBlur.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onInput",value:function(e){""===e.target.value&&this.props.clearSelection()}},{key:"onFocus",value:function(e){this.props.onFocus(e.target.value),this.props.openMenu(),this.setState({focused:!0})}},{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"render",value:function(){var e=n.a.createElement(n.a.Fragment,null),t=!this.state.focused&&this.props.selectedItem.metanode&&this.props.selectedItem.name;return t&&(e=n.a.createElement("div",{className:"node_search_field_overlay"},n.a.createElement(wt,{type:this.props.selectedItem.metanode}),n.a.createElement("span",{className:"node_search_results_item_name nowrap"},this.props.selectedItem.name))),n.a.createElement(n.a.Fragment,null,n.a.createElement(B.a,Object.assign({},this.props.getInputProps({onChange:this.onInput}),{inputRef:this.props.inputRef,placeholder:"id, name, or metanode",classes:{root:"node_search_field_container"},InputProps:{classes:{root:"node_search_field",focused:"node_search_field_focused",input:t?"node_search_input_blank":"node_search_input"}},onFocus:this.onFocus,onBlur:this.onBlur})),e,n.a.createElement("div",{className:"node_search_icon"},n.a.createElement(J.a,{icon:X.q})))}}]),t}(a.Component),mr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(z.a,Object.assign({open:this.props.isOpen,anchorEl:this.props.inputRef.current,placement:"bottom-start",className:"node_search_results_popper",container:this.props.formRef.current,disablePortal:!0},this.props.getMenuProps()),n.a.createElement(G.a,{className:"node_search_results_paper"},this.props.searchResults.map(function(t,r){return n.a.createElement(K.a,Object.assign({className:"node_search_results_item"+(e.props.selectedItem.id===t.id?" node_search_results_item_selected":"")+(e.props.highlightedIndex===r?" node_search_results_item_selected":"")},e.props.getItemProps({item:t,key:r})),n.a.createElement(wt,{type:t.metanode}),n.a.createElement("span",{className:"node_search_results_item_name"},t.name),e.props.showMetapathCount&&n.a.createElement("span",{className:"node_search_results_item_count"},n.a.createElement(ir,null),n.a.createElement("span",null,t.metapath_count||0)))})))}}]),t}(a.Component),vr=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).onClick=e.onClick.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onClick",value:function(){this.props.dispatch({type:"swap_source_target_nodes",updateUrl:!1})}},{key:"render",value:function(){return n.a.createElement(Tt,{tooltipText:"Swap source and target node",className:"node_search_swap_button",onClick:this.onClick},n.a.createElement(J.a,{icon:X.i}))}}]),t}(a.Component);vr=Object(c.b)()(vr);var gr=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).onClick=e.onClick.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onClick",value:function(){var e=this;qt(Bt).then(function(e){return e}).then(function(e){return Promise.all([Gt(e.source_id),Gt(e.target_id)])}).then(function(t){var r=Object(j.a)(t,2),a=r[0],n=r[1];return e.props.dispatch(Jt({sourceNode:a,targetNode:n}))})}},{key:"render",value:function(){return n.a.createElement(Tt,{tooltipText:"Get random source/target node pair that has at least one metapath result",className:"node_search_swap_button",onClick:this.onClick},n.a.createElement(J.a,{icon:X.g}))}}]),t}(a.Component);gr=Object(c.b)()(gr);r(258);var yr=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.focused=!1,e.field=n.a.createRef(),e.onClick=e.onClick.bind(Object(C.a)(e)),e.onBlur=e.onBlur.bind(Object(C.a)(e)),e.onFocus=e.onFocus.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onClick",value:function(e){e&&e.target&&"a"===e.target.tagName.toLowerCase()&&e.target.click(),this.field.current.focus()}},{key:"onBlur",value:function(){this.setState({focused:!1},this.deselectAll)}},{key:"onFocus",value:function(){this.setState({focused:!0},this.selectAll)}},{key:"deselectAll",value:function(){window.getSelection().empty()}},{key:"selectAll",value:function(){window.setTimeout(function(){window.getSelection().empty(),window.getSelection().selectAllChildren(document.activeElement)},10)}},{key:"render",value:function(){var e;return"string"===typeof(e=this.state.focused&&this.props.fullValue||this.props.value)&&(e=n.a.createElement("span",{className:"nowrap"},e)),n.a.createElement("div",{ref:this.field,tabIndex:"0",onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur,className:"dynamic_field "+(this.props.className||""),"data-expanded":this.state.focused},e)}}]),t}(a.Component),br=(r(259),function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.collapsed=!1,e.loadState=e.loadState.bind(Object(C.a)(e)),e.saveState=e.saveState.bind(Object(C.a)(e)),e.toggle=e.toggle.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.loadState()&&this.setState({collapsed:!0})}},{key:"loadState",value:function(){var e=this.props.label;return e&&"true"===window.localStorage.getItem(e)}},{key:"saveState",value:function(e){var t=this.props.label;t&&window.localStorage.setItem(t,String("true"===String(e)))}},{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed}),this.saveState(!this.state.collapsed)}},{key:"render",value:function(){return n.a.createElement("div",{className:"collapsible_section","data-collapsed":this.state.collapsed},n.a.createElement(Tt,{tooltipText:this.props.tooltipText,className:"collapsible_section_header",onClick:this.toggle},n.a.createElement("div",null,this.props.label),n.a.createElement(J.a,{icon:this.state.collapsed?X.d:X.a})),this.props.children)}}]),t}(a.Component)),Or=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("section",null,n.a.createElement(kr,{label:"Source Node",node:this.props.sourceNode}),n.a.createElement(kr,{label:"Target Node",node:this.props.targetNode}))}}]),t}(a.Component);Or=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode}})(Or);var kr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement(br,{label:this.props.label,tooltipText:"Details about the "+this.props.label.toLowerCase()},this.props.node.name?n.a.createElement(jr,{node:this.props.node}):n.a.createElement(_r,{label:this.props.label}))}}]),t}(a.Component),jr=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.showMore=!1,e.toggleShowMore=e.toggleShowMore.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"toggleShowMore",value:function(){this.setState({showMore:!this.state.showMore})}},{key:"rows",value:function(){var e=this,t={};this.props.hetioDefinitions.properties&&(t=Object(h.a)({},t,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),t=Object(h.a)({},t,this.props.hetmechDefinitions);var r=["name","metanode","source","identifier","id"];r=r.map(function(r){var a;if("metanode"===r)a=n.a.createElement(n.a.Fragment,null,n.a.createElement(wt,{type:e.props.node[r]}),n.a.createElement("span",{className:"nowrap"},e.props.node[r]));else if("source"===r){var o=e.props.node.url||e.props.node.properties.url||"",i=e.props.node.properties.source||o;i=function(e){for(var t=0,r=["^http://","^https://","^www."];t<r.length;t++){var a=r[t];e=e.replace(new RegExp(a),"")}return e}(i),a=n.a.createElement("a",{className:"nowrap",href:o},i)}return{firstCol:r,secondCol:a||String(e.props.node[r]),tooltipText:t[r]}}),this.state.showMore||(r.splice(r.findIndex(function(e){return"id"===e.firstCol}),1),r.splice(r.findIndex(function(e){return"identifier"===e.firstCol}),1));var a=[];this.state.showMore&&((a=Object.keys(this.props.node.properties)).splice(a.indexOf("source"),1),a.splice(a.indexOf("url"),1),a=a.map(function(r){return{firstCol:r,secondCol:String(e.props.node.properties[r]),tooltipText:t[r]}}));var o=r.concat(a);return(o=g(o,["name","metanode","source","description","identifier","id"],"firstCol")).map(function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"col_s small light"},n.a.createElement(Mt,{text:e.tooltipText},e.firstCol)),n.a.createElement("td",null,n.a.createElement(yr,{value:e.secondCol,className:"left"})))})}},{key:"render",value:function(){return n.a.createElement("table",{className:"node_results_table"},n.a.createElement("tbody",null,this.rows(),n.a.createElement("tr",null,n.a.createElement("td",{className:"center",colSpan:"2"},n.a.createElement(Dt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?X.d:X.a,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Show more information about the node"})))))}}]),t}(a.Component);jr=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(jr);var _r=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("table",{className:"node_results_table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"center light"},"select a ",this.props.label.toLowerCase()))))}}]),t}(a.Component),wr=(r(260),function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("section",null,n.a.createElement(br,{label:"Metapaths",tooltipText:"Metapaths of length <= 3 between the source and target node"},this.props.metapaths.length>0?n.a.createElement(Er,null):n.a.createElement(Dr,null)))}}]),t}(a.Component));wr=Object(c.b)(function(e){return{metapaths:e.metapaths}})(wr);var Er=function(e){function t(e){var r;return Object(_.a)(this,t),(r=Object(E.a)(this,Object(x.a)(t).call(this,e))).state={},r.state.showMore=!1,r.state.allChecked=!1,r.state.sortColumn="adjusted_p_value",r.state.sortUp=!1,r.toggleShowMore=r.toggleShowMore.bind(Object(C.a)(r)),r.toggleAllChecked=r.toggleAllChecked.bind(Object(C.a)(r)),r.allChecked=r.allChecked.bind(Object(C.a)(r)),r.checkAll=r.checkAll.bind(Object(C.a)(r)),r.uncheckAll=r.uncheckAll.bind(Object(C.a)(r)),r.allOthersUnchecked=r.allOthersUnchecked.bind(Object(C.a)(r)),r.toggleChecked=r.toggleChecked.bind(Object(C.a)(r)),r.soloChecked=r.soloChecked.bind(Object(C.a)(r)),r.changeSort=r.changeSort.bind(Object(C.a)(r)),r.downloadCsv=r.downloadCsv.bind(Object(C.a)(r)),r}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.metapaths!==e.metapaths&&this.updateAllChecked()}},{key:"updateAllChecked",value:function(){this.allChecked()?this.setState({allChecked:!0}):this.setState({allChecked:!1})}},{key:"toggleShowMore",value:function(e){e&&e.preventDefault(),this.setState({showMore:!this.state.showMore})}},{key:"toggleAllChecked",value:function(){this.allChecked()?this.uncheckAll():this.checkAll()}},{key:"allChecked",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.props.metapaths[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){if(!a.value.checked)return!1}}catch(o){t=!0,r=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}return!0}},{key:"checkAll",value:function(){var e=k(this.props.metapaths),t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.checked=!0}}catch(i){r=!0,a=i}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}this.props.dispatch(Xt({metapaths:e}))}},{key:"uncheckAll",value:function(){var e=k(this.props.metapaths),t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.checked=!1}}catch(i){r=!0,a=i}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}this.props.dispatch(Xt({metapaths:e}))}},{key:"allOthersUnchecked",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=this.props.metapaths[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;if(e!==i.id&&i.checked)return!1}}catch(l){r=!0,a=l}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!0}},{key:"toggleChecked",value:function(e){var t=k(this.props.metapaths),r=!0,a=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;l.id===e&&(l.checked=!l.checked)}}catch(s){a=!0,n=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}this.props.dispatch(Xt({metapaths:t}))}},{key:"soloChecked",value:function(e){var t=k(this.props.metapaths),r=this.allOthersUnchecked(e),a=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value;r||e===s.id?s.checked=!0:s.checked=!1}}catch(c){n=!0,o=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}this.props.dispatch(Xt({metapaths:t}))}},{key:"changeSort",value:function(e){var t={};t.sortColumn=e,e===this.state.sortColumn?t.sortUp=!this.state.sortUp:t.sortUp=!0,this.setState(t)}},{key:"compareNumbers",value:function(e,t,r){var a=Number(e[r])-Number(t[r]);return Number.isNaN(a)?e[r]<t[r]?-1:e[r]>t[r]?1:0:a}},{key:"compareMetapaths",value:function(e,t,r){return e=e[r],t=t[r],e.length<t.length?-1:e.length>t.length?1:e<t?-1:e>t?1:0}},{key:"downloadCsv",value:function(){this.props.metapaths.length&&this.props.sourceNode.name&&this.props.targetNode.name&&m(function(e){for(var t=[],r=0,a=Object.keys(e[0]);r<a.length;r++){var n=a[r];"number"!==typeof e[0][n]&&"string"!==typeof e[0][n]||t.push(n)}t=g(t=t.filter(function(e){return"cypher_query"!==e}),["id","metapath_name","metapath_abbreviation","path_count","adjusted_p_value","p_value","dwpc","dgp_source_degree","dgp_target_degree","dgp_n_dwpcs","dgp_n_nonzero_dwpcs","dgp_nonzero_mean","dgp_nonzero_sd"]);var o=[];o.push(t);var i=!0,l=!1,s=void 0;try{for(var c,h=e[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){var u=c.value,p=[],d=!0,f=!1,m=void 0;try{for(var v,y=t[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=v.value;p.push(u[b])}}catch(O){f=!0,m=O}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}o.push(p)}}catch(O){l=!0,s=O}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}return o}(this.props.metapaths),["metapaths",v(this.props.sourceNode.name),v(this.props.targetNode.name)].join("_"))}},{key:"render",value:function(){var e=this,t=this.props.metapaths,r=this.state.sortColumn;"metapath_metaedges"===r?t.sort(function(t,a){return e.compareMetapaths(t,a,r)}):t.sort(function(t,a){return e.compareNumbers(t,a,r)}),this.state.sortUp&&t.reverse();var a=t.length,o=0,i=!0,l=!1,s=void 0;try{for(var c,h=t[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){c.value.checked&&o++}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}return n.a.createElement(xr.Provider,{value:{sortedMetapaths:t,showMore:this.state.showMore,allChecked:this.state.allChecked,toggleAllChecked:this.toggleAllChecked,toggleChecked:this.toggleChecked,soloChecked:this.soloChecked,sortColumn:this.state.sortColumn,sortUp:this.state.sortUp,changeSort:this.changeSort}},n.a.createElement("div",{className:"table_attic"},n.a.createElement(Dt,{text:".csv",icon:X.h,className:"link_button small",onClick:this.downloadCsv,tooltipText:"Download table as .csv file"}),n.a.createElement(Dt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?X.b:X.c,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Expand table and show more columns"}),n.a.createElement("div",{className:"small light right"},a," results, ",o," selected")),n.a.createElement("div",{className:"table_container","data-expanded":this.state.showMore},n.a.createElement("table",{className:"metapath_results_table"},n.a.createElement(Cr,null),n.a.createElement(Mr,null))))}}]),t}(a.Component),xr=n.a.createContext({});Er=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metapaths:e.metapaths}})(Er);var Cr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=n.a.createElement("tr",null,n.a.createElement("td",{className:"col_xs"}),n.a.createElement("td",{className:"col_l"}),n.a.createElement("td",{className:"col_s"}),n.a.createElement("td",{className:"col_m"}),n.a.createElement("td",{className:"col_m"}),n.a.createElement("td",{className:"col_s"}),n.a.createElement("td",{className:"col_xxl center",colSpan:"6"},n.a.createElement("div",{className:"divider"},"Null DWPC distribution information")),n.a.createElement("td",{className:"col_l"})),r={};this.props.hetioDefinitions.properties&&(r=Object(h.a)({},r,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),r=Object(h.a)({},r,this.props.hetmechDefinitions);var a=n.a.createElement(n.a.Fragment,null,n.a.createElement("td",{className:"col_xs"},n.a.createElement(Lt,{checked:this.context.allChecked,onClick:function(){return e.context.toggleAllChecked()},onCtrlClick:function(){return e.context.toggleAllChecked()},tooltipText:"Show all paths"})),n.a.createElement(Nr,{className:"col_l",buttonClass:"left",fieldName:"metapath_metaedges",tooltipText:r.metapath,text:"metapath"}),n.a.createElement(Nr,{className:"col_s",fieldName:"path_count",tooltipText:r.path_count,text:"path count"}),n.a.createElement(Nr,{className:"col_m",fieldName:"adjusted_p_value",tooltipText:r.adjusted_p_value,text:n.a.createElement("span",null,"adjusted",n.a.createElement("br",null),n.a.createElement("i",null,"p"),"-value")})),o=n.a.createElement(n.a.Fragment,null,n.a.createElement(Nr,{className:"col_m",fieldName:"p_value",tooltipText:r.p_value,text:n.a.createElement(n.a.Fragment,null,n.a.createElement("i",null,"p"),"-value")}),n.a.createElement(Nr,{className:"col_s",fieldName:"dwpc",tooltipText:r.dwpc,text:"DWPC"}),n.a.createElement(Nr,{fieldName:"dgp_source_degree",tooltipText:r.dgp_source_degree,text:"source degree"}),n.a.createElement(Nr,{fieldName:"dgp_target_degree",tooltipText:r.dgp_target_degree,text:"target degree"}),n.a.createElement(Nr,{fieldName:"dgp_n_dwpcs",tooltipText:r.dgp_n_dwpcs,text:"# DWPC's"}),n.a.createElement(Nr,{fieldName:"dgp_n_nonzero_dwpcs",tooltipText:r.dgp_n_nonzero_dwpcs,text:"# non-0 DWPC's"}),n.a.createElement(Nr,{fieldName:"dgp_nonzero_mean",tooltipText:r.dgp_nonzero_mean,text:"non-0 mean"}),n.a.createElement(Nr,{fieldName:"dgp_nonzero_sd",tooltipText:r.dgp_nonzero_sd,text:n.a.createElement(n.a.Fragment,null,"non-0 \u03c3")}),n.a.createElement(Nr,{fieldName:"cypher_query",tooltipText:r.cypher_query,text:n.a.createElement("a",{href:"https://neo4j.het.io/browser/",target:"_blank",rel:"noopener noreferrer"},"neo4j query")}));return n.a.createElement("thead",{className:"small light"},this.context.showMore&&t,n.a.createElement("tr",null,a,this.context.showMore&&o))}}]),t}(a.Component);Cr.contextType=xr,Cr=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(Cr);var Nr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("td",{className:this.props.className},n.a.createElement(Sr,{text:this.props.text,tooltipText:this.props.tooltipText,fieldName:this.props.fieldName,className:this.props.buttonClass}))}}]),t}(a.Component),Sr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Tt,{tooltipText:this.props.tooltipText,className:"sort_button "+(this.props.className||""),onClick:function(){return e.context.changeSort(e.props.fieldName)}},this.props.text,n.a.createElement(J.a,{icon:this.props.fieldName===this.context.sortColumn?this.context.sortUp?X.t:X.s:X.r}))}}]),t}(a.Component);Sr.contextType=xr;var Mr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("tbody",null,this.context.sortedMetapaths.map(function(t,r){return n.a.createElement(Pr,{key:r,metapath:t,checked:t.checked,showMore:e.props.showMore})}))}}]),t}(a.Component);Mr.contextType=xr;var Pr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e,t=this,r=this.props.metapath,a=n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,n.a.createElement(Lt,{checked:this.props.checked,onClick:function(){return t.context.toggleChecked(t.props.metapath.id)},onCtrlClick:function(){return t.context.soloChecked(t.props.metapath.id)},tooltipText:"Show these "+(this.props.metapath.path_count||"")+" paths in the paths table"})),n.a.createElement(Tr,{fieldClass:"left",value:(e=r.metapath_metaedges,e.map(function(t,r){return n.a.createElement(n.a.Fragment,{key:r},n.a.createElement(wt,{type:t[0]}),n.a.createElement(Et,{type:t[2],direction:t[3]}),r===e.length-1&&n.a.createElement(wt,{type:t[1]}))})),fullValue:r.metapath_name}),n.a.createElement(Tr,{value:r.path_count}),n.a.createElement(Tr,{style:{backgroundColor:f(r.adjusted_p_value)},value:u(r.adjusted_p_value),fullValue:r.adjusted_p_value})),o=n.a.createElement(n.a.Fragment,null,n.a.createElement(Tr,{style:{backgroundColor:f(r.p_value)},value:u(r.p_value),fullValue:r.p_value}),n.a.createElement(Tr,{value:p(r.dwpc),fullValue:r.dwpc}),n.a.createElement(Tr,{value:r.dgp_source_degree}),n.a.createElement(Tr,{value:r.dgp_target_degree}),n.a.createElement(Tr,{value:d(r.dgp_n_dwpcs)}),n.a.createElement(Tr,{value:d(r.dgp_n_nonzero_dwpcs)}),n.a.createElement(Tr,{value:p(r.dgp_nonzero_mean),fullValue:r.dgp_nonzero_mean}),n.a.createElement(Tr,{value:p(r.dgp_nonzero_sd),fullValue:r.dgp_nonzero_sd}),n.a.createElement(Tr,{value:O(r.cypher_query,16),fullValue:n.a.createElement("textarea",{rows:"4",cols:"50"},r.cypher_query)}));return n.a.createElement("tr",null,a,this.context.showMore&&o)}}]),t}(a.Component);Pr.contextType=xr;var Tr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("td",{className:this.props.className,style:this.props.style},n.a.createElement(yr,{value:this.props.value,fullValue:this.props.fullValue,className:this.props.fieldClass}))}}]),t}(a.Component),Dr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("table",{className:"metapath_results_table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"center light"},"no results to show"))))}}]),t}(a.Component);var Lr=r(45),Rr=(r(261),function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("section",null,n.a.createElement(br,{label:"Paths",tooltipText:"Paths of the selected metapaths"},this.props.pathQueries.length>0?n.a.createElement(Ar,null):n.a.createElement(Vr,null)))}}]),t}(a.Component));Rr=Object(c.b)(function(e){return{pathQueries:e.pathQueries}})(Rr);var Ar=function(e){function t(e){var r;return Object(_.a)(this,t),(r=Object(E.a)(this,Object(x.a)(t).call(this,e))).state={},r.state.showMore=!1,r.state.allChecked=!1,r.state.allHighlighted=!1,r.state.sortColumn="score",r.state.sortUp=!0,r.toggleShowMore=r.toggleShowMore.bind(Object(C.a)(r)),r.toggleAllChecked=r.toggleAllChecked.bind(Object(C.a)(r)),r.allChecked=r.allChecked.bind(Object(C.a)(r)),r.checkAll=r.checkAll.bind(Object(C.a)(r)),r.uncheckAll=r.uncheckAll.bind(Object(C.a)(r)),r.allOthersUnchecked=r.allOthersUnchecked.bind(Object(C.a)(r)),r.toggleChecked=r.toggleChecked.bind(Object(C.a)(r)),r.soloChecked=r.soloChecked.bind(Object(C.a)(r)),r.toggleAllHighlighted=r.toggleAllHighlighted.bind(Object(C.a)(r)),r.allHighlighted=r.allHighlighted.bind(Object(C.a)(r)),r.highlightAll=r.highlightAll.bind(Object(C.a)(r)),r.unhighlightAll=r.unhighlightAll.bind(Object(C.a)(r)),r.allOthersUnhighlighted=r.allOthersUnhighlighted.bind(Object(C.a)(r)),r.toggleHighlighted=r.toggleHighlighted.bind(Object(C.a)(r)),r.soloHighlighted=r.soloHighlighted.bind(Object(C.a)(r)),r.changeSort=r.changeSort.bind(Object(C.a)(r)),r.downloadCsv=r.downloadCsv.bind(Object(C.a)(r)),r}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.pathQueries!==e.pathQueries&&(this.updateAllChecked(),this.updateAllHighlighted())}},{key:"toggleShowMore",value:function(e){e&&e.preventDefault(),this.setState({showMore:!this.state.showMore})}},{key:"updateAllChecked",value:function(){this.allChecked()?this.setState({allChecked:!0}):this.setState({allChecked:!1})}},{key:"toggleAllChecked",value:function(){this.allChecked()?this.uncheckAll():this.checkAll()}},{key:"allChecked",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.props.pathQueries[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value,i=!0,l=!1,s=void 0;try{for(var c,h=o.paths[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){if(!c.value.checked)return!1}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}}}catch(u){t=!0,r=u}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}return!0}},{key:"checkAll",value:function(){var e=k(this.props.pathQueries),t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.checked=!0}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){r=!0,a=p}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}this.props.dispatch(Yt({pathQueries:e}))}},{key:"uncheckAll",value:function(){var e=k(this.props.pathQueries),t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.checked=!1}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){r=!0,a=p}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}this.props.dispatch(Yt({pathQueries:e}))}},{key:"allOthersUnchecked",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=this.props.pathQueries[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){var p=h.value;if(!this.comparePaths(p,e)&&p.checked)return!1}}catch(d){s=!0,c=d}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(d){r=!0,a=d}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!0}},{key:"toggleChecked",value:function(e){var t=k(this.props.pathQueries),r=!0,a=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,s=!0,c=!1,h=void 0;try{for(var u,p=l.paths[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;this.comparePaths(d,e)&&(d.checked=!d.checked)}}catch(f){c=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw h}}}}catch(f){a=!0,n=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}this.props.dispatch(Yt({pathQueries:t}))}},{key:"soloChecked",value:function(e){var t=k(this.props.pathQueries),r=this.allOthersUnchecked(e),a=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value,c=!0,h=!1,u=void 0;try{for(var p,d=s.paths[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var f=p.value;r||this.comparePaths(f,e)?f.checked=!0:f.checked=!1}}catch(m){h=!0,u=m}finally{try{c||null==d.return||d.return()}finally{if(h)throw u}}}}catch(m){n=!0,o=m}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}this.props.dispatch(Yt({pathQueries:t}))}},{key:"updateAllHighlighted",value:function(){this.allHighlighted()?this.setState({allHighlighted:!0}):this.setState({allHighlighted:!1})}},{key:"toggleAllHighlighted",value:function(){this.allHighlighted()?this.unhighlightAll():this.highlightAll()}},{key:"allHighlighted",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.props.pathQueries[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value,i=!0,l=!1,s=void 0;try{for(var c,h=o.paths[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){if(!c.value.highlighted)return!1}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}}}catch(u){t=!0,r=u}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}return!0}},{key:"highlightAll",value:function(){var e=k(this.props.pathQueries),t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.highlighted=!0}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){r=!0,a=p}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}this.props.dispatch(Yt({pathQueries:e}))}},{key:"unhighlightAll",value:function(){var e=k(this.props.pathQueries),t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.highlighted=!1}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){r=!0,a=p}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}this.props.dispatch(Yt({pathQueries:e}))}},{key:"allOthersUnhighlighted",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=this.props.pathQueries[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){var p=h.value;if(!this.comparePaths(p,e)&&p.highlighted)return!1}}catch(d){s=!0,c=d}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(d){r=!0,a=d}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!0}},{key:"toggleHighlighted",value:function(e){var t=k(this.props.pathQueries),r=!0,a=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,s=!0,c=!1,h=void 0;try{for(var u,p=l.paths[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;this.comparePaths(d,e)&&(d.highlighted=!d.highlighted)}}catch(f){c=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw h}}}}catch(f){a=!0,n=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}this.props.dispatch(Yt({pathQueries:t}))}},{key:"soloHighlighted",value:function(e){var t=k(this.props.pathQueries),r=this.allOthersUnhighlighted(e),a=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value,c=!0,h=!1,u=void 0;try{for(var p,d=s.paths[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var f=p.value;r?f.highlighted=!0:this.comparePaths(f,e)?f.highlighted=!0:f.highlighted=!1}}catch(m){h=!0,u=m}finally{try{c||null==d.return||d.return()}finally{if(h)throw u}}}}catch(m){n=!0,o=m}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}this.props.dispatch(Yt({pathQueries:t}))}},{key:"comparePaths",value:function(e,t){return b(e.node_ids,t.node_ids)&&b(e.rel_ids,t.rel_ids)}},{key:"changeSort",value:function(e){var t={};t.sortColumn=e,e===this.state.sortColumn?t.sortUp=!this.state.sortUp:t.sortUp=!0,this.setState(t)}},{key:"compareNumbers",value:function(e,t,r){var a=Number(e[r])-Number(t[r]);return Number.isNaN(a)?e[r]<t[r]?-1:e[r]>t[r]?1:0:a}},{key:"downloadCsv",value:function(){this.props.pathQueries.length&&this.props.sourceNode.name&&this.props.targetNode.name&&m(function(e){var t={},r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;t=Object(h.a)({},t,l.nodes)}}catch(Q){a=!0,n=Q}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}var s={},c=!0,u=!1,p=void 0;try{for(var d,f=e[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;s=Object(h.a)({},s,m.relationships)}}catch(Q){u=!0,p=Q}finally{try{c||null==f.return||f.return()}finally{if(u)throw p}}var v=[],y=!0,b=!1,O=void 0;try{for(var k,j=e[Symbol.iterator]();!(y=(k=j.next()).done);y=!0){var _=k.value;v=[].concat(Object(Lr.a)(v),Object(Lr.a)(_.paths))}}catch(Q){b=!0,O=Q}finally{try{y||null==j.return||j.return()}finally{if(b)throw O}}for(var w=0,E=v;w<E.length;w++){var x=E[w];x.description=qr(zr(x,t,s)).join("")}for(var C=[],N=0,S=Object.keys(v[0]);N<S.length;N++){var M=S[N];"number"!==typeof v[0][M]&&"string"!==typeof v[0][M]||C.push(M)}C=g(C,["description","metapath","score","percent_of_DWPC"]);var P=[];P.push(C);for(var T=0,D=v;T<D.length;T++){var L=D[T],R=[],A=!0,U=!1,W=void 0;try{for(var H,I=C[Symbol.iterator]();!(A=(H=I.next()).done);A=!0){var F=H.value;R.push(L[F])}}catch(Q){U=!0,W=Q}finally{try{A||null==I.return||I.return()}finally{if(U)throw W}}P.push(R)}return P}(this.props.pathQueries),["paths",v(this.props.sourceNode.name),v(this.props.targetNode.name)].join("_"))}},{key:"render",value:function(){var e=this,t={},r=!0,a=!1,o=void 0;try{for(var i,l=this.props.pathQueries[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;t=Object(h.a)({},t,s.nodes)}}catch(W){a=!0,o=W}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}var c={},u=!0,p=!1,d=void 0;try{for(var f,m=this.props.pathQueries[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var v=f.value;c=Object(h.a)({},c,v.relationships)}}catch(W){p=!0,d=W}finally{try{u||null==m.return||m.return()}finally{if(p)throw d}}var g=[],y=!0,b=!1,O=void 0;try{for(var k,j=this.props.pathQueries[Symbol.iterator]();!(y=(k=j.next()).done);y=!0){var _=k.value;g=[].concat(Object(Lr.a)(g),Object(Lr.a)(_.paths))}}catch(W){b=!0,O=W}finally{try{y||null==j.return||j.return()}finally{if(b)throw O}}g=g.map(function(r){return Object(h.a)({},r,{chipDescription:xt(zr(r,t,c),e.state.showMore),textDescription:qr(zr(r,t,c))})});var w=this.state.sortColumn;g.sort(function(t,r){return e.compareNumbers(t,r,w)}),this.state.sortUp&&g.reverse();var E=g.length,x=0,C=!0,N=!1,S=void 0;try{for(var M,P=g[Symbol.iterator]();!(C=(M=P.next()).done);C=!0){M.value.checked&&x++}}catch(W){N=!0,S=W}finally{try{C||null==P.return||P.return()}finally{if(N)throw S}}var T=0,D=!0,L=!1,R=void 0;try{for(var A,U=g[Symbol.iterator]();!(D=(A=U.next()).done);D=!0){A.value.highlighted&&T++}}catch(W){L=!0,R=W}finally{try{D||null==U.return||U.return()}finally{if(L)throw R}}return n.a.createElement(Ur.Provider,{value:{sortedPaths:g,showMore:this.state.showMore,allChecked:this.state.allChecked,toggleAllChecked:this.toggleAllChecked,toggleChecked:this.toggleChecked,soloChecked:this.soloChecked,allHighlighted:this.state.allHighlighted,toggleAllHighlighted:this.toggleAllHighlighted,toggleHighlighted:this.toggleHighlighted,soloHighlighted:this.soloHighlighted,sortColumn:this.state.sortColumn,sortUp:this.state.sortUp,changeSort:this.changeSort}},n.a.createElement("div",{className:"table_attic"},n.a.createElement(Dt,{text:".csv",icon:X.h,className:"link_button small",onClick:this.downloadCsv,tooltipText:"Download table as .csv file"}),n.a.createElement(Dt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?X.b:X.c,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Expand table"}),n.a.createElement("div",{className:"small light right"},E," results, ",x," selected,"," ",T," highlighted")),n.a.createElement("div",{className:"table_container","data-expanded":this.state.showMore},n.a.createElement("table",{className:"path_results_table","data-expanded":this.state.showMore},n.a.createElement(Wr,null),n.a.createElement(Fr,null))))}}]),t}(a.Component),Ur=n.a.createContext({});Ar=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metagraph:e.metagraph,pathQueries:e.pathQueries}})(Ar);var Wr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t={};this.props.hetioDefinitions.properties&&(t=Object(h.a)({},t,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),t=Object(h.a)({},t,this.props.hetmechDefinitions);var r=n.a.createElement(n.a.Fragment,null,n.a.createElement("td",{className:"col_xs"},n.a.createElement(Rt,{checked:this.context.allChecked,onClick:function(){return e.context.toggleAllChecked()},onCtrlClick:function(){return e.context.toggleAllChecked()},tooltipText:"Show all paths"})),n.a.createElement("td",{className:"col_xs"},n.a.createElement(At,{checked:this.context.allHighlighted,onClick:function(){return e.context.toggleAllHighlighted()},onCtrlClick:function(){return e.context.toggleAllHighlighted()},tooltipText:"Highlight all paths"})),n.a.createElement(Hr,{className:"col_s left",buttonClass:"left",fieldName:"metapath",tooltipText:t.metapath,text:"metapath"}),n.a.createElement(Hr,{className:"col_xl left",buttonClass:"left",fieldName:"textDescription",tooltipText:t.path,text:"path"}),n.a.createElement(Hr,{className:"col_s",fieldName:"score",tooltipText:t.score,text:"path score"}),n.a.createElement(Hr,{className:"col_s",fieldName:"percent_of_DWPC",tooltipText:t.percent_of_DWPC,text:"% of DWPC"}));return n.a.createElement("thead",{className:"small light"},n.a.createElement("tr",null,r))}}]),t}(a.Component);Wr.contextType=Ur,Wr=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(Wr);var Hr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("td",{className:this.props.className},n.a.createElement(Ir,{text:this.props.text,tooltipText:this.props.tooltipText,fieldName:this.props.fieldName,className:this.props.buttonClass}))}}]),t}(a.Component),Ir=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Tt,{tooltipText:this.props.tooltipText,className:"sort_button "+(this.props.className||""),onClick:function(){return e.context.changeSort(e.props.fieldName)}},this.props.text,n.a.createElement(J.a,{icon:this.props.fieldName===this.context.sortColumn?this.context.sortUp?X.t:X.s:X.r}))}}]),t}(a.Component);Ir.contextType=Ur;var Fr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("tbody",null,this.context.sortedPaths.map(function(e,t){return n.a.createElement(Qr,{key:t,path:e,checked:e.checked,highlighted:e.highlighted})}))}}]),t}(a.Component);Fr.contextType=Ur,Fr=Object(c.b)(function(e){return{pathQueries:e.pathQueries}})(Fr);var Qr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props.path,r=n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,n.a.createElement(Rt,{checked:this.props.checked,onClick:function(){return e.context.toggleChecked(e.props.path)},onCtrlClick:function(){return e.context.soloChecked(e.props.path)},tooltipText:"Show this path in the graph display"})),n.a.createElement("td",null,n.a.createElement(At,{checked:this.props.highlighted,onClick:function(){return e.context.toggleHighlighted(e.props.path)},onCtrlClick:function(){return e.context.soloHighlighted(e.props.path)},tooltipText:"Highlight this path in the graph display"})),n.a.createElement(Br,{className:"left small",fieldClass:"left",value:t.metapath,fullValue:t.metapath}),n.a.createElement(Br,{className:"left small",fieldClass:"left",value:t.chipDescription,fullValue:t.textDescription}),n.a.createElement(Br,{value:t.score?p(t.score):"-",fullValue:t.score||"-"}),n.a.createElement(Br,{value:p(t.percent_of_DWPC),fullValue:t.percent_of_DWPC}));return n.a.createElement("tr",null,r)}}]),t}(a.Component);Qr.contextType=Ur;var Br=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("td",{className:this.props.className,style:this.props.style},n.a.createElement(yr,{value:this.props.value,fullValue:this.props.fullValue,className:this.props.fieldClass}))}}]),t}(a.Component),Vr=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return n.a.createElement("table",{className:"metapath_results_table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"center light"},"no results to show"))))}}]),t}(a.Component);function zr(e,t,r){var a=[],n=!0,o=!1,i=void 0;try{for(var l,s=e.node_ids[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=t[l.value];c&&a.push({element:"node",type:c.metanode,name:c.properties.name})}}catch(b){o=!0,i=b}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}for(var h=[],u=0;u<e.rel_ids.length;u++){var p=r[e.rel_ids[u]],d=t[e.node_ids[u]];if(p&&d){var f="";p.directed&&(f=p.source_neo4j_id===d.neo4j_id?"forward":"backward"),h.push({element:"edge",type:p.kind,direction:f})}}for(var m=[],v=0,g=a;v<g.length;v++){var y=g[v];m.push(y),h.length>0&&m.push(h.shift())}return m}function qr(e){return e.map(function(e){if("node"===e.element)return e.name;if("edge"===e.element){var t="\u2013";return"forward"===e.direction?t="\u2192":"backward"===e.direction&&(t="\u2190"),["",t,e.type,t,""].join(" ")}return""})}var Gr=r(12),Zr=(r(262),function(e){function t(e){var r;return Object(_.a)(this,t),(r=Object(E.a)(this,Object(x.a)(t).call(this,e))).state={},r.state.value=r.props.value,r.onChange=r.onChange.bind(Object(C.a)(r)),r.onKeyPress=r.onKeyPress.bind(Object(C.a)(r)),r.onBlur=r.onBlur.bind(Object(C.a)(r)),r}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({value:this.props.value})}},{key:"onChange",value:function(e){this.setState({value:e.target.value}),void 0===e.nativeEvent.data?this.onArrows(e.target.value):this.onType(e.target.value)}},{key:"onKeyPress",value:function(e){"enter"===e.key.toLowerCase()&&e.target.blur()}},{key:"onBlur",value:function(e){this.onSubmit(e.target.value)}},{key:"onArrows",value:function(e){this.props.onArrows&&this.props.onArrows(e)}},{key:"onType",value:function(e){this.props.onType&&this.props.onType(e)}},{key:"onSubmit",value:function(e){this.props.onSubmit&&this.props.onSubmit(e)}},{key:"render",value:function(){return n.a.createElement(Mt,{text:this.props.tooltipText},n.a.createElement("input",{type:"number",className:"number_box",onChange:this.onChange,onKeyPress:this.onKeyPress,onBlur:this.onBlur,min:this.props.min,step:this.props.step,max:this.props.max,value:this.state.value}))}}]),t}(a.Component)),Kr=(r(263),3840),Jr=2160,Xr=.25*Math.PI,Yr=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.width=Kr,e.state.height=Jr,e.state.nodeCount=0,e.state.edgeCount=0,e.state.selectedElement=null,e.state.hoveredElement=null,e.graph=n.a.createRef(),e.expandContainer=e.expandContainer.bind(Object(C.a)(e)),e.collapseContainer=e.collapseContainer.bind(Object(C.a)(e)),e.updateSectionWidth=e.updateSectionWidth.bind(Object(C.a)(e)),e.setWidth=e.setWidth.bind(Object(C.a)(e)),e.setHeight=e.setHeight.bind(Object(C.a)(e)),e.fitView=e.fitView.bind(Object(C.a)(e)),e.setGraphCounts=e.setGraphCounts.bind(Object(C.a)(e)),e.setSelectedElement=e.setSelectedElement.bind(Object(C.a)(e)),e.setHoveredElement=e.setHoveredElement.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.updateSectionWidth(),this.collapseContainer(!0),window.addEventListener("resize",this.updateSectionWidth)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.width!==t.width){var r=this.state.width;Math.round(r)!==r&&(r=Math.round(r)),r>Kr&&(r=Kr),r<240&&(r=240),this.setState({width:r})}if(this.state.height!==t.height){var a=this.state.height;Math.round(a)!==a&&(a=Math.round(a)),a>Jr&&(a=Jr),a<240&&(a=240),this.setState({height:a})}}},{key:"updateSectionWidth",value:function(){this.setState({sectionWidth:i.a.findDOMNode(this).clientWidth})}},{key:"expandContainer",value:function(e){var t={};t.width=document.body.clientWidth-20-20,e&&(t.height=3*t.width/4),this.setState(t,this.fitView)}},{key:"collapseContainer",value:function(e){var t={};t.width=i.a.findDOMNode(this).clientWidth,e&&(t.height=3*t.width/4),this.setState(t,this.fitView)}},{key:"setWidth",value:function(e){this.setState({width:e})}},{key:"setHeight",value:function(e){this.setState({height:e})}},{key:"fitView",value:function(){this.graph.current&&this.graph.current.fitView()}},{key:"downloadSvg",value:function(){!function(e,t){var r=(new XMLSerializer).serializeToString(e),a=new Blob([r],{type:"image/svg+xml"}),n=window.URL.createObjectURL(a),o=document.createElement("a");document.body.appendChild(o),o.href=n,o.download=(t||"data")+".svg",o.click(),window.URL.revokeObjectURL(n),o.remove()}(document.getElementById("graph"))}},{key:"setGraphCounts",value:function(e,t){this.setState({nodeCount:e,edgeCount:t})}},{key:"setSelectedElement",value:function(e){this.setState({selectedElement:e})}},{key:"setHoveredElement",value:function(e){this.setState({hoveredElement:e})}},{key:"render",value:function(){var e=this,t=this.state.hoveredElement||this.state.selectedElement,r="";return t&&("node"===t.elementType&&(r=n.a.createElement(ea,{node:t,primaryFields:["metanode","neo4j_id"],order:["name","metanode","source","url","description","identifier","neo4j_id"]})),"edge"===t.elementType&&(r=n.a.createElement(ea,{edge:t,primaryFields:["kind","directed","neo4j_id"],order:["kind","neo4j_id","source"]}))),n.a.createElement("section",null,n.a.createElement(br,{label:"Path Graph",tooltipText:"Graph of path results"},n.a.createElement("div",{className:"table_attic"},n.a.createElement(Dt,{text:"reset",icon:X.p,onClick:function(){e.graph.current&&e.graph.current.restartGraph()},tooltipText:"Completely restart graph"}),n.a.createElement(Dt,{text:"unpin all",icon:X.o,onClick:function(){e.graph.current&&e.graph.current.unpinAll()},tooltipText:"Unpin all nodes"}),n.a.createElement(Dt,{text:"pin all",icon:X.n,onClick:function(){e.graph.current&&e.graph.current.pinAll()},tooltipText:"Pin all nodes in their current position"}),n.a.createElement(Dt,{text:"fit",icon:X.j,onClick:this.fitView,tooltipText:"Fit the view to the contents of the graph"}),n.a.createElement(Dt,{text:".svg",icon:X.h,onClick:this.downloadSvg,tooltipText:"Download the graph as an .svg file"}),n.a.createElement(Zr,{tooltipText:"Width of the container",min:240,step:"5",max:Kr,value:this.state.width,onArrows:this.setWidth,onSubmit:this.setWidth}),"\xd7",n.a.createElement(Zr,{tooltipText:"Height of the container",min:240,step:"5",max:Jr,value:this.state.height,onArrows:this.setHeight,onSubmit:this.setHeight}),n.a.createElement(Dt,{className:"graph_expand_collapse_button",text:"",icon:X.k,onClick:this.expandContainer,tooltipText:"Fit the graph to the window"}),n.a.createElement(Dt,{className:"graph_expand_collapse_button",text:"",icon:X.f,onClick:this.collapseContainer,tooltipText:'Fit the graph to the "Path Graph" section'}),n.a.createElement("span",{className:"small light right"},this.state.nodeCount," nodes, ",this.state.edgeCount," edges")),n.a.createElement($r,{ref:this.graph,width:this.state.width,height:this.state.height,sectionWidth:this.state.sectionWidth,setGraphCounts:this.setGraphCounts,setSelectedElement:this.setSelectedElement,setHoveredElement:this.setHoveredElement}),n.a.createElement("div",{id:"graph_info_container"},r)))}}]),t}(a.Component),$r=function(e){function t(){var e;return Object(_.a)(this,t),(e=Object(E.a)(this,Object(x.a)(t).call(this))).state={},e.state.data=e.assembleGraph(null),e.fitView=e.fitView.bind(Object(C.a)(e)),e.resetView=e.resetView.bind(Object(C.a)(e)),e.onSimulationTick=e.onSimulationTick.bind(Object(C.a)(e)),e.onNodeEdgeClick=e.onNodeEdgeClick.bind(Object(C.a)(e)),e.onNodeEdgeHover=e.onNodeEdgeHover.bind(Object(C.a)(e)),e.onNodeEdgeUnhover=e.onNodeEdgeUnhover.bind(Object(C.a)(e)),e.onNodeDragStart=e.onNodeDragStart.bind(Object(C.a)(e)),e.onNodeDragEnd=e.onNodeDragEnd.bind(Object(C.a)(e)),e.onViewClick=e.onViewClick.bind(Object(C.a)(e)),e}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.createGraph(),this.setState({data:this.assembleGraph()})}},{key:"componentDidUpdate",value:function(e,t){this.props.pathQueries!==e.pathQueries?this.setState({data:this.assembleGraph()}):this.state.data!==t.data&&(y(t.data.nodes,this.state.data.nodes,["neo4j_id"],["x","y","fx","fy","vx","vy"]),this.updateGraph(),this.props.setGraphCounts(this.state.data.nodes.length,this.state.data.edges.length))}},{key:"restartGraph",value:function(){var e=this;this.resetView(),this.state.simulation.alpha(1).restart(),this.setState({data:this.assembleGraph(null)},function(){return e.setState({data:e.assembleGraph()})})}},{key:"createGraph",value:function(){var e=Gr.h("#graph"),t=Gr.g().force("link",Gr.e().distance(100).id(function(e){return e.neo4j_id})).force("collide",Gr.d().radius(25).strength(1)).force("charge",Gr.f().strength(-200)).force("center",Gr.c(0,0));t.on("tick",this.onSimulationTick);var r=Gr.j().scaleExtent([.25,4]).on("zoom",this.onViewZoom);e.call(r),e.on("click",this.onViewClick);var a=Gr.a().on("drag",this.onNodeDrag).on("start",this.onNodeDragStart).on("end",this.onNodeDragEnd);this.setState({simulation:t,viewZoomHandler:r,nodeDragHandler:a},this.resetView)}},{key:"onSimulationTick",value:function(){Gr.i(".graph_edge_line_highlight").each(this.positionEdge),Gr.i(".graph_edge_line").each(this.positionEdge),Gr.i(".graph_edge_label").each(this.positionEdgeLabel),Gr.i(".graph_node_circle_highlight").each(this.positionNode),Gr.i(".graph_node_circle").each(this.positionNode),Gr.i(".graph_node_label").each(this.positionNode)}},{key:"positionNode",value:function(e,t,r){var a=r[t];Gr.h(a).attr("transform","translate("+e.x+","+e.y+")")}},{key:"positionEdge",value:function(e,t,r){var a=e.source.x,n=e.source.y,o=e.target.x,i=e.target.y,l="",s=Math.atan2(i-n,o-a),c=24.75;if(e.directed&&(c+=2.5),0===e.coincidentOffset)l=["M",a+=24.75*Math.cos(s),n+=24.75*Math.sin(s),"L",o-=Math.cos(s)*c,i-=Math.sin(s)*c].join(" ");else{var h=Xr*e.coincidentOffset;a+=24.75*Math.cos(s+h),n+=24.75*Math.sin(s+h),o-=Math.cos(s-h)*c,i-=Math.sin(s-h)*c;var u=Math.sqrt(Math.pow(o-a,2)+Math.pow(i-n,2)),p=Math.min(20,u)*e.coincidentOffset;l=["M",a,n,"Q",(o+a)/2-2*p*(i-n)/u,(i+n)/2+2*p*(o-a)/u,o,i].join(" ")}var d=r[t];Gr.h(d).attr("d",l)}},{key:"positionEdgeLabel",value:function(e,t,r){var a=e.source.x,n=e.source.y,o=e.target.x,i=e.target.y,l=Math.atan2(i-n,o-a),s=24.75;e.directed&&(s+=2.5);var c=Xr*e.coincidentOffset;a+=24.75*Math.cos(l+c),n+=24.75*Math.sin(l+c),o-=Math.cos(l-c)*s,i-=Math.sin(l-c)*s;var h=Math.sqrt(Math.pow(o-a,2)+Math.pow(i-n,2)),u=Math.min(20,h)*e.coincidentOffset,p=(o+a)/2-u*(i-n)/h,d=(i+n)/2+u*(o-a)/h;(l=l/(2*Math.PI)*360)>90&&(l-=180),l<=-90&&(l+=180);var f=-2.8;u<0&&e.source.x>e.target.x&&(f=8.8);var m=r[t];Gr.h(m).attr("x",0).attr("y",0).attr("dy",f).attr("transform","translate("+p+","+d+") rotate("+l+") ")}},{key:"fitView",value:function(){var e=Gr.h("#graph_view").node().getBBox(),t=Gr.h("#graph").node().getBoundingClientRect();if(0!==e.width&&0!==e.height){t.width-=2,t.height-=2,e.midX=e.x+e.width/2,e.midY=e.y+e.height/2;var r=1/Math.max(e.width/(t.width-25),e.height/(t.height-25)),a=t.width/2-r*e.midX,n=t.height/2-r*e.midY;Gr.h("#graph").call(this.state.viewZoomHandler.transform,Gr.k.translate(a,n).scale(r))}}},{key:"resetView",value:function(){var e=Gr.h("#graph").node().getBoundingClientRect();e.width-=2,e.height-=2;var t=e.width/2,r=e.height/2;Gr.h("#graph").call(this.state.viewZoomHandler.transform,Gr.k.translate(t,r).scale(1))}},{key:"unpinAll",value:function(){this.state.data.nodes.forEach(function(e){e.fx=null,e.fy=null}),this.state.simulation.alpha(1).restart()}},{key:"pinAll",value:function(){this.state.data.nodes.forEach(function(e){e.fx=e.x,e.fy=e.y})}},{key:"onNodeEdgeClick",value:function(e){Gr.b.stopPropagation(),e.selected?this.deselectAll():(this.deselectAll(),e.selected=!0),this.updateNodeCircles(),this.updateEdgeLines(),this.props.setSelectedElement(e)}},{key:"onNodeEdgeHover",value:function(e){Gr.b.stopPropagation(),e.hovered=!0,this.updateNodeCircles(),this.updateEdgeLines(),this.props.setHoveredElement(e)}},{key:"onNodeEdgeUnhover",value:function(e){Gr.b.stopPropagation(),e.hovered=!1,this.updateNodeCircles(),this.updateEdgeLines(),this.props.setHoveredElement(null)}},{key:"deselectAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.state.data.nodes[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){a.value.selected=void 0}}catch(h){t=!0,r=h}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}var o=!0,i=!1,l=void 0;try{for(var s,c=this.state.data.edges[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){s.value.selected=void 0}}catch(h){i=!0,l=h}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}}},{key:"onNodeDragStart",value:function(){this.state.simulation.alphaTarget(1).restart()}},{key:"onNodeDrag",value:function(e){e.fx=Gr.b.x,e.fy=Gr.b.y}},{key:"onNodeDragEnd",value:function(){this.state.simulation.alphaTarget(0).restart()}},{key:"onViewClick",value:function(){this.deselectAll(),this.updateNodeCircles(),this.updateEdgeLines(),this.props.setSelectedElement(null)}},{key:"onViewZoom",value:function(){Gr.h("#graph_view").attr("transform",Gr.b.transform)}},{key:"updateSimulation",value:function(){var e=this.state.data;this.state.simulation.nodes(e.nodes),this.state.simulation.force("link").links(e.edges),this.state.simulation.alpha(1).restart()}},{key:"updateEdgeLineHighlights",value:function(){var e=this.state.data,t=Gr.h("#graph_edge_line_highlight_layer").selectAll(".graph_edge_line_highlight").data(e.edges.filter(function(e){return!0===e.highlighted}));t.enter().append("path").merge(t).attr("class","graph_edge_line_highlight").attr("fill","none").attr("stroke","#ffcc00").attr("stroke-width",10).attr("stroke-linecap","square"),t.exit().remove()}},{key:"updateEdgeLines",value:function(){var e=this.state.data,t=Gr.h("#graph_edge_line_layer").selectAll(".graph_edge_line").data(e.edges);t.enter().append("path").merge(t).attr("class","graph_edge_line").attr("marker-end",function(e){return e.directed?"url(#graph_arrowhead)":""}).attr("fill","none").attr("stroke","#424242").attr("stroke-width",2).style("stroke-dasharray",function(e){return e.selected||e.hovered?"4 2":"none"}),t.exit().remove()}},{key:"updateEdgeLabels",value:function(){var e=this.state.data,t=Gr.h("#graph_edge_label_layer").selectAll(".graph_edge_label").data(e.edges);t.enter().append("text").on("click",this.onNodeEdgeClick).on("mouseenter",this.onNodeEdgeHover).on("mouseleave",this.onNodeEdgeUnhover).merge(t).attr("class","graph_edge_label").attr("font-size",8).attr("font-weight",500).attr("text-anchor","middle").attr("user-select","none").attr("fill","#424242").style("cursor","pointer").text(function(e){return e.kind}),t.exit().remove()}},{key:"updateNodeCircleHighlights",value:function(){var e=this.state.data,t=Gr.h("#graph_node_circle_highlight_layer").selectAll(".graph_node_circle_highlight").data(e.nodes.filter(function(e){return!0===e.highlighted}));t.enter().append("circle").merge(t).attr("class","graph_node_circle_highlight").attr("r",25).attr("fill","none").attr("stroke","#ffcc00").attr("stroke-width",10),t.exit().remove()}},{key:"updateNodeCircles",value:function(){var e=this,t=this.state.data,r=Gr.h("#graph_node_circle_layer").selectAll(".graph_node_circle").data(t.nodes);r.enter().append("circle").call(this.state.nodeDragHandler).on("click",this.onNodeEdgeClick).on("mouseenter",this.onNodeEdgeHover).on("mouseleave",this.onNodeEdgeUnhover).merge(r).attr("class","graph_node_circle").attr("r",25).attr("fill",function(t){return e.getNodeFillColor(t.metanode)}).attr("stroke",function(e){return e.selected||e.hovered?"#424242":"none"}).attr("stroke-width",2).style("stroke-dasharray","4 2").style("cursor","pointer"),r.exit().remove()}},{key:"updateNodeLabels",value:function(){var e=this,t=this.state.data,r=Gr.h("#graph_node_label_layer"),a=r.selectAll(".graph_node_label").data(t.nodes);a.enter().append("foreignObject").attr("class","graph_node_label").append("xhtml:div").append("xhtml:span"),r.selectAll(".graph_node_label").attr("x",-25).attr("y",-25).attr("width",50).attr("height",50).style("pointer-events","none").select("div").style("display","flex").style("justify-content","center").style("align-items","center").style("width","100%").style("height","100%").style("box-sizing","border-box").style("padding","6.25px").select("span").style("text-align","center").style("font-size","8px").style("font-weight",500).style("color",function(t){return e.getNodeTextColor(t.metanode)}).style("word-break","break-word").html(function(e){return O(e.properties.name,25)}),a.exit().remove()}},{key:"updateGraph",value:function(){this.updateEdgeLineHighlights(),this.updateEdgeLines(),this.updateEdgeLabels(),this.updateNodeCircleHighlights(),this.updateNodeCircles(),this.updateNodeLabels(),this.pinSourceAndTargetNodes(),this.updateSimulation()}},{key:"pinSourceAndTargetNodes",value:function(){var e=this.state.data;e.nodes.forEach(function(t){t.neo4j_id===e.source_neo4j_id&&(t.x||t.fx||(t.fx=-200),t.y||t.fy||(t.fy=0)),t.neo4j_id===e.target_neo4j_id&&(t.x||t.fx||(t.fx=200),t.y||t.fy||(t.fy=0))})}},{key:"getNodeFillColor",value:function(e){var t=this.props.hetioStyles[e];return t&&t.fill_color?t.fill_color:"#424242"}},{key:"getNodeTextColor",value:function(e){var t=this.props.hetioStyles[e];return t&&t.text_color?t.text_color:"#fafafa"}},{key:"assembleGraph",value:function(e){var t={source_neo4j_id:null,target_neo4j_id:null,nodes:[],edges:[]};if(null===e)return t;if(e||(e=this.props.pathQueries),!e||e.length<=0)return t;var r=e[0].paths[0];t.source_neo4j_id=r.node_ids[0],t.target_neo4j_id=r.node_ids[r.node_ids.length-1];var a=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value,c=!0,u=!1,p=void 0;try{for(var d,f=s.paths[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;if(m.checked){var v=!0,g=!1,y=void 0;try{for(var b,O=function(){var e=b.value,r=s.nodes[e],a=t.nodes.find(function(e){return e.neo4j_id===r.neo4j_id});a?m.highlighted&&(a.highlighted=!0):t.nodes.push(Object(h.a)({},r,{highlighted:m.highlighted,elementType:"node"}))},k=m.node_ids[Symbol.iterator]();!(v=(b=k.next()).done);v=!0)O()}catch(B){g=!0,y=B}finally{try{v||null==k.return||k.return()}finally{if(g)throw y}}var j=!0,_=!1,w=void 0;try{for(var E,x=function(){var e=E.value,r=s.relationships[e],a=t.edges.find(function(e){return e.source_neo4j_id===r.source_neo4j_id&&e.target_neo4j_id===r.target_neo4j_id&&e.kind===r.kind&&e.directed===r.directed});a?m.highlighted&&(a.highlighted=!0):t.edges.push(Object(h.a)({},r,{source:r.source_neo4j_id,target:r.target_neo4j_id,highlighted:m.highlighted,elementType:"edge"}))},C=m.rel_ids[Symbol.iterator]();!(j=(E=C.next()).done);j=!0)x()}catch(B){_=!0,w=B}finally{try{j||null==C.return||C.return()}finally{if(_)throw w}}}}}catch(B){u=!0,p=B}finally{try{c||null==f.return||f.return()}finally{if(u)throw p}}}}catch(B){n=!0,o=B}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}var N=[],S=!0,M=!1,P=void 0;try{for(var T,D=function(){for(var e=T.value,t=!1,r=0,a=N;r<a.length;r++){var n=a[r];if(n.find(function(t){return e.source_neo4j_id===t.source_neo4j_id&&e.target_neo4j_id===t.target_neo4j_id||e.source_neo4j_id===t.target_neo4j_id&&e.target_neo4j_id===t.source_neo4j_id})){n.push(e),t=!0;break}}t||N.push([e])},L=t.edges[Symbol.iterator]();!(S=(T=L.next()).done);S=!0)D()}catch(B){M=!0,P=B}finally{try{S||null==L.return||L.return()}finally{if(M)throw P}}for(var R=0,A=N;R<A.length;R++)for(var U=A[R],W=U[0].source_neo4j_id,H=0;H<U.length;H++){var I=0;U.length>1&&(I=H/(U.length-1)-.5),U[H].source_neo4j_id!==W&&(I*=-1),U[H].coincidentOffset=I}var F=t.nodes.findIndex(function(e){return e.neo4j_id===t.source_neo4j_id});-1!==F&&t.nodes.push(t.nodes.splice(F,1)[0]);var Q=t.nodes.findIndex(function(e){return e.neo4j_id===t.target_neo4j_id});return-1!==Q&&t.nodes.push(t.nodes.splice(Q,1)[0]),t}},{key:"render",value:function(){var e=0;if(this.props.sectionWidth&&this.props.width){e=this.props.sectionWidth/2-this.props.width/2;var t=this.props.sectionWidth/2-document.body.clientWidth/2+20;e<t&&(e=t)}var r=(this.props.sourceNode.name||"___")+" \u2192 "+(this.props.targetNode.name||"___"),a=["Graph visualization of the connectivity between ",this.props.sourceNode.name||"___"," (",this.props.sourceNode.metanode||"___",") and ",this.props.targetNode.name||"___"," (",this.props.targetNode.metanode||"___","). ","\n\n","Created at ",window.location.href,"\n\n","This subgraph of Hetionet v1.0 was created from paths between the ","specified source/target nodes that occurred more than expected ","by chance. ","See https://het.io for more information. "].join("");return n.a.createElement("div",{id:"graph_container",style:{height:this.props.height}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"graph",width:this.props.width,height:this.props.height,style:{left:e}},n.a.createElement("title",null,r),n.a.createElement("desc",null,a),n.a.createElement("defs",null,n.a.createElement("style",null,"\n                @import url('https://fonts.googleapis.com/css?family=Raleway:400,500,700');\n                @import url('https://fonts.googleapis.com/css?family=Montserrat:400,500,700&text=0123456789');\n                * {\n                  font-family: 'Montserrat', 'Raleway', sans-serif;\n                }\n              "),n.a.createElement("marker",{id:"graph_arrowhead",viewBox:"0 0 100 100",refX:"80",refY:"50",orient:"auto",markerUnits:"userSpaceOnUse",markerWidth:10,markerHeight:10},n.a.createElement("path",{d:" M 0 0 L 100 50 L 0 100",fill:"#424242"}))),n.a.createElement("g",{id:"graph_view"},n.a.createElement("g",{id:"graph_edge_line_highlight_layer"}),n.a.createElement("g",{id:"graph_node_circle_highlight_layer"}),n.a.createElement("g",{id:"graph_edge_line_layer"}),n.a.createElement("g",{id:"graph_edge_label_layer"}),n.a.createElement("g",{id:"graph_node_circle_layer"}),n.a.createElement("g",{id:"graph_node_label_layer"}))))}}]),t}(a.Component);$r=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,pathQueries:e.pathQueries,hetioStyles:e.hetioStyles}},null,null,{forwardRef:!0})($r);var ea=function(e){function t(){return Object(_.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"rows",value:function(){var e={};this.props.hetioDefinitions.properties&&(e=Object(h.a)({},e,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.edges)),(e=Object(h.a)({},e,this.props.hetmechDefinitions)).id&&(e.neo4j_id=e.id);var t=this.props.node||this.props.edge,r=this.props.primaryFields;r=r.map(function(r){return{firstCol:r,secondCol:String(t[r]),tooltipText:e[r]}});var a=Object.keys(t.properties);a=a.map(function(r){return{firstCol:r,secondCol:String(t.properties[r]),tooltipText:e[r]}});var o=r.concat(a),i=(o=g(o,this.props.order,"firstCol")).map(function(e,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("td",{className:"col_m small light"},n.a.createElement(Mt,{text:e.tooltipText},e.firstCol)),n.a.createElement("td",{className:"small"},e.secondCol))}),l=new Array(Math.ceil(i.length/2)).fill().map(function(){return i.splice(0,2)}).map(function(e,t){return n.a.createElement("tr",{key:t},e)});return l}},{key:"render",value:function(){return n.a.createElement("table",{id:"graph_info_table"},n.a.createElement("tbody",null,this.rows()))}}]),t}(a.Component);ea=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(ea);r(264);var ta=function(e){function t(e){var r;return Object(_.a)(this,t),(r=Object(E.a)(this,Object(x.a)(t).call(this,e))).fetchDefinitions=r.fetchDefinitions.bind(Object(C.a)(r)),r.updateStateFromUrl=r.updateStateFromUrl.bind(Object(C.a)(r)),r.updateMetapaths=r.updateMetapaths.bind(Object(C.a)(r)),r.updatePaths=r.updatePaths.bind(Object(C.a)(r)),r.fetchDefinitions(),r.updateStateFromUrl(),window.addEventListener("popstate",r.updateStateFromUrl),r}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(e){e.sourceNode.id!==this.props.sourceNode.id||e.targetNode.id!==this.props.targetNode.id?this.updateMetapaths():JSON.stringify(e.metapaths)!==JSON.stringify(this.props.metapaths)&&this.updatePaths(),this.updateTitle()}},{key:"fetchDefinitions",value:function(){this.props.dispatch(function(e){var t=[qt(Wt),qt(Ht),qt(It),Ut];Promise.all(t).then(function(t){var r;e({type:"set_definitions",payload:{metagraph:(r={metagraph:t[0],hetioDefinitions:t[1],hetioStyles:t[2],hetmechDefinitions:t[3]}).metagraph,hetioDefinitions:r.hetioDefinitions,hetioStyles:r.hetioStyles,hetmechDefinitions:r.hetmechDefinitions}})})})}},{key:"updateStateFromUrl",value:function(e){this.props.dispatch(function(e){var t,r=new URLSearchParams(window.location.search),a=r.get("source"),n=r.get("target"),o=r.get("metapaths");t=o?o.split(","):[];var i=[Gt(a),Gt(n),Zt(a,n)];Promise.all(i).then(function(r){var i=Object(j.a)(r,3),l=i[0],s=i[1],c=i[2],h=new URLSearchParams(window.location.search);if(h.get("source")===a&&h.get("target")===n&&h.get("metapaths")===o){c||(c=[]);var u=!0,p=!1,d=void 0;try{for(var f,m=c[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var v=f.value;t.includes(v.metapath_abbreviation)&&(v.checked=!0)}}catch(g){p=!0,d=g}finally{try{u||null==m.return||m.return()}finally{if(p)throw d}}e(Jt({sourceNode:l,targetNode:s,dontUpdateUrl:!0})),e(Xt({metapaths:c,dontUpdateUrl:!0}))}})})}},{key:"updateTitle",value:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=this.props.metapaths[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.checked&&e.push(i.metapath_abbreviation)}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var l=O(this.props.sourceNode.name||"___",20)+" \u2194 "+O(this.props.targetNode.name||"___",20)+" \u2013 "+e.length+" metapaths";document.title=l}},{key:"updateMetapaths",value:function(){var e=this;this.props.dispatch(function(t){return Zt(e.props.sourceNode.id,e.props.targetNode.id).then(function(e){return t(Xt({metapaths:e,preserveChecks:!0}))})})}},{key:"updatePaths",value:function(){var e=this;this.props.dispatch(function(t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,l=e.props.metapaths[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value;s.checked&&r.push(Kt(e.props.sourceNode.id,e.props.targetNode.id,s.metapath_abbreviation))}}catch(c){n=!0,o=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}Promise.all(r).then(function(e){t(Yt({pathQueries:e,preserveChecks:!0}))})})}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(I,null),n.a.createElement(lr,null),n.a.createElement(Or,null),n.a.createElement(wr,null),n.a.createElement(Rr,null),n.a.createElement(Yr,null))}}]),t}(a.Component);ta=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metapaths:e.metapaths}})(ta);var ra=Object(l.c)(function(e,t){var r;switch(r=void 0===e?{}:Object(h.a)({},e),t.type){case"set_definitions":void 0!==t.payload.metagraph&&(r.metagraph=k(t.payload.metagraph)),void 0!==t.payload.hetioDefinitions&&(r.hetioDefinitions=k(t.payload.hetioDefinitions)),void 0!==t.payload.hetioStyles&&(r.hetioStyles=k(t.payload.hetioStyles)),void 0!==t.payload.hetmechDefinitions&&(r.hetmechDefinitions=k(t.payload.hetmechDefinitions));break;case"update_source_target_nodes":void 0!==t.payload.sourceNode&&(r.sourceNode=k(t.payload.sourceNode)),void 0!==t.payload.targetNode&&(r.targetNode=k(t.payload.targetNode));break;case"swap_source_target_nodes":e.sourceNode&&e.targetNode&&(r.sourceNode=k(e.targetNode),r.targetNode=k(e.sourceNode));break;case"update_metapaths":void 0!==t.payload.metapaths&&(r.metapaths=k(t.payload.metapaths),!0===t.preserveChecks&&y(e.metapaths,r.metapaths,["id"],["checked"]));break;case"update_path_queries":void 0!==t.payload.pathQueries&&(r.pathQueries=k(t.payload.pathQueries),!0===t.preserveChecks&&function(e,t,r,a,n){var o,i,l=!0,s=!1,c=void 0;try{for(var h,u=t[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){var p=h.value,d=!0,f=!1,m=void 0;try{for(var v,g=p[r][Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var y=v.value,O=!0,k=!1,j=void 0;try{for(var _,w=e[Symbol.iterator]();!(O=(_=w.next()).done);O=!0){var E=_.value,x=!0,C=!1,N=void 0;try{for(var S,M=E[r][Symbol.iterator]();!(x=(S=M.next()).done);x=!0){var P=S.value,T=!0,D=!0,L=!1,R=void 0;try{for(var A,U=a[Symbol.iterator]();!(D=(A=U.next()).done);D=!0){var W=A.value;if(o=P[W],i=y[W],!(Array.isArray(o)&&Array.isArray(i)?b(o,i,!0):o===i)){T=!1;break}}}catch(z){L=!0,R=z}finally{try{D||null==U.return||U.return()}finally{if(L)throw R}}if(T){var H=!0,I=!1,F=void 0;try{for(var Q,B=n[Symbol.iterator]();!(H=(Q=B.next()).done);H=!0){var V=Q.value;y[V]=P[V]}}catch(z){I=!0,F=z}finally{try{H||null==B.return||B.return()}finally{if(I)throw F}}}}}catch(z){C=!0,N=z}finally{try{x||null==M.return||M.return()}finally{if(C)throw N}}}}catch(z){k=!0,j=z}finally{try{O||null==w.return||w.return()}finally{if(k)throw j}}}}catch(z){f=!0,m=z}finally{try{d||null==g.return||g.return()}finally{if(f)throw m}}}}catch(z){s=!0,c=z}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}(e.pathQueries,r.pathQueries,"paths",["node_ids","rel_ids"],["checked","highlighted"]))}return r.metagraph||(r.metagraph={}),r.hetioDefinitions||(r.hetioDefinitions={}),r.hetioStyles||(r.hetioStyles={}),r.hetmechDefinitions||(r.hetmechDefinitions={}),r.sourceNode||(r.sourceNode={}),r.targetNode||(r.targetNode={}),r.metapaths||(r.metapaths=[]),r.pathQueries||(r.pathQueries=[]),!0===t.updateUrl&&void 0!==e&&function(e){var t=[],r=!0,a=!1,n=void 0;try{for(var o,i=e.metapaths[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;l.checked&&t.push(l.metapath_abbreviation)}}catch(u){a=!0,n=u}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}t.sort();var s=new URLSearchParams;void 0!==e.sourceNode.id&&s.set("source",e.sourceNode.id),void 0!==e.targetNode.id&&s.set("target",e.targetNode.id),t.length>0&&s.set("metapaths",t.join(","));var c=s.toString();if(c.length>0&&(c="?"+c),c!==window.location.search){var h=window.location.origin+window.location.pathname+c;window.history.pushState({},"",h)}}(r),r},Object(l.a)(s.a));Object(o.render)(n.a.createElement(c.a,{store:ra},n.a.createElement(ta,null)),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.6a045998.chunk.js.map