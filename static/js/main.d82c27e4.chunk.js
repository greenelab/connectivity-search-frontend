(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e){e.exports={id:"The unique integer id of the node used internally by Hetmech (but not in Hetionet v1.0)",metapath:"The type of path (metapath) connecting the source node to the target node",path_count:"The number of paths between the source and target node of the specified metapath (path type)",adjusted_p_value:"A measure of the significance of the DWPC that indicates whether more paths were observed than expected due to random chance. Compares the DWPC to a null distribution of DWPCs generated from degree-preserving permuted networks. Bonferroni-adjusted for the number of metapaths with the same source metanode, target metanode, and length.",p_value:"A measure of the significance of the DWPC that indicates whether more paths were observed than expected due to random chance. Compares the DWPC to a null distribution of DWPCs generated from degree-preserving permuted networks. Not adjusted for multiple comparisons (i.e. when multiple metapaths are assessed for significant connectivity between the source and target node).",dwpc:"Degree-Weighted Path Count \u2014 Measures the extent of connectivity between the source and target node for the given metapath. Like the path count, but with less weight given to paths along high-degree nodes.",dgp_source_degree:"The number of edges from the source node that are of the same type as the initial metaedge of the metapath",dgp_target_degree:"The number of edges from the target node that are of the same type as the final metaedge of the metapath",dgp_n_dwpcs:"The number of DWPCs calculated on permuted networks used to generate a null distribution for the DWPC from the real network. Permuted DWPCs are aggregated for all permuted node pairs with the same degrees as the source and target node.",dgp_n_nonzero_dwpcs:"The number of permuted DWPCs from '# of DWPCs' column that were nonzero. Nonzero DWPCs indicate at least one path between the source and target node existed in the permuted network.",dgp_nonzero_mean:"The mean of nonzero permuted DWPCs. Used to generate the gamma-hurdle model of the null DWPC distribution.",dgp_nonzero_sd:"The standard deviation of nonzero permuted DWPCs. Used to generate the gamma-hurdle model of the null DWPC distribution.",path:"The sequence of edges in the network connecting the source node to the target node. Duplicate nodes are not permitted in paths.",score:"A metric of how meaningful the path is in describing the connectivity between the source and target node. The score combines the magnitude of the metapath's p-value with the percent of the DWPC contributed by the path.",percent_of_DWPC:"The contribution of the path to the DWPC for its metapath. This metric compares the importance of all paths of the same metapath from the source node to the target node."}},107:function(e,t,a){e.exports=a(265)},119:function(e,t,a){},120:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(26),i=a.n(o),l=a(39),s=a(99),c=a(13),h=a(24);function u(e){e=parseFloat(e).toExponential(1);var t=parseFloat(e.split("e")[0]).toFixed(1),a=parseInt(e.split("e")[1]);return n.a.createElement("span",null,t," \xd7 10",n.a.createElement("sup",null,a))}function p(e){return n.a.createElement("span",null,parseFloat(e).toFixed(1))}function d(e){var t=["rgba(255, 255, 255, 0)","rgba(255, 249, 196, 1)","rgba(255, 236, 179, 1)","rgba(255, 224, 178, 1)","rgba(255, 204, 188, 1)","rgba(248, 187, 208, 1)"];t=t.map(function(e){return e=e.split(/[^0-9,]/).join(""),e={r:parseInt(e.split(",")[0]),g:parseInt(e.split(",")[1]),b:parseInt(e.split(",")[2]),a:parseFloat(e.split(",")[3])}});var a=((e=Math.log10(e))-0)/-8;a=Math.min(Math.max(0,a),1);var r=(t.length-1)*a,n=t[Math.floor(r)],o=t[Math.ceil(r)],i=r%1,l={r:n.r+(o.r-n.r)*i,g:n.g+(o.g-n.g)*i,b:n.b+(o.b-n.b)*i,a:n.a+(o.a-n.a)*i};return l.r=Math.floor(l.r),l.g=Math.floor(l.g),l.b=Math.floor(l.b),l.a=l.a.toFixed(3),(l="rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")")||"#ffffff"}function f(e,t){var a=e.map(function(e){return e.join(",")}).join("\n"),r=new Blob([a],{type:"text/csv"}),n=window.URL.createObjectURL(r),o=document.createElement("a");document.body.appendChild(o),o.href=n,o.download=(t||"data")+".csv",o.click(),window.URL.revokeObjectURL(n),o.remove()}function m(e){return e=(e=(e=e.trim()).replace(/[^0-9A-Za-z]/gi,"-")).substring(0,15)}function g(e,t,a){return e.sort(function(e,r){return a&&(e=e[a],r=r[a]),e=t.indexOf(e),r=t.indexOf(r),-1!==e&&-1!==r?e-r:-1!==e?-1:-1!==r?1:r-e})}function v(e,t,a,r){var n=!0,o=!1,i=void 0;try{for(var l,s=t[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value,h=!0,u=!1,p=void 0;try{for(var d,f=e[Symbol.iterator]();!(h=(d=f.next()).done);h=!0){var m=d.value,g=!0,v=!0,y=!1,b=void 0;try{for(var k,O=a[Symbol.iterator]();!(v=(k=O.next()).done);v=!0){var j=k.value;if(m[j]!==c[j]){g=!1;break}}}catch(S){y=!0,b=S}finally{try{v||null==O.return||O.return()}finally{if(y)throw b}}if(g){var _=!0,w=!1,E=void 0;try{for(var x,C=r[Symbol.iterator]();!(_=(x=C.next()).done);_=!0){var N=x.value;c[N]=m[N]}}catch(S){w=!0,E=S}finally{try{_||null==C.return||C.return()}finally{if(w)throw E}}}}}catch(S){u=!0,p=S}finally{try{h||null==f.return||f.return()}finally{if(u)throw p}}}}catch(S){o=!0,i=S}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return t}function y(e,t,a){return e.length===t.length&&(a?e.every(function(e,a){return e===t[a]})||e.slice().reverse().every(function(e,a){return e===t[a]}):e.every(function(e,a){return e===t[a]}))}var b=a(4),k=a(5),O=a(7),j=a(6),_=a(2),w=a(8);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var C=n.a.createElement("style",null,"\n    #back_line,\n    #front_line,\n    #circle_1,\n    #circle_2,\n    #circle_3,\n    #circle_4 {\n      animation-duration: 1.5s;\n      animation-timing-function: ease;\n      animation-fill-mode: forwards;\n    }\n    #back_line {\n      animation-name: draw_back_line;\n    }\n    @keyframes draw_back_line {\n      0% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 60;\n      }\n      60% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 60;\n      }\n      100% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 0;\n      }\n    }\n    #front_line {\n      animation-name: draw_front_line;\n    }\n    @keyframes draw_front_line {\n      0% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 158;\n      }\n      60% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 0;\n      }\n      100% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 0;\n      }\n    }\n    #circle_1 {\n      animation-name: draw_circle_1;\n    }\n    #circle_2 {\n      animation-name: draw_circle_2;\n    }\n    #circle_3 {\n      animation-name: draw_circle_3;\n    }\n    #circle_4 {\n      animation-name: draw_circle_4;\n    }\n    @keyframes draw_circle_1 {\n      0% {\n        transform: scale(0);\n      }\n      20% {\n        transform: scale(0);\n      }\n      40% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_2 {\n      0% {\n        transform: scale(0);\n      }\n      30% {\n        transform: scale(0);\n      }\n      50% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_3 {\n      0% {\n        transform: scale(0);\n      }\n      40% {\n        transform: scale(0);\n      }\n      60% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_4 {\n      0% {\n        transform: scale(0);\n      }\n      50% {\n        transform: scale(0);\n      }\n      70% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n  "),N=n.a.createElement("path",{id:"back_line",stroke:"#bdbdbd",strokeWidth:5,fill:"none",d:"       M 20 50       L 80 50     "}),S=n.a.createElement("path",{id:"front_line",stroke:"#424242",strokeWidth:7.5,fill:"none",d:"       M 0 50       L 20 50       L 40 75       L 60 25       L 80 50       L 100 50     "}),M=n.a.createElement("g",{transform:"translate(20,50)"},n.a.createElement("circle",{id:"circle_1",cx:0,cy:0,r:10,fill:"#02b3e4"})),P=n.a.createElement("g",{transform:"translate(40,75)"},n.a.createElement("circle",{id:"circle_2",cx:0,cy:0,r:10,fill:"#c341d8"})),T=n.a.createElement("g",{transform:"translate(60,25)"},n.a.createElement("circle",{id:"circle_3",cx:0,cy:0,r:10,fill:"#fa750f"})),D=n.a.createElement("g",{transform:"translate(80,50)"},n.a.createElement("circle",{id:"circle_4",cx:0,cy:0,r:10,fill:"#e91e63"})),L=function(e){var t=e.svgRef,a=x(e,["svgRef"]);return n.a.createElement("svg",E({viewBox:"0 0 100 100",ref:t},a),C,N,S,M,P,T,D)},R=n.a.forwardRef(function(e,t){return n.a.createElement(L,E({svgRef:t},e))}),A=(a.p,function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.showLogo=!1,window.setTimeout(function(){return e.setState({showLogo:!0})},1e3),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e;return e=this.state.showLogo?n.a.createElement(R,{className:"logo"}):n.a.createElement("svg",{className:"logo"}),n.a.createElement("header",null,e,n.a.createElement("h1",null,"HETMECH"),n.a.createElement("h2",null,"A project of the"," ",n.a.createElement("a",{href:"http://www.greenelab.com/"},"Greene Laboratory")))}}]),t}(r.Component)),W=a(105),F=a(106),H=a(102),U=a.n(H),I=a(103),Q=a.n(I),B=a(65),V=a.n(B),z=a(104),G=a.n(z),q=a(27),Z=a(9);a(119);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Y=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50     "}),J=function(e){var t=e.svgRef,a=X(e,["svgRef"]);return n.a.createElement("svg",K({viewBox:"0 0 100 100",ref:t},a),Y)},$=n.a.forwardRef(function(e,t){return n.a.createElement(J,K({svgRef:t},e))});a.p;function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ae=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50       M 70 35       L 90 50       L 70 65     "}),re=function(e){var t=e.svgRef,a=te(e,["svgRef"]);return n.a.createElement("svg",ee({viewBox:"0 0 100 100",ref:t},a),ae)},ne=n.a.forwardRef(function(e,t){return n.a.createElement(re,ee({svgRef:t},e))});a.p;function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var le=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50       M 30 35       L 10 50       L 30 65     "}),se=function(e){var t=e.svgRef,a=ie(e,["svgRef"]);return n.a.createElement("svg",oe({viewBox:"0 0 100 100",ref:t},a),le)},ce=n.a.forwardRef(function(e,t){return n.a.createElement(se,oe({svgRef:t},e))});a.p;function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var pe=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746       L 78.2842755245486 50       L 50 50     "}),de=function(e){var t=e.svgRef,a=ue(e,["svgRef"]);return n.a.createElement("svg",he({viewBox:"0 0 100 100",ref:t},a),pe)},fe=n.a.forwardRef(function(e,t){return n.a.createElement(de,he({svgRef:t},e))});a.p;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ve=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),ye=function(e){var t=e.svgRef,a=ge(e,["svgRef"]);return n.a.createElement("svg",me({viewBox:"0 0 100 100",ref:t},a),ve)},be=n.a.forwardRef(function(e,t){return n.a.createElement(ye,me({svgRef:t},e))});a.p;function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Oe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var je=n.a.createElement("clipPath",{id:"clip"},n.a.createElement("rect",{x:0,y:0,width:100,height:100})),_e=n.a.createElement("g",null,n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.5) translate(-50,-50)",clipPath:"url(#clip)",d:"         M 10 110         L 50 0         L 90 110         M 30 70         L 70 70       "})),we=function(e){var t=e.svgRef,a=Oe(e,["svgRef"]);return n.a.createElement("svg",ke({viewBox:"0 0 100 100",ref:t},a),je,_e)},Ee=n.a.forwardRef(function(e,t){return n.a.createElement(we,ke({svgRef:t},e))});a.p;function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ne=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 25 10       L 50 10       A 40 40 0 0 1 50 90       L 25 90       Z     "}),Se=function(e){var t=e.svgRef,a=Ce(e,["svgRef"]);return n.a.createElement("svg",xe({viewBox:"0 0 100 100",ref:t},a),Ne)},Me=n.a.forwardRef(function(e,t){return n.a.createElement(Se,xe({svgRef:t},e))});a.p;function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Te(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var De=n.a.createElement("clipPath",{id:"clip"},n.a.createElement("rect",{x:0,y:0,width:100,height:100})),Le=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",clipPath:"url(#clip)",d:"       M 80 18       C 70 14 62 10 50 10       C 42 10 22 14 22 30       C 22 46 38 48.4 50 50       C 62 51.6 78 54 78 70       C 78 86 59 90 50 90       C 38 90 30 86 20 82     "}),Re=function(e){var t=e.svgRef,a=Te(e,["svgRef"]);return n.a.createElement("svg",Pe({viewBox:"0 0 100 100",ref:t},a),De,Le)},Ae=n.a.forwardRef(function(e,t){return n.a.createElement(Re,Pe({svgRef:t},e))});a.p;function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var He=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-42,0)",d:"       M 80 18       C 70 14 62 10 50 10       C 42 10 22 14 22 30       C 22 46 38 48.4 50 50       C 62 51.6 78 54 78 70       C 78 86 59 90 50 90       C 38 90 30 86 20 82     "}),Ue=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(42,0)",d:"       M 75 10       L 25 10       L 25 90       L 75 90       M 30 50       L 65 50     "}),Ie=function(e){var t=e.svgRef,a=Fe(e,["svgRef"]);return n.a.createElement("svg",We({viewBox:"0 0 100 100",ref:t},a),He,Ue)},Qe=n.a.forwardRef(function(e,t){return n.a.createElement(Ie,We({svgRef:t},e))});a.p;function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ze=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-44,0)",d:"       M 25 10       L 60 10       A 20 20 0 0 1 60 50       A 20 20 0 0 1 60 90       L 25 90       Z       M 30 50       L 60 50     "}),Ge=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(44,0)",d:"       M 25 90       L 25 10       L 60 10       A 20 20 0 0 1 60 50       L 30 50     "}),qe=function(e){var t=e.svgRef,a=Ve(e,["svgRef"]);return n.a.createElement("svg",Be({viewBox:"0 0 100 100",ref:t},a),ze,Ge)},Ze=n.a.forwardRef(function(e,t){return n.a.createElement(qe,Be({svgRef:t},e))});a.p;function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ye=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-43,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),Je=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(48,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),$e=function(e){var t=e.svgRef,a=Xe(e,["svgRef"]);return n.a.createElement("svg",Ke({viewBox:"0 0 100 100",ref:t},a),Ye,Je)},et=n.a.forwardRef(function(e,t){return n.a.createElement($e,Ke({svgRef:t},e))});a.p;function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var rt=n.a.createElement("clipPath",{id:"clip"},n.a.createElement("rect",{x:0,y:0,width:100,height:100})),nt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",strokeLinejoin:"bevel",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-40,0)",clipPath:"url(#clip)",d:"       M 10 90       L 10 -10       L 50 65       L 90 -10       L 90 90     "}),ot=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(60,0)",d:"       M 75 10       L 25 10       L 25 90       M 30 50       L 65 50     "}),it=function(e){var t=e.svgRef,a=at(e,["svgRef"]);return n.a.createElement("svg",tt({viewBox:"0 0 100 100",ref:t},a),rt,nt,ot)},lt=n.a.forwardRef(function(e,t){return n.a.createElement(it,tt({svgRef:t},e))});a.p;function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ht=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-52,0)",d:"     M 25 90     L 25 10     L 60 10     A 20 20 0 0 1 60 50     L 30 50     "}),ut=n.a.createElement("clipPath",{id:"clip"},n.a.createElement("rect",{x:0,y:0,width:100,height:100})),pt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",strokeLinejoin:"bevel",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(45,0)",clipPath:"url(#clip)",d:"       M 10 -10       L 25 100       L 50 35       L 75 100       L 90 -10     "}),dt=function(e){var t=e.svgRef,a=ct(e,["svgRef"]);return n.a.createElement("svg",st({viewBox:"0 0 100 100",ref:t},a),ht,ut,pt)},ft=n.a.forwardRef(function(e,t){return n.a.createElement(dt,st({svgRef:t},e))});a.p;function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function gt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var vt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-50,0)",d:"       M 25 90       L 25 10       L 60 10       A 20 20 0 0 1 60 50       L 30 50     "}),yt=n.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(48,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),bt=function(e){var t=e.svgRef,a=gt(e,["svgRef"]);return n.a.createElement("svg",mt({viewBox:"0 0 100 100",ref:t},a),vt,yt)},kt=n.a.forwardRef(function(e,t){return n.a.createElement(bt,mt({svgRef:t},e))}),Ot=(a.p,function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e;switch(this.props.type){case"Gene":e=n.a.createElement(fe,null);break;case"Compound":e=n.a.createElement(be,null);break;case"Anatomy":e=n.a.createElement(Ee,null);break;case"Disease":e=n.a.createElement(Me,null);break;case"Symptom":e=n.a.createElement(Ae,null);break;case"Side Effect":e=n.a.createElement(Qe,null);break;case"Biological Process":e=n.a.createElement(Ze,null);break;case"Cellular Component":e=n.a.createElement(et,null);break;case"Molecular Function":e=n.a.createElement(lt,null);break;case"Pathway":e=n.a.createElement(ft,null);break;case"Pharmacologic Class":e=n.a.createElement(kt,null)}var t="#424242",a="#fafafa",r=this.props.hetioStyles[this.props.type];return r&&r.fill_color&&(t=r.fill_color),r&&r.text_color&&(a=r.text_color),n.a.createElement("div",{className:"metanode_chip",style:{color:a}},n.a.createElement("svg",{viewBox:"0 0 100 100"},n.a.createElement("circle",{cx:"50",cy:"50",r:"49",fill:t})),e)}}]),t}(r.Component));Ot=Object(c.b)(function(e){return{hetioStyles:e.hetioStyles}})(Ot);var jt=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e;switch(this.props.direction){case"backward":e=n.a.createElement(ce,null);break;case"forward":e=n.a.createElement(ne,null);break;default:e=n.a.createElement($,null)}var t="";return this.props.metagraph.kind_to_abbrev&&(t=this.props.metagraph.kind_to_abbrev[this.props.type]),n.a.createElement("div",{className:"metaedge_chip","data-name":this.props.type,"data-abbreviation":t},e)}}]),t}(r.Component);function _t(e,t){return e.map(function(e,a){return"node"===e.element?n.a.createElement(wt,{key:a,type:e.type,name:e.name,expanded:t}):"edge"===e.element?n.a.createElement(jt,{key:a,type:e.type,direction:e.direction}):""})}jt=Object(c.b)(function(e){return{metagraph:e.metagraph}})(jt);var wt=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e="#424242",t="#fafafa",a=this.props.hetioStyles[this.props.type];return a&&a.fill_color&&(e=a.fill_color),a&&a.text_color&&(t=a.text_color),n.a.createElement("span",{className:"node_chip",style:{background:e,color:t},"data-expanded":this.props.expanded},this.props.name)}}]),t}(r.Component);wt=Object(c.b)(function(e){return{hetioStyles:e.hetioStyles}})(wt);var Et=a(64),xt=a.n(Et),Ct=(a(120),function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.open=!1,e.state.x=0,e.state.y=0,e.state.opacity=0,e.onMouseEnter=e.onMouseEnter.bind(Object(_.a)(e)),e.openTooltip=e.openTooltip.bind(Object(_.a)(e)),e.onMouseLeave=e.onMouseLeave.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"onMouseEnter",value:function(e){var t=this,a=e.target;window.setTimeout(function(){return t.openTooltip(a)},1e3),this.setState({hover:!0})}},{key:"openTooltip",value:function(e){if(this.state.hover&&e){var t=e.getBoundingClientRect().left+document.documentElement.scrollLeft,a=e.getBoundingClientRect().top+document.documentElement.scrollTop,r=Math.min(t,document.body.clientWidth-200),n=a;this.setState({open:!0,x:r,y:n})}else this.setState({open:!1})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1,open:!1})}},{key:"render",value:function(){if(!this.props.text)return n.a.createElement(n.a.Fragment,null,this.props.children);var e={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},t=n.a.Children.map(this.props.children,function(t){return n.a.isValidElement(t)?n.a.cloneElement(t,e):"string"===typeof t?n.a.createElement("span",e,t):t});return n.a.createElement(n.a.Fragment,null,t,this.state.open&&n.a.createElement(Nt,{text:this.props.text,open:this.state.open,x:this.state.x,y:this.state.y}))}}]),t}(r.Component)),Nt=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return i.a.createPortal(n.a.createElement(xt.a,{in:this.props.open},n.a.createElement("div",{className:"tooltip",style:{left:this.props.x+"px",top:this.props.y+"px"}},this.props.text)),document.body)}}]),t}(r.Component),St=(a(141),function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Ct,{text:this.props.tooltipText},n.a.createElement("button",{className:this.props.className,onClick:function(t){t.ctrlKey?e.props.onCtrlClick&&e.props.onCtrlClick():t.shiftKey?e.props.onShiftClick&&e.props.onShiftClick():e.props.onClick&&e.props.onClick()}},this.props.children))}}]),t}(r.Component)),Mt=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement(St,{className:this.props.className+" text_button small",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.text&&n.a.createElement("span",null,this.props.text),n.a.createElement(q.a,{icon:this.props.icon,className:"text_button_icon"}))}}]),t}(r.Component),Pt=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement(St,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&n.a.createElement(q.a,{className:"fa-xs",icon:Z.e}))}}]),t}(r.Component),Tt=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement(St,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&n.a.createElement(q.a,{className:"fa-xs",icon:Z.l}))}}]),t}(r.Component),Dt=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement(St,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&n.a.createElement(q.a,{className:"fa-xs",icon:Z.m}))}}]),t}(r.Component),Lt=a(101),Rt="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/hetnet/json/hetionet-v1.0-metagraph.json",At="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/describe/definitions.json",Wt="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/describe/styles.json",Ft="https://search-api.het.io/v1/nodes/",Ht="https://search-api.het.io/v1/random-node-pair/",Ut="https://search-api.het.io/v1/query-metapaths/",It="https://search-api.het.io/v1/query-paths/";function Qt(e){return fetch(e).then(function(e){return e.json()}).then(function(e){return e||{}}).catch(function(e){return console.log(e),{}})}function Bt(e){return e?Qt(Ft+e):null}function Vt(e,t,a){var r=new URLSearchParams;return r.set("source",e),r.set("target",t),r.set("metapath",a),Qt(It+"?"+r.toString()).then(function(e){return e})}function zt(e){return{type:"update_source_target_nodes",payload:{sourceNode:e.sourceNode,targetNode:e.targetNode}}}function Gt(e){return{type:"update_metapaths",payload:{metapaths:e.metapaths}}}function qt(e){return{type:"update_path_queries",payload:{pathQueries:e.pathQueries}}}a(142);var Zt=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.filters=[],e.state.filterString="",e.updateFilters=e.updateFilters.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"updateFilters",value:function(e,t){this.setState({filters:e,filterString:t})}},{key:"render",value:function(){return n.a.createElement("section",{className:"center"},n.a.createElement(Kt.Provider,{value:{filterString:this.state.filterString}},n.a.createElement(Xt,{filters:this.state.filters,filterString:this.state.filterString,updateFilters:this.updateFilters}),n.a.createElement(Jt,null),n.a.createElement(ra,null),n.a.createElement(na,null),n.a.createElement($t,null)))}}]),t}(r.Component),Kt=n.a.createContext({}),Xt=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).toggle=a.toggle.bind(Object(_.a)(a)),a.solo=a.solo.bind(Object(_.a)(a)),a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.metagraph.metanode_kinds!==this.props.metagraph.metanode_kinds){var t=[],a=!0,r=!1,n=void 0;try{for(var o,i=this.props.metagraph.metanode_kinds[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;t.push({name:l,active:!0})}}catch(s){r=!0,n=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}t=g(t,["Gene","Compound","Anatomy","Disease","Symptom","Side Effect","Biological Process","Cellular Component","Molecular Function","Pathway","Pharmacolocic Class"],"name"),this.props.updateFilters(t,"")}}},{key:"allOn",value:function(e){var t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){if(!n.value.active)return!1}}catch(i){a=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}return!0}},{key:"allOthersOff",value:function(e,t){var a=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;if(t!==l.name&&l.active)return!1}}catch(s){r=!0,n=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}return!0}},{key:"toggle",value:function(e){var t=this.props.filters.slice(),a=!0,r=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;l.name===e&&(l.active=!l.active)}}catch(s){r=!0,n=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}this.props.updateFilters(t,this.toString(t))}},{key:"solo",value:function(e){var t=this.props.filters.slice(),a=this.allOthersOff(t,e),r=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;a?s.active=!0:e===s.name?s.active=!0:s.active=!1}}catch(c){n=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}this.props.updateFilters(t,this.toString(t))}},{key:"toString",value:function(e){if(this.allOn(e))return"";var t=[],a=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;l.active&&t.push(this.props.metagraph.kind_to_abbrev[l.name])}}catch(s){r=!0,n=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}return t.join(",")}},{key:"render",value:function(){var e=this,t=this.props.filters.map(function(t,a){return n.a.createElement(Yt,{key:a,name:t.name,tooltipText:e.props.hetioDefinitions.metanodes[t.name],active:t.active,toggle:e.toggle,solo:e.solo})});return n.a.createElement(n.a.Fragment,null,t)}}]),t}(r.Component);Xt=Object(c.b)(function(e){return{metagraph:e.metagraph,hetioDefinitions:e.hetioDefinitions}})(Xt);var Yt=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(St,{className:"node_search_filter_button"+(this.props.active?"":" node_search_filter_button_off"),tooltipText:this.props.tooltipText,onClick:function(){return e.props.toggle(e.props.name)},onCtrlClick:function(){return e.props.solo(e.props.name)}},n.a.createElement(Ot,{type:this.props.name}),this.props.name)}}]),t}(r.Component),Jt=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).onChange=e.onChange.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"onChange",value:function(e){this.props.dispatch(zt({sourceNode:e}))}},{key:"render",value:function(){return n.a.createElement(ea,{label:"Source Node",tooltipText:"The starting node of the paths",value:this.props.node,onChange:this.onChange})}}]),t}(r.Component);Jt=Object(c.b)(function(e){return{node:e.sourceNode}})(Jt);var $t=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).onChange=e.onChange.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"onChange",value:function(e){this.props.dispatch(zt({targetNode:e})),e&&document.activeElement.blur()}},{key:"render",value:function(){return n.a.createElement(ea,{label:"Target Node",tooltipText:"The ending node of the paths",value:this.props.node,onChange:this.onChange})}}]),t}(r.Component);$t=Object(c.b)(function(e){return{node:e.targetNode}})($t);var ea=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={},a.state.searchResults=[],a.inputRef=n.a.createRef(),a.formRef=n.a.createRef(),a.onInput=a.onInput.bind(Object(_.a)(a)),a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"onInput",value:function(e){var t=this;(function(e,t){var a=new URLSearchParams;return a.set("search",e),a.set("limit","100"),t&&a.set("metanodes",t),Qt(Ft+"?"+a.toString()).then(function(e){return e.results})})(e,this.context.filterString).then(function(e){return t.setState({searchResults:e||[]})})}},{key:"itemToString",value:function(e){return e&&e.name?e.name:""}},{key:"render",value:function(){var e=this;return n.a.createElement(F.a,{onChange:this.props.onChange,onInputValueChange:this.onInput,itemToString:this.itemToString,selectedItem:this.props.value},function(t){var a=t.getInputProps,r=t.getItemProps,o=t.getMenuProps,i=t.isOpen,l=t.selectedItem,s=t.highlightedIndex,c=t.clearSelection;return n.a.createElement("div",{className:"node_search_form",ref:e.formRef},n.a.createElement("span",{className:"small light node_search_form_label"},n.a.createElement(Ct,{text:e.props.tooltipText},e.props.label)),n.a.createElement(ta,{inputRef:e.inputRef,getInputProps:a,clearSelection:c,selectedItem:l}),n.a.createElement(aa,{isOpen:i,inputRef:e.inputRef,formRef:e.formRef,getMenuProps:o,searchResults:e.state.searchResults,selectedItem:l,highlightedIndex:s,getItemProps:r}))})}}]),t}(r.Component);ea.contextType=Kt;var ta=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.focused=!1,e.onInput=e.onInput.bind(Object(_.a)(e)),e.onFocus=e.onFocus.bind(Object(_.a)(e)),e.onBlur=e.onBlur.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"onInput",value:function(e){""===e.target.value&&this.props.clearSelection()}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"render",value:function(){var e=n.a.createElement(n.a.Fragment,null),t=!this.state.focused&&this.props.selectedItem.metanode&&this.props.selectedItem.name;return t&&(e=n.a.createElement("div",{className:"node_search_field_overlay"},n.a.createElement(Ot,{type:this.props.selectedItem.metanode}),n.a.createElement("span",{className:"node_search_results_item_name nowrap"},this.props.selectedItem.name))),n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a,Object.assign({},this.props.getInputProps({onChange:this.onInput}),{inputRef:this.props.inputRef,placeholder:"id, name, or metanode",classes:{root:"node_search_field_container"},InputProps:{classes:{root:"node_search_field",focused:"node_search_field_focused",input:t?"node_search_input_blank":"node_search_input"}},onFocus:this.onFocus,onBlur:this.onBlur})),e,n.a.createElement("div",{className:"node_search_icon"},n.a.createElement(q.a,{icon:Z.q})))}}]),t}(r.Component),aa=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Q.a,Object.assign({open:this.props.isOpen,anchorEl:this.props.inputRef.current,placement:"bottom-start",className:"node_search_results_popper",container:this.props.formRef.current,disablePortal:!0},this.props.getMenuProps()),n.a.createElement(V.a,{className:"node_search_results_paper"},this.props.searchResults.map(function(t,a){return n.a.createElement(G.a,Object.assign({className:"node_search_results_item"+(e.props.selectedItem.id===t.id?" node_search_results_item_selected":"")+(e.props.highlightedIndex===a?" node_search_results_item_selected":"")},e.props.getItemProps({item:t,key:a})),n.a.createElement(Ot,{type:t.metanode}),n.a.createElement("span",{className:"node_search_results_item_name"},t.name),n.a.createElement("span",{className:"node_search_results_item_identifier"},t.identifier))})))}}]),t}(r.Component),ra=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).onClick=e.onClick.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"onClick",value:function(){this.props.dispatch({type:"swap_source_target_nodes"})}},{key:"render",value:function(){return n.a.createElement(St,{tooltipText:"Swap source and target node",className:"node_search_swap_button",onClick:this.onClick},n.a.createElement(q.a,{icon:Z.i}))}}]),t}(r.Component);ra=Object(c.b)()(ra);var na=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).onClick=e.onClick.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"onClick",value:function(){var e=this;Qt(Ht).then(function(e){return e}).then(function(e){return Promise.all([Bt(e.source_id),Bt(e.target_id)])}).then(function(t){var a=Object(W.a)(t,2),r=a[0],n=a[1];return e.props.dispatch(zt({sourceNode:r,targetNode:n}))})}},{key:"render",value:function(){return n.a.createElement(St,{tooltipText:"Get a random source and target node",className:"node_search_swap_button",onClick:this.onClick},n.a.createElement(q.a,{icon:Z.g}))}}]),t}(r.Component);na=Object(c.b)()(na);a(258);var oa=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.focused=!1,e.field=n.a.createRef(),e.onClick=e.onClick.bind(Object(_.a)(e)),e.onBlur=e.onBlur.bind(Object(_.a)(e)),e.onFocus=e.onFocus.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"onClick",value:function(e){e&&e.target&&"a"===e.target.tagName.toLowerCase()&&e.target.click(),this.field.current.focus()}},{key:"onBlur",value:function(){this.setState({focused:!1},this.deselectAll)}},{key:"onFocus",value:function(){this.setState({focused:!0},this.selectAll)}},{key:"deselectAll",value:function(){window.getSelection().empty()}},{key:"selectAll",value:function(){window.setTimeout(function(){window.getSelection().empty(),window.getSelection().selectAllChildren(document.activeElement)},10)}},{key:"render",value:function(){var e;return"string"===typeof(e=this.state.focused&&this.props.fullValue||this.props.value)&&(e=n.a.createElement("span",{className:"nowrap"},e)),n.a.createElement("div",{ref:this.field,tabIndex:"0",onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur,className:"dynamic_field "+(this.props.className||""),"data-expanded":this.state.focused},e)}}]),t}(r.Component),ia=(a(259),function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.collapsed=!1,e.loadState=e.loadState.bind(Object(_.a)(e)),e.saveState=e.saveState.bind(Object(_.a)(e)),e.toggle=e.toggle.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.loadState()&&this.setState({collapsed:!0})}},{key:"loadState",value:function(){var e=this.props.label;return e&&"true"===window.localStorage.getItem(e)}},{key:"saveState",value:function(e){var t=this.props.label;t&&window.localStorage.setItem(t,String("true"===String(e)))}},{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed}),this.saveState(!this.state.collapsed)}},{key:"render",value:function(){return n.a.createElement("div",{className:"collapsible_section","data-collapsed":this.state.collapsed},n.a.createElement(St,{tooltipText:this.props.tooltipText,className:"collapsible_section_header",onClick:this.toggle},n.a.createElement("div",null,this.props.label),n.a.createElement(q.a,{icon:this.state.collapsed?Z.d:Z.a})),this.props.children)}}]),t}(r.Component)),la=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("section",null,n.a.createElement(sa,{label:"Source Node",node:this.props.sourceNode}),n.a.createElement(sa,{label:"Target Node",node:this.props.targetNode}))}}]),t}(r.Component);la=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode}})(la);var sa=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement(ia,{label:this.props.label,tooltipText:"Details about the "+this.props.label.toLowerCase()},this.props.node.name?n.a.createElement(ca,{node:this.props.node}):n.a.createElement(ha,{label:this.props.label}))}}]),t}(r.Component),ca=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.showMore=!1,e.toggleShowMore=e.toggleShowMore.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"toggleShowMore",value:function(){this.setState({showMore:!this.state.showMore})}},{key:"rows",value:function(){var e=this,t={};this.props.hetioDefinitions.properties&&(t=Object(h.a)({},t,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),t=Object(h.a)({},t,this.props.hetmechDefinitions);var a=["name","metanode","source","identifier","id"];a=a.map(function(a){var r;if("metanode"===a)r=n.a.createElement(n.a.Fragment,null,n.a.createElement(Ot,{type:e.props.node[a]}),n.a.createElement("span",{className:"nowrap"},e.props.node[a]));else if("source"===a){var o=e.props.node.url||e.props.node.properties.url||"",i=e.props.node.properties.source||o;i=function(e){for(var t=0,a=["^http://","^https://","^www."];t<a.length;t++){var r=a[t];e=e.replace(new RegExp(r),"")}return e}(i),r=n.a.createElement("a",{className:"nowrap",href:o},i)}return{firstCol:a,secondCol:r||String(e.props.node[a]),tooltipText:t[a]}}),this.state.showMore||(a.splice(a.findIndex(function(e){return"id"===e.firstCol}),1),a.splice(a.findIndex(function(e){return"identifier"===e.firstCol}),1));var r=[];this.state.showMore&&((r=Object.keys(this.props.node.properties)).splice(r.indexOf("source"),1),r.splice(r.indexOf("url"),1),r=r.map(function(a){return{firstCol:a,secondCol:String(e.props.node.properties[a]),tooltipText:t[a]}}));var o=a.concat(r);return(o=g(o,["name","metanode","source","description","identifier","id"],"firstCol")).map(function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"col_s small light"},n.a.createElement(Ct,{text:e.tooltipText},e.firstCol)),n.a.createElement("td",null,n.a.createElement(oa,{value:e.secondCol,className:"left"})))})}},{key:"render",value:function(){return n.a.createElement("table",{className:"node_results_table"},n.a.createElement("tbody",null,this.rows(),n.a.createElement("tr",null,n.a.createElement("td",{className:"center",colSpan:"2"},n.a.createElement(Mt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?Z.d:Z.a,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Show more information about the node"})))))}}]),t}(r.Component);ca=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(ca);var ha=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("table",{className:"node_results_table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"center light"},"select a ",this.props.label.toLowerCase()))))}}]),t}(r.Component),ua=(a(260),function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("section",null,n.a.createElement(ia,{label:"Metapaths",tooltipText:"Metapaths of length <= 3 between the source and target node"},this.props.metapaths.length>0?n.a.createElement(pa,null):n.a.createElement(ka,null)))}}]),t}(r.Component));ua=Object(c.b)(function(e){return{metapaths:e.metapaths}})(ua);var pa=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={},a.state.showMore=!1,a.state.allChecked=!1,a.state.sortColumn="adjusted_p_value",a.state.sortUp=!1,a.toggleShowMore=a.toggleShowMore.bind(Object(_.a)(a)),a.toggleAllChecked=a.toggleAllChecked.bind(Object(_.a)(a)),a.allChecked=a.allChecked.bind(Object(_.a)(a)),a.checkAll=a.checkAll.bind(Object(_.a)(a)),a.uncheckAll=a.uncheckAll.bind(Object(_.a)(a)),a.allOthersUnchecked=a.allOthersUnchecked.bind(Object(_.a)(a)),a.toggleChecked=a.toggleChecked.bind(Object(_.a)(a)),a.soloChecked=a.soloChecked.bind(Object(_.a)(a)),a.changeSort=a.changeSort.bind(Object(_.a)(a)),a.downloadCsv=a.downloadCsv.bind(Object(_.a)(a)),a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.metapaths!==e.metapaths&&this.updateAllChecked()}},{key:"updateAllChecked",value:function(){this.allChecked()?this.setState({allChecked:!0}):this.setState({allChecked:!1})}},{key:"toggleShowMore",value:function(e){e&&e.preventDefault(),this.setState({showMore:!this.state.showMore})}},{key:"toggleAllChecked",value:function(){this.allChecked()?this.uncheckAll():this.checkAll()}},{key:"allChecked",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.props.metapaths[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){if(!r.value.checked)return!1}}catch(o){t=!0,a=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}return!0}},{key:"checkAll",value:function(){var e=this.props.metapaths.slice(),t=!0,a=!1,r=void 0;try{for(var n,o=this.props.metapaths[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.checked=!0}}catch(i){a=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}this.props.dispatch(Gt({metapaths:e}))}},{key:"uncheckAll",value:function(){var e=this.props.metapaths.slice(),t=!0,a=!1,r=void 0;try{for(var n,o=this.props.metapaths[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.checked=!1}}catch(i){a=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}this.props.dispatch(Gt({metapaths:e}))}},{key:"allOthersUnchecked",value:function(e){var t=!0,a=!1,r=void 0;try{for(var n,o=this.props.metapaths[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;if(e!==i.id&&i.checked)return!1}}catch(l){a=!0,r=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}return!0}},{key:"toggleChecked",value:function(e){var t=this.props.metapaths.slice(),a=!0,r=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;l.id===e&&(l.checked=!l.checked)}}catch(s){r=!0,n=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}this.props.dispatch(Gt({metapaths:t}))}},{key:"soloChecked",value:function(e){var t=this.props.metapaths.slice(),a=this.allOthersUnchecked(e),r=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;a||e===s.id?s.checked=!0:s.checked=!1}}catch(c){n=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}this.props.dispatch(Gt({metapaths:t}))}},{key:"changeSort",value:function(e){var t={};t.sortColumn=e,e===this.state.sortColumn?t.sortUp=!this.state.sortUp:t.sortUp=!0,this.setState(t)}},{key:"compareNumbers",value:function(e,t,a){var r=Number(e[a])-Number(t[a]);return Number.isNaN(r)?e[a]<t[a]?-1:e[a]>t[a]?1:0:r}},{key:"compareMetapaths",value:function(e,t,a){return e=e[a],t=t[a],e.length<t.length?-1:e.length>t.length?1:e<t?-1:e>t?1:0}},{key:"downloadCsv",value:function(){this.props.metapaths.length&&this.props.sourceNode.name&&this.props.targetNode.name&&f(function(e){for(var t=[],a=0,r=Object.keys(e[0]);a<r.length;a++){var n=r[a];"number"!==typeof e[0][n]&&"string"!==typeof e[0][n]||t.push(n)}t=g(t,["id","metapath_name","metapath_abbreviation","path_count","adjusted_p_value","p_value","dwpc","dgp_source_degree","dgp_target_degree","dgp_n_dwpcs","dgp_n_nonzero_dwpcs","dgp_nonzero_mean","dgp_nonzero_sd"]);var o=[];o.push(t);var i=!0,l=!1,s=void 0;try{for(var c,h=e[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){var u=c.value,p=[],d=!0,f=!1,m=void 0;try{for(var v,y=t[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=v.value;p.push(u[b])}}catch(k){f=!0,m=k}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}o.push(p)}}catch(k){l=!0,s=k}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}return o}(this.props.metapaths),["metapaths",m(this.props.sourceNode.name),m(this.props.targetNode.name)].join("_"))}},{key:"render",value:function(){var e=this,t=this.props.metapaths,a=this.state.sortColumn;"metapath_metaedges"===a?t.sort(function(t,r){return e.compareMetapaths(t,r,a)}):t.sort(function(t,r){return e.compareNumbers(t,r,a)}),this.state.sortUp&&t.reverse();var r=t.length,o=0,i=!0,l=!1,s=void 0;try{for(var c,h=t[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){c.value.checked&&o++}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}return n.a.createElement(da.Provider,{value:{sortedMetapaths:t,showMore:this.state.showMore,allChecked:this.state.allChecked,toggleAllChecked:this.toggleAllChecked,toggleChecked:this.toggleChecked,soloChecked:this.soloChecked,sortColumn:this.state.sortColumn,sortUp:this.state.sortUp,changeSort:this.changeSort}},n.a.createElement("div",{className:"table_attic"},n.a.createElement(Mt,{text:".csv",icon:Z.h,className:"link_button small",onClick:this.downloadCsv,tooltipText:"Download table as .csv file"}),n.a.createElement(Mt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?Z.b:Z.c,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Expand table and show more columns"}),n.a.createElement("div",{className:"small light right"},r," results, ",o," selected")),n.a.createElement("div",{className:"table_container","data-expanded":this.state.showMore},n.a.createElement("table",{className:"metapath_results_table"},n.a.createElement(fa,null),n.a.createElement(va,null))))}}]),t}(r.Component),da=n.a.createContext({});pa=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metapaths:e.metapaths}})(pa);var fa=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=n.a.createElement("tr",null,n.a.createElement("td",{className:"col_xs"}),n.a.createElement("td",{className:"col_l"}),n.a.createElement("td",{className:"col_s"}),n.a.createElement("td",{className:"col_m"}),n.a.createElement("td",{className:"col_m"}),n.a.createElement("td",{className:"col_s"}),n.a.createElement("td",{className:"col_xxl center",colSpan:"6"},n.a.createElement("div",{className:"divider"},"Null DWPC distribution information"))),a={};this.props.hetioDefinitions.properties&&(a=Object(h.a)({},a,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),a=Object(h.a)({},a,this.props.hetmechDefinitions);var r=n.a.createElement(n.a.Fragment,null,n.a.createElement("td",{className:"col_xs"},n.a.createElement(Pt,{checked:this.context.allChecked,onClick:function(){return e.context.toggleAllChecked()},onCtrlClick:function(){return e.context.toggleAllChecked()},tooltipText:"Show all paths"})),n.a.createElement(ma,{className:"col_l",buttonClass:"left",fieldName:"metapath_metaedges",tooltipText:a.metapath,text:"metapath"}),n.a.createElement(ma,{className:"col_s",fieldName:"path_count",tooltipText:a.path_count,text:"path count"}),n.a.createElement(ma,{className:"col_m",fieldName:"adjusted_p_value",tooltipText:a.adjusted_p_value,text:n.a.createElement("span",null,"adjusted",n.a.createElement("br",null),n.a.createElement("i",null,"p"),"-value")})),o=n.a.createElement(n.a.Fragment,null,n.a.createElement(ma,{className:"col_m",fieldName:"p_value",tooltipText:a.p_value,text:n.a.createElement(n.a.Fragment,null,n.a.createElement("i",null,"p"),"-value")}),n.a.createElement(ma,{className:"col_s",fieldName:"dwpc",tooltipText:a.dwpc,text:"DWPC"}),n.a.createElement(ma,{fieldName:"dgp_source_degree",tooltipText:a.dgp_source_degree,text:"source degree"}),n.a.createElement(ma,{fieldName:"dgp_target_degree",tooltipText:a.dgp_target_degree,text:"target degree"}),n.a.createElement(ma,{fieldName:"dgp_n_dwpcs",tooltipText:a.dgp_n_dwpcs,text:"# DWPC's"}),n.a.createElement(ma,{fieldName:"dgp_n_nonzero_dwpcs",tooltipText:a.dgp_n_nonzero_dwpcs,text:"# non-0 DWPC's"}),n.a.createElement(ma,{fieldName:"dgp_nonzero_mean",tooltipText:a.dgp_nonzero_mean,text:"non-0 mean"}),n.a.createElement(ma,{fieldName:"dgp_nonzero_sd",tooltipText:a.dgp_nonzero_sd,text:n.a.createElement(n.a.Fragment,null,"non-0 \u03c3")}));return n.a.createElement("thead",{className:"small light"},this.context.showMore&&t,n.a.createElement("tr",null,r,this.context.showMore&&o))}}]),t}(r.Component);fa.contextType=da,fa=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(fa);var ma=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("td",{className:this.props.className},n.a.createElement(ga,{text:this.props.text,tooltipText:this.props.tooltipText,fieldName:this.props.fieldName,className:this.props.buttonClass}))}}]),t}(r.Component),ga=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(St,{tooltipText:this.props.tooltipText,className:"sort_button "+(this.props.className||""),onClick:function(){return e.context.changeSort(e.props.fieldName)}},this.props.text,n.a.createElement(q.a,{icon:this.props.fieldName===this.context.sortColumn?this.context.sortUp?Z.t:Z.s:Z.r}))}}]),t}(r.Component);ga.contextType=da;var va=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("tbody",null,this.context.sortedMetapaths.map(function(t,a){return n.a.createElement(ya,{key:a,metapath:t,checked:t.checked,showMore:e.props.showMore})}))}}]),t}(r.Component);va.contextType=da;var ya=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.metapath,r=n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,n.a.createElement(Pt,{checked:this.props.checked,onClick:function(){return t.context.toggleChecked(t.props.metapath.id)},onCtrlClick:function(){return t.context.soloChecked(t.props.metapath.id)},tooltipText:"Show these "+(this.props.metapath.path_count||"")+" paths in the paths table"})),n.a.createElement(ba,{fieldClass:"left",value:(e=a.metapath_metaedges,e.map(function(t,a){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(Ot,{type:t[0]}),n.a.createElement(jt,{type:t[2],direction:t[3]}),a===e.length-1&&n.a.createElement(Ot,{type:t[1]}))})),fullValue:a.metapath_name}),n.a.createElement(ba,{value:a.path_count}),n.a.createElement(ba,{style:{backgroundColor:d(a.adjusted_p_value)},value:u(a.adjusted_p_value),fullValue:a.adjusted_p_value})),o=n.a.createElement(n.a.Fragment,null,n.a.createElement(ba,{style:{backgroundColor:d(a.p_value)},value:u(a.p_value),fullValue:a.p_value}),n.a.createElement(ba,{value:p(a.dwpc),fullValue:a.dwpc}),n.a.createElement(ba,{value:a.dgp_source_degree}),n.a.createElement(ba,{value:a.dgp_target_degree}),n.a.createElement(ba,{value:a.dgp_n_dwpcs}),n.a.createElement(ba,{value:a.dgp_n_nonzero_dwpcs}),n.a.createElement(ba,{value:p(a.dgp_nonzero_mean),fullValue:a.dgp_nonzero_mean}),n.a.createElement(ba,{value:p(a.dgp_nonzero_sd),fullValue:a.dgp_nonzero_sd}));return n.a.createElement("tr",null,r,this.context.showMore&&o)}}]),t}(r.Component);ya.contextType=da;var ba=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("td",{className:this.props.className,style:this.props.style},n.a.createElement(oa,{value:this.props.value,fullValue:this.props.fullValue,className:this.props.fieldClass}))}}]),t}(r.Component),ka=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("table",{className:"metapath_results_table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"center light"},"no results to show"))))}}]),t}(r.Component);var Oa=a(45),ja=(a(261),function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("section",null,n.a.createElement(ia,{label:"Paths",tooltipText:"Paths of the selected metapaths"},this.props.pathQueries.length>0?n.a.createElement(_a,null):n.a.createElement(Pa,null)))}}]),t}(r.Component));ja=Object(c.b)(function(e){return{pathQueries:e.pathQueries}})(ja);var _a=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={},a.state.showMore=!1,a.state.allChecked=!1,a.state.allHighlighted=!1,a.state.sortColumn="score",a.state.sortUp=!0,a.toggleShowMore=a.toggleShowMore.bind(Object(_.a)(a)),a.toggleAllChecked=a.toggleAllChecked.bind(Object(_.a)(a)),a.allChecked=a.allChecked.bind(Object(_.a)(a)),a.checkAll=a.checkAll.bind(Object(_.a)(a)),a.uncheckAll=a.uncheckAll.bind(Object(_.a)(a)),a.allOthersUnchecked=a.allOthersUnchecked.bind(Object(_.a)(a)),a.toggleChecked=a.toggleChecked.bind(Object(_.a)(a)),a.soloChecked=a.soloChecked.bind(Object(_.a)(a)),a.toggleAllHighlighted=a.toggleAllHighlighted.bind(Object(_.a)(a)),a.allHighlighted=a.allHighlighted.bind(Object(_.a)(a)),a.highlightAll=a.highlightAll.bind(Object(_.a)(a)),a.unhighlightAll=a.unhighlightAll.bind(Object(_.a)(a)),a.allOthersUnhighlighted=a.allOthersUnhighlighted.bind(Object(_.a)(a)),a.toggleHighlighted=a.toggleHighlighted.bind(Object(_.a)(a)),a.soloHighlighted=a.soloHighlighted.bind(Object(_.a)(a)),a.changeSort=a.changeSort.bind(Object(_.a)(a)),a.downloadCsv=a.downloadCsv.bind(Object(_.a)(a)),a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.pathQueries!==e.pathQueries&&(this.updateAllChecked(),this.updateAllHighlighted())}},{key:"toggleShowMore",value:function(e){e&&e.preventDefault(),this.setState({showMore:!this.state.showMore})}},{key:"updateAllChecked",value:function(){this.allChecked()?this.setState({allChecked:!0}):this.setState({allChecked:!1})}},{key:"toggleAllChecked",value:function(){this.allChecked()?this.uncheckAll():this.checkAll()}},{key:"allChecked",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.props.pathQueries[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value,i=!0,l=!1,s=void 0;try{for(var c,h=o.paths[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){if(!c.value.checked)return!1}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}}}catch(u){t=!0,a=u}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}return!0}},{key:"checkAll",value:function(){var e=this.props.pathQueries.slice(),t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.checked=!0}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){a=!0,r=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}this.props.dispatch(qt({pathQueries:e}))}},{key:"uncheckAll",value:function(){var e=this.props.pathQueries.slice(),t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.checked=!1}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){a=!0,r=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}this.props.dispatch(qt({pathQueries:e}))}},{key:"allOthersUnchecked",value:function(e){var t=!0,a=!1,r=void 0;try{for(var n,o=this.props.pathQueries[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){var p=h.value;if(!this.comparePaths(p,e)&&p.checked)return!1}}catch(d){s=!0,c=d}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(d){a=!0,r=d}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}return!0}},{key:"toggleChecked",value:function(e){var t=this.props.pathQueries.slice(),a=!0,r=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value,s=!0,c=!1,h=void 0;try{for(var u,p=l.paths[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;this.comparePaths(d,e)&&(d.checked=!d.checked)}}catch(f){c=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw h}}}}catch(f){r=!0,n=f}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}this.props.dispatch(qt({pathQueries:t}))}},{key:"soloChecked",value:function(e){var t=this.props.pathQueries.slice(),a=this.allOthersUnchecked(e),r=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value,c=!0,h=!1,u=void 0;try{for(var p,d=s.paths[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var f=p.value;a||this.comparePaths(f,e)?f.checked=!0:f.checked=!1}}catch(m){h=!0,u=m}finally{try{c||null==d.return||d.return()}finally{if(h)throw u}}}}catch(m){n=!0,o=m}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}this.props.dispatch(qt({pathQueries:t}))}},{key:"updateAllHighlighted",value:function(){this.allHighlighted()?this.setState({allHighlighted:!0}):this.setState({allHighlighted:!1})}},{key:"toggleAllHighlighted",value:function(){this.allHighlighted()?this.unhighlightAll():this.highlightAll()}},{key:"allHighlighted",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.props.pathQueries[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value,i=!0,l=!1,s=void 0;try{for(var c,h=o.paths[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){if(!c.value.highlighted)return!1}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}}}catch(u){t=!0,a=u}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}return!0}},{key:"highlightAll",value:function(){var e=this.props.pathQueries.slice(),t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.highlighted=!0}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){a=!0,r=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}this.props.dispatch(qt({pathQueries:e}))}},{key:"unhighlightAll",value:function(){var e=this.props.pathQueries.slice(),t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.highlighted=!1}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){a=!0,r=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}this.props.dispatch(qt({pathQueries:e}))}},{key:"allOthersUnhighlighted",value:function(e){var t=!0,a=!1,r=void 0;try{for(var n,o=this.props.pathQueries[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){var p=h.value;if(!this.comparePaths(p,e)&&p.highlighted)return!1}}catch(d){s=!0,c=d}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(d){a=!0,r=d}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}return!0}},{key:"toggleHighlighted",value:function(e){var t=this.props.pathQueries.slice(),a=!0,r=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value,s=!0,c=!1,h=void 0;try{for(var u,p=l.paths[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;this.comparePaths(d,e)&&(d.highlighted=!d.highlighted)}}catch(f){c=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw h}}}}catch(f){r=!0,n=f}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}this.props.dispatch(qt({pathQueries:t}))}},{key:"soloHighlighted",value:function(e){var t=this.props.pathQueries.slice(),a=this.allOthersUnhighlighted(e),r=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value,c=!0,h=!1,u=void 0;try{for(var p,d=s.paths[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var f=p.value;a?f.highlighted=!0:this.comparePaths(f,e)?f.highlighted=!0:f.highlighted=!1}}catch(m){h=!0,u=m}finally{try{c||null==d.return||d.return()}finally{if(h)throw u}}}}catch(m){n=!0,o=m}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}this.props.dispatch(qt({pathQueries:t}))}},{key:"comparePaths",value:function(e,t){return y(e.node_ids,t.node_ids)&&y(e.rel_ids,t.rel_ids)}},{key:"changeSort",value:function(e){var t={};t.sortColumn=e,e===this.state.sortColumn?t.sortUp=!this.state.sortUp:t.sortUp=!0,this.setState(t)}},{key:"compareNumbers",value:function(e,t,a){var r=Number(e[a])-Number(t[a]);return Number.isNaN(r)?e[a]<t[a]?-1:e[a]>t[a]?1:0:r}},{key:"downloadCsv",value:function(){this.props.pathQueries.length&&this.props.sourceNode.name&&this.props.targetNode.name&&f(function(e){var t={},a=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;t=Object(h.a)({},t,l.nodes)}}catch(Q){r=!0,n=Q}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}var s={},c=!0,u=!1,p=void 0;try{for(var d,f=e[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;s=Object(h.a)({},s,m.relationships)}}catch(Q){u=!0,p=Q}finally{try{c||null==f.return||f.return()}finally{if(u)throw p}}var v=[],y=!0,b=!1,k=void 0;try{for(var O,j=e[Symbol.iterator]();!(y=(O=j.next()).done);y=!0){var _=O.value;v=[].concat(Object(Oa.a)(v),Object(Oa.a)(_.paths))}}catch(Q){b=!0,k=Q}finally{try{y||null==j.return||j.return()}finally{if(b)throw k}}for(var w=0,E=v;w<E.length;w++){var x=E[w];x.description=Da(Ta(x,t,s)).join("")}for(var C=[],N=0,S=Object.keys(v[0]);N<S.length;N++){var M=S[N];"number"!==typeof v[0][M]&&"string"!==typeof v[0][M]||C.push(M)}C=g(C,["description","metapath","score","percent_of_DWPC"]);var P=[];P.push(C);for(var T=0,D=v;T<D.length;T++){var L=D[T],R=[],A=!0,W=!1,F=void 0;try{for(var H,U=C[Symbol.iterator]();!(A=(H=U.next()).done);A=!0){var I=H.value;R.push(L[I])}}catch(Q){W=!0,F=Q}finally{try{A||null==U.return||U.return()}finally{if(W)throw F}}P.push(R)}return P}(this.props.pathQueries),["paths",m(this.props.sourceNode.name),m(this.props.targetNode.name)].join("_"))}},{key:"render",value:function(){var e=this,t={},a=!0,r=!1,o=void 0;try{for(var i,l=this.props.pathQueries[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value;t=Object(h.a)({},t,s.nodes)}}catch(F){r=!0,o=F}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}var c={},u=!0,p=!1,d=void 0;try{for(var f,m=this.props.pathQueries[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var g=f.value;c=Object(h.a)({},c,g.relationships)}}catch(F){p=!0,d=F}finally{try{u||null==m.return||m.return()}finally{if(p)throw d}}var v=[],y=!0,b=!1,k=void 0;try{for(var O,j=this.props.pathQueries[Symbol.iterator]();!(y=(O=j.next()).done);y=!0){var _=O.value;v=[].concat(Object(Oa.a)(v),Object(Oa.a)(_.paths))}}catch(F){b=!0,k=F}finally{try{y||null==j.return||j.return()}finally{if(b)throw k}}v=v.map(function(a){return Object(h.a)({},a,{chipDescription:_t(Ta(a,t,c),e.state.showMore),textDescription:Da(Ta(a,t,c))})});var w=this.state.sortColumn;v.sort(function(t,a){return e.compareNumbers(t,a,w)}),this.state.sortUp&&v.reverse();var E=v.length,x=0,C=!0,N=!1,S=void 0;try{for(var M,P=v[Symbol.iterator]();!(C=(M=P.next()).done);C=!0){M.value.checked&&x++}}catch(F){N=!0,S=F}finally{try{C||null==P.return||P.return()}finally{if(N)throw S}}var T=0,D=!0,L=!1,R=void 0;try{for(var A,W=v[Symbol.iterator]();!(D=(A=W.next()).done);D=!0){A.value.highlighted&&T++}}catch(F){L=!0,R=F}finally{try{D||null==W.return||W.return()}finally{if(L)throw R}}return n.a.createElement(wa.Provider,{value:{sortedPaths:v,showMore:this.state.showMore,allChecked:this.state.allChecked,toggleAllChecked:this.toggleAllChecked,toggleChecked:this.toggleChecked,soloChecked:this.soloChecked,allHighlighted:this.state.allHighlighted,toggleAllHighlighted:this.toggleAllHighlighted,toggleHighlighted:this.toggleHighlighted,soloHighlighted:this.soloHighlighted,sortColumn:this.state.sortColumn,sortUp:this.state.sortUp,changeSort:this.changeSort}},n.a.createElement("div",{className:"table_attic"},n.a.createElement(Mt,{text:".csv",icon:Z.h,className:"link_button small",onClick:this.downloadCsv,tooltipText:"Download table as .csv file"}),n.a.createElement(Mt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?Z.b:Z.c,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Expand table"}),n.a.createElement("div",{className:"small light right"},E," results, ",x," selected,"," ",T," highlighted")),n.a.createElement("div",{className:"table_container","data-expanded":this.state.showMore},n.a.createElement("table",{className:"path_results_table","data-expanded":this.state.showMore},n.a.createElement(Ea,null),n.a.createElement(Na,null))))}}]),t}(r.Component),wa=n.a.createContext({});_a=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metagraph:e.metagraph,pathQueries:e.pathQueries}})(_a);var Ea=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t={};this.props.hetioDefinitions.properties&&(t=Object(h.a)({},t,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),t=Object(h.a)({},t,this.props.hetmechDefinitions);var a=n.a.createElement(n.a.Fragment,null,n.a.createElement("td",{className:"col_xs"},n.a.createElement(Tt,{checked:this.context.allChecked,onClick:function(){return e.context.toggleAllChecked()},onCtrlClick:function(){return e.context.toggleAllChecked()},tooltipText:"Show all paths"})),n.a.createElement("td",{className:"col_xs"},n.a.createElement(Dt,{checked:this.context.allHighlighted,onClick:function(){return e.context.toggleAllHighlighted()},onCtrlClick:function(){return e.context.toggleAllHighlighted()},tooltipText:"Highlight all paths"})),n.a.createElement(xa,{className:"col_s left",buttonClass:"left",fieldName:"metapath",tooltipText:t.metapath,text:"metapath"}),n.a.createElement(xa,{className:"col_xl left",buttonClass:"left",fieldName:"textDescription",tooltipText:t.path,text:"path"}),n.a.createElement(xa,{className:"col_s",fieldName:"score",tooltipText:t.score,text:"path score"}),n.a.createElement(xa,{className:"col_s",fieldName:"percent_of_DWPC",tooltipText:t.percent_of_DWPC,text:"% of DWPC"}));return n.a.createElement("thead",{className:"small light"},n.a.createElement("tr",null,a))}}]),t}(r.Component);Ea.contextType=wa,Ea=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(Ea);var xa=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("td",{className:this.props.className},n.a.createElement(Ca,{text:this.props.text,tooltipText:this.props.tooltipText,fieldName:this.props.fieldName,className:this.props.buttonClass}))}}]),t}(r.Component),Ca=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(St,{tooltipText:this.props.tooltipText,className:"sort_button "+(this.props.className||""),onClick:function(){return e.context.changeSort(e.props.fieldName)}},this.props.text,n.a.createElement(q.a,{icon:this.props.fieldName===this.context.sortColumn?this.context.sortUp?Z.t:Z.s:Z.r}))}}]),t}(r.Component);Ca.contextType=wa;var Na=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("tbody",null,this.context.sortedPaths.map(function(e,t){return n.a.createElement(Sa,{key:t,path:e,checked:e.checked,highlighted:e.highlighted})}))}}]),t}(r.Component);Na.contextType=wa,Na=Object(c.b)(function(e){return{pathQueries:e.pathQueries}})(Na);var Sa=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=this.props.path,a=n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,n.a.createElement(Tt,{checked:this.props.checked,onClick:function(){return e.context.toggleChecked(e.props.path)},onCtrlClick:function(){return e.context.soloChecked(e.props.path)},tooltipText:"Show this path in the graph display"})),n.a.createElement("td",null,n.a.createElement(Dt,{checked:this.props.highlighted,onClick:function(){return e.context.toggleHighlighted(e.props.path)},onCtrlClick:function(){return e.context.soloHighlighted(e.props.path)},tooltipText:"Highlight this path in the graph display"})),n.a.createElement(Ma,{className:"left small",fieldClass:"left",value:t.metapath,fullValue:t.metapath}),n.a.createElement(Ma,{className:"left small",fieldClass:"left",value:t.chipDescription,fullValue:t.textDescription}),n.a.createElement(Ma,{value:t.score?p(t.score):"-",fullValue:t.score||"-"}),n.a.createElement(Ma,{value:p(t.percent_of_DWPC),fullValue:t.percent_of_DWPC}));return n.a.createElement("tr",null,a)}}]),t}(r.Component);Sa.contextType=wa;var Ma=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("td",{className:this.props.className,style:this.props.style},n.a.createElement(oa,{value:this.props.value,fullValue:this.props.fullValue,className:this.props.fieldClass}))}}]),t}(r.Component),Pa=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement("table",{className:"metapath_results_table"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"center light"},"no results to show"))))}}]),t}(r.Component);function Ta(e,t,a){var r=[],n=!0,o=!1,i=void 0;try{for(var l,s=e.node_ids[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=t[l.value];c&&r.push({element:"node",type:c.metanode,name:c.properties.name})}}catch(b){o=!0,i=b}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}for(var h=[],u=0;u<e.rel_ids.length;u++){var p=a[e.rel_ids[u]],d=t[e.node_ids[u]];if(p&&d){var f="";p.directed&&(f=p.source_neo4j_id===d.neo4j_id?"forward":"backward"),h.push({element:"edge",type:p.kind,direction:f})}}for(var m=[],g=0,v=r;g<v.length;g++){var y=v[g];m.push(y),h.length>0&&m.push(h.shift())}return m}function Da(e){return e.map(function(e){if("node"===e.element)return e.name;if("edge"===e.element){var t="\u2013";return"forward"===e.direction?t="\u2192":"backward"===e.direction&&(t="\u2190"),["",t,e.type,t,""].join(" ")}return""})}var La=a(12),Ra=(a(262),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={},a.state.value=a.props.value,a.onChange=a.onChange.bind(Object(_.a)(a)),a.onKeyPress=a.onKeyPress.bind(Object(_.a)(a)),a.onBlur=a.onBlur.bind(Object(_.a)(a)),a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({value:this.props.value})}},{key:"onChange",value:function(e){this.setState({value:e.target.value}),void 0===e.nativeEvent.data?this.onArrows(e.target.value):this.onType(e.target.value)}},{key:"onKeyPress",value:function(e){"enter"===e.key.toLowerCase()&&e.target.blur()}},{key:"onBlur",value:function(e){this.onSubmit(e.target.value)}},{key:"onArrows",value:function(e){this.props.onArrows&&this.props.onArrows(e)}},{key:"onType",value:function(e){this.props.onType&&this.props.onType(e)}},{key:"onSubmit",value:function(e){this.props.onSubmit&&this.props.onSubmit(e)}},{key:"render",value:function(){return n.a.createElement(Ct,{text:this.props.tooltipText},n.a.createElement("input",{type:"number",className:"number_box",onChange:this.onChange,onKeyPress:this.onKeyPress,onBlur:this.onBlur,min:this.props.min,step:this.props.step,max:this.props.max,value:this.state.value}))}}]),t}(r.Component)),Aa=(a(263),3840),Wa=2160,Fa=.25*Math.PI,Ha=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.width=Aa,e.state.height=Wa,e.state.nodeCount=0,e.state.edgeCount=0,e.state.selectedElement=null,e.graph=n.a.createRef(),e.expandContainer=e.expandContainer.bind(Object(_.a)(e)),e.collapseContainer=e.collapseContainer.bind(Object(_.a)(e)),e.updateSectionWidth=e.updateSectionWidth.bind(Object(_.a)(e)),e.setWidth=e.setWidth.bind(Object(_.a)(e)),e.setHeight=e.setHeight.bind(Object(_.a)(e)),e.setGraphCounts=e.setGraphCounts.bind(Object(_.a)(e)),e.setSelectedElement=e.setSelectedElement.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.updateSectionWidth(),this.collapseContainer(),window.addEventListener("resize",this.updateSectionWidth)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.width!==t.width){var a=this.state.width;Math.round(a)!==a&&(a=Math.round(a)),a>Aa&&(a=Aa),a<240&&(a=240),this.setState({width:a})}if(this.state.height!==t.height){var r=this.state.height;Math.round(r)!==r&&(r=Math.round(r)),r>Wa&&(r=Wa),r<240&&(r=240),this.setState({height:r})}}},{key:"updateSectionWidth",value:function(){this.setState({sectionWidth:i.a.findDOMNode(this).clientWidth})}},{key:"expandContainer",value:function(){var e=document.body.clientWidth-20-20,t=3*e/4;this.setState({width:e,height:t})}},{key:"collapseContainer",value:function(){var e=i.a.findDOMNode(this).clientWidth,t=3*e/4;this.setState({width:e,height:t})}},{key:"setWidth",value:function(e){this.setState({width:e})}},{key:"setHeight",value:function(e){this.setState({height:e})}},{key:"downloadSvg",value:function(){!function(e,t){var a=(new XMLSerializer).serializeToString(e),r=new Blob([a],{type:"image/svg+xml"}),n=window.URL.createObjectURL(r),o=document.createElement("a");document.body.appendChild(o),o.href=n,o.download=(t||"data")+".svg",o.click(),window.URL.revokeObjectURL(n),o.remove()}(document.getElementById("graph"))}},{key:"setGraphCounts",value:function(e,t){this.setState({nodeCount:e,edgeCount:t})}},{key:"setSelectedElement",value:function(e){this.setState({selectedElement:e})}},{key:"render",value:function(){var e=this,t="";return this.state.selectedElement&&("node"===this.state.selectedElement.elementType&&(t=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"graph_info_header small light"},"Selected Node"),n.a.createElement(Ia,{node:this.state.selectedElement,primaryFields:["metanode","neo4j_id"],order:["name","metanode","source","url","description","identifier","neo4j_id"]}))),"edge"===this.state.selectedElement.elementType&&(t=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"graph_info_header small light"},"Selected Edge"),n.a.createElement(Ia,{edge:this.state.selectedElement,primaryFields:["kind","directed","neo4j_id"],order:["kind","neo4j_id","source"]})))),n.a.createElement("section",null,n.a.createElement(ia,{label:"Path Graph",tooltipText:"Graph of path results"},n.a.createElement("div",{className:"table_attic"},n.a.createElement(Mt,{text:"reset",icon:Z.p,onClick:function(){e.graph.current&&e.graph.current.restartGraph()},tooltipText:"Completely restart graph"}),n.a.createElement(Mt,{text:"unpin all",icon:Z.o,onClick:function(){e.graph.current&&e.graph.current.unpinAll()},tooltipText:"Unpin all nodes"}),n.a.createElement(Mt,{text:"pin all",icon:Z.n,onClick:function(){e.graph.current&&e.graph.current.pinAll()},tooltipText:"Pin all nodes in their current position"}),n.a.createElement(Mt,{text:"fit",icon:Z.j,onClick:function(){e.graph.current&&e.graph.current.fitView()},tooltipText:"Fit the view to the contents of the graph"}),n.a.createElement(Mt,{text:".svg",icon:Z.h,onClick:this.downloadSvg,tooltipText:"Download the graph as an .svg file"}),n.a.createElement(Ra,{tooltipText:"Width of the container",min:240,step:"5",max:Aa,value:this.state.width,onArrows:this.setWidth,onSubmit:this.setWidth}),"\xd7",n.a.createElement(Ra,{tooltipText:"Height of the container",min:240,step:"5",max:Wa,value:this.state.height,onArrows:this.setHeight,onSubmit:this.setHeight}),n.a.createElement(Mt,{className:"graph_expand_collapse_button",text:"",icon:Z.k,onClick:this.expandContainer,tooltipText:"Fit the graph to the window"}),n.a.createElement(Mt,{className:"graph_expand_collapse_button",text:"",icon:Z.f,onClick:this.collapseContainer,tooltipText:'Fit the graph to the "Path Graph" section'}),n.a.createElement("span",{className:"small light right"},this.state.nodeCount," nodes, ",this.state.edgeCount," edges")),n.a.createElement(Ua,{ref:this.graph,width:this.state.width,height:this.state.height,sectionWidth:this.state.sectionWidth,setGraphCounts:this.setGraphCounts,setSelectedElement:this.setSelectedElement}),t))}}]),t}(r.Component),Ua=function(e){function t(){var e;return Object(b.a)(this,t),(e=Object(O.a)(this,Object(j.a)(t).call(this))).state={},e.state.data=e.assembleGraph(null),e.fitView=e.fitView.bind(Object(_.a)(e)),e.resetView=e.resetView.bind(Object(_.a)(e)),e.onSimulationTick=e.onSimulationTick.bind(Object(_.a)(e)),e.onNodeEdgeClick=e.onNodeEdgeClick.bind(Object(_.a)(e)),e.onNodeDragStart=e.onNodeDragStart.bind(Object(_.a)(e)),e.onNodeDragEnd=e.onNodeDragEnd.bind(Object(_.a)(e)),e.onViewClick=e.onViewClick.bind(Object(_.a)(e)),e}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.createGraph(),this.setState({data:this.assembleGraph()})}},{key:"componentDidUpdate",value:function(e,t){this.props.pathQueries!==e.pathQueries?this.setState({data:this.assembleGraph()}):this.state.data!==t.data&&(v(t.data.nodes,this.state.data.nodes,["neo4j_id"],["x","y","fx","fy","vx","vy"]),this.updateGraph(),this.props.setGraphCounts(this.state.data.nodes.length,this.state.data.edges.length))}},{key:"restartGraph",value:function(){var e=this;this.resetView(),this.state.simulation.alpha(1).restart(),this.setState({data:this.assembleGraph(null)},function(){return e.setState({data:e.assembleGraph()})})}},{key:"createGraph",value:function(){var e=La.h("#graph"),t=La.g().force("link",La.e().distance(100).id(function(e){return e.neo4j_id})).force("collide",La.d().radius(25).strength(1)).force("charge",La.f().strength(-200)).force("center",La.c(0,0));t.on("tick",this.onSimulationTick);var a=La.j().scaleExtent([.25,4]).on("zoom",this.onViewZoom);e.call(a),e.on("click",this.onViewClick);var r=La.a().on("drag",this.onNodeDrag).on("start",this.onNodeDragStart).on("end",this.onNodeDragEnd);this.setState({simulation:t,viewZoomHandler:a,nodeDragHandler:r},this.resetView)}},{key:"onSimulationTick",value:function(){La.i(".graph_edge_line_highlight").each(this.positionEdge),La.i(".graph_edge_line").each(this.positionEdge),La.i(".graph_edge_label").each(this.positionEdgeLabel),La.i(".graph_node_circle_highlight").each(this.positionNode),La.i(".graph_node_circle").each(this.positionNode),La.i(".graph_node_label").each(this.positionNode)}},{key:"positionNode",value:function(e,t,a){var r=a[t];La.h(r).attr("transform","translate("+e.x+","+e.y+")")}},{key:"positionEdge",value:function(e,t,a){var r=e.source.x,n=e.source.y,o=e.target.x,i=e.target.y,l="",s=Math.atan2(i-n,o-r),c=24.75;if(e.directed&&(c+=2.5),0===e.coincidentOffset)l=["M",r+=24.75*Math.cos(s),n+=24.75*Math.sin(s),"L",o-=Math.cos(s)*c,i-=Math.sin(s)*c].join(" ");else{var h=Fa*e.coincidentOffset;r+=24.75*Math.cos(s+h),n+=24.75*Math.sin(s+h),o-=Math.cos(s-h)*c,i-=Math.sin(s-h)*c;var u=Math.sqrt(Math.pow(o-r,2)+Math.pow(i-n,2)),p=Math.min(20,u)*e.coincidentOffset;l=["M",r,n,"Q",(o+r)/2-2*p*(i-n)/u,(i+n)/2+2*p*(o-r)/u,o,i].join(" ")}var d=a[t];La.h(d).attr("d",l)}},{key:"positionEdgeLabel",value:function(e,t,a){var r=e.source.x,n=e.source.y,o=e.target.x,i=e.target.y,l=Math.atan2(i-n,o-r),s=24.75;e.directed&&(s+=2.5);var c=Fa*e.coincidentOffset;r+=24.75*Math.cos(l+c),n+=24.75*Math.sin(l+c),o-=Math.cos(l-c)*s,i-=Math.sin(l-c)*s;var h=Math.sqrt(Math.pow(o-r,2)+Math.pow(i-n,2)),u=Math.min(20,h)*e.coincidentOffset,p=(o+r)/2-u*(i-n)/h,d=(i+n)/2+u*(o-r)/h;(l=l/(2*Math.PI)*360)>90&&(l-=180),l<=-90&&(l+=180);var f=-2.8;u<0&&e.source.x>e.target.x&&(f=8.8);var m=a[t];La.h(m).attr("x",0).attr("y",0).attr("dy",f).attr("transform","translate("+p+","+d+") rotate("+l+") ")}},{key:"fitView",value:function(){var e=La.h("#graph_view").node().getBBox(),t=La.h("#graph").node().getBoundingClientRect();if(0!==e.width&&0!==e.height){t.width-=2,t.height-=2,e.midX=e.x+e.width/2,e.midY=e.y+e.height/2;var a=1/Math.max(e.width/(t.width-25),e.height/(t.height-25)),r=t.width/2-a*e.midX,n=t.height/2-a*e.midY;La.h("#graph").call(this.state.viewZoomHandler.transform,La.k.translate(r,n).scale(a))}}},{key:"resetView",value:function(){var e=La.h("#graph").node().getBoundingClientRect();e.width-=2,e.height-=2;var t=e.width/2,a=e.height/2;La.h("#graph").call(this.state.viewZoomHandler.transform,La.k.translate(t,a).scale(1))}},{key:"unpinAll",value:function(){this.state.data.nodes.forEach(function(e){e.fx=null,e.fy=null}),this.state.simulation.alpha(1).restart()}},{key:"pinAll",value:function(){this.state.data.nodes.forEach(function(e){e.fx=e.x,e.fy=e.y})}},{key:"onNodeEdgeClick",value:function(e){La.b.stopPropagation(),e.selected?this.deselectAll():(this.deselectAll(),e.selected=!0),this.updateNodeCircles(),this.updateEdgeLines(),this.props.setSelectedElement(e)}},{key:"deselectAll",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.state.data.nodes[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){r.value.selected=void 0}}catch(h){t=!0,a=h}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}var o=!0,i=!1,l=void 0;try{for(var s,c=this.state.data.edges[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){s.value.selected=void 0}}catch(h){i=!0,l=h}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}}},{key:"onNodeDragStart",value:function(){this.state.simulation.alphaTarget(1).restart()}},{key:"onNodeDrag",value:function(e){e.fx=La.b.x,e.fy=La.b.y}},{key:"onNodeDragEnd",value:function(){this.state.simulation.alphaTarget(0).restart()}},{key:"onViewClick",value:function(){this.deselectAll(),this.updateNodeCircles(),this.updateEdgeLines(),this.props.setSelectedElement(null)}},{key:"onViewZoom",value:function(){La.h("#graph_view").attr("transform",La.b.transform)}},{key:"updateSimulation",value:function(){var e=this.state.data;this.state.simulation.nodes(e.nodes),this.state.simulation.force("link").links(e.edges),this.state.simulation.alpha(1).restart()}},{key:"updateEdgeLineHighlights",value:function(){var e=this.state.data,t=La.h("#graph_edge_line_highlight_layer").selectAll(".graph_edge_line_highlight").data(e.edges.filter(function(e){return!0===e.highlighted}));t.enter().append("path").merge(t).attr("class","graph_edge_line_highlight").attr("fill","none").attr("stroke","#B3E8F7").attr("stroke-width",10).attr("stroke-linecap","square"),t.exit().remove()}},{key:"updateEdgeLines",value:function(){var e=this.state.data,t=La.h("#graph_edge_line_layer").selectAll(".graph_edge_line").data(e.edges);t.enter().append("path").on("click",this.onNodeEdgeClick).merge(t).attr("class","graph_edge_line").attr("marker-end",function(e){return e.directed?"url(#graph_arrowhead)":""}).attr("fill","none").attr("stroke","#424242").attr("stroke-width",2).style("stroke-dasharray",function(e){return e.selected?"4 2":"none"}).style("cursor","pointer"),t.exit().remove()}},{key:"updateEdgeLabels",value:function(){var e=this.state.data,t=La.h("#graph_edge_label_layer").selectAll(".graph_edge_label").data(e.edges);t.enter().append("text").on("click",this.onNodeEdgeClick).merge(t).attr("class","graph_edge_label").attr("font-size",8).attr("font-weight",500).attr("text-anchor","middle").attr("user-select","none").attr("fill","#424242").style("cursor","pointer").text(function(e){return e.kind}),t.exit().remove()}},{key:"updateNodeCircleHighlights",value:function(){var e=this.state.data,t=La.h("#graph_node_circle_highlight_layer").selectAll(".graph_node_circle_highlight").data(e.nodes.filter(function(e){return!0===e.highlighted}));t.enter().append("circle").merge(t).attr("class","graph_node_circle_highlight").attr("r",25).attr("fill","none").attr("stroke","#B3E8F7").attr("stroke-width",10),t.exit().remove()}},{key:"updateNodeCircles",value:function(){var e=this,t=this.state.data,a=La.h("#graph_node_circle_layer").selectAll(".graph_node_circle").data(t.nodes);a.enter().append("circle").call(this.state.nodeDragHandler).on("click",this.onNodeEdgeClick).merge(a).attr("class","graph_node_circle").attr("r",25).attr("fill",function(t){return e.getNodeFillColor(t.metanode)}).attr("stroke",function(e){return e.selected?"#424242":"none"}).attr("stroke-width",2).style("stroke-dasharray","4 2").style("cursor","pointer"),a.exit().remove()}},{key:"updateNodeLabels",value:function(){var e=this,t=this.state.data,a=La.h("#graph_node_label_layer"),r=a.selectAll(".graph_node_label").data(t.nodes);r.enter().append("foreignObject").attr("class","graph_node_label").append("xhtml:div").append("xhtml:span"),a.selectAll(".graph_node_label").attr("x",-25).attr("y",-25).attr("width",50).attr("height",50).style("pointer-events","none").select("div").style("display","flex").style("justify-content","center").style("align-items","center").style("width","100%").style("height","100%").style("box-sizing","border-box").style("padding","6.25px").select("span").style("text-align","center").style("font-size","8px").style("font-weight",500).style("color",function(t){return e.getNodeTextColor(t.metanode)}).style("word-break","break-word").html(function(e){return e.properties.name.length>25?e.properties.name.substr(0,22)+"...":e.properties.name}),r.exit().remove()}},{key:"updateGraph",value:function(){this.updateEdgeLineHighlights(),this.updateEdgeLines(),this.updateEdgeLabels(),this.updateNodeCircleHighlights(),this.updateNodeCircles(),this.updateNodeLabels(),this.pinSourceAndTargetNodes(),this.updateSimulation()}},{key:"pinSourceAndTargetNodes",value:function(){var e=this.state.data;e.nodes.forEach(function(t){t.neo4j_id===e.source_neo4j_id&&(t.x||t.fx||(t.fx=-200),t.y||t.fy||(t.fy=0)),t.neo4j_id===e.target_neo4j_id&&(t.x||t.fx||(t.fx=200),t.y||t.fy||(t.fy=0))})}},{key:"getNodeFillColor",value:function(e){var t=this.props.hetioStyles[e];return t&&t.fill_color?t.fill_color:"#424242"}},{key:"getNodeTextColor",value:function(e){var t=this.props.hetioStyles[e];return t&&t.text_color?t.text_color:"#fafafa"}},{key:"assembleGraph",value:function(e){var t={source_neo4j_id:null,target_neo4j_id:null,nodes:[],edges:[]};if(null===e)return t;if(e||(e=this.props.pathQueries),!e||e.length<=0)return t;var a=e[0].paths[0];t.source_neo4j_id=a.node_ids[0],t.target_neo4j_id=a.node_ids[a.node_ids.length-1];var r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value,c=!0,u=!1,p=void 0;try{for(var d,f=s.paths[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;if(m.checked){var g=!0,v=!1,y=void 0;try{for(var b,k=function(){var e=b.value,a=s.nodes[e],r=t.nodes.find(function(e){return e.neo4j_id===a.neo4j_id});r?m.highlighted&&(r.highlighted=!0):t.nodes.push(Object(h.a)({},a,{highlighted:m.highlighted,elementType:"node"}))},O=m.node_ids[Symbol.iterator]();!(g=(b=O.next()).done);g=!0)k()}catch(B){v=!0,y=B}finally{try{g||null==O.return||O.return()}finally{if(v)throw y}}var j=!0,_=!1,w=void 0;try{for(var E,x=function(){var e=E.value,a=s.relationships[e],r=t.edges.find(function(e){return e.source_neo4j_id===a.source_neo4j_id&&e.target_neo4j_id===a.target_neo4j_id&&e.kind===a.kind&&e.directed===a.directed});r?m.highlighted&&(r.highlighted=!0):t.edges.push(Object(h.a)({},a,{source:a.source_neo4j_id,target:a.target_neo4j_id,highlighted:m.highlighted,elementType:"edge"}))},C=m.rel_ids[Symbol.iterator]();!(j=(E=C.next()).done);j=!0)x()}catch(B){_=!0,w=B}finally{try{j||null==C.return||C.return()}finally{if(_)throw w}}}}}catch(B){u=!0,p=B}finally{try{c||null==f.return||f.return()}finally{if(u)throw p}}}}catch(B){n=!0,o=B}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}var N=[],S=!0,M=!1,P=void 0;try{for(var T,D=function(){for(var e=T.value,t=!1,a=0,r=N;a<r.length;a++){var n=r[a];if(n.find(function(t){return e.source_neo4j_id===t.source_neo4j_id&&e.target_neo4j_id===t.target_neo4j_id||e.source_neo4j_id===t.target_neo4j_id&&e.target_neo4j_id===t.source_neo4j_id})){n.push(e),t=!0;break}}t||N.push([e])},L=t.edges[Symbol.iterator]();!(S=(T=L.next()).done);S=!0)D()}catch(B){M=!0,P=B}finally{try{S||null==L.return||L.return()}finally{if(M)throw P}}for(var R=0,A=N;R<A.length;R++)for(var W=A[R],F=W[0].source_neo4j_id,H=0;H<W.length;H++){var U=0;W.length>1&&(U=H/(W.length-1)-.5),W[H].source_neo4j_id!==F&&(U*=-1),W[H].coincidentOffset=U}var I=t.nodes.findIndex(function(e){return e.neo4j_id===t.source_neo4j_id});-1!==I&&t.nodes.push(t.nodes.splice(I,1)[0]);var Q=t.nodes.findIndex(function(e){return e.neo4j_id===t.target_neo4j_id});return-1!==Q&&t.nodes.push(t.nodes.splice(Q,1)[0]),t}},{key:"render",value:function(){var e=0;if(this.props.sectionWidth&&this.props.width){e=this.props.sectionWidth/2-this.props.width/2;var t=this.props.sectionWidth/2-document.body.clientWidth/2+20;e<t&&(e=t)}var a=(this.props.sourceNode.name||"___")+" \u2192 "+(this.props.targetNode.name||"___"),r=["Graph visualization of the connectivity between ",this.props.sourceNode.name||"___"," (",this.props.sourceNode.metanode||"___",") and ",this.props.targetNode.name||"___"," (",this.props.targetNode.metanode||"___","). ","\n\n","Created at ",window.location.href,"\n\n","This subgraph of Hetionet v1.0 was created from paths between the ","specified source/target nodes that occurred more than expected ","by chance. ","See https://het.io for more information. "].join("");return n.a.createElement("div",{id:"graph_container",style:{height:this.props.height}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"graph",width:this.props.width,height:this.props.height,style:{left:e}},n.a.createElement("title",null,a),n.a.createElement("desc",null,r),n.a.createElement("defs",null,n.a.createElement("style",null,"\n                @import url('https://fonts.googleapis.com/css?family=Raleway:400,500,700');\n                @import url('https://fonts.googleapis.com/css?family=Montserrat:400,500,700&text=0123456789');\n                * {\n                  font-family: 'Montserrat', 'Raleway', sans-serif;\n                }\n              "),n.a.createElement("marker",{id:"graph_arrowhead",viewBox:"0 0 100 100",refX:"80",refY:"50",orient:"auto",markerUnits:"userSpaceOnUse",markerWidth:10,markerHeight:10},n.a.createElement("path",{d:" M 0 0 L 100 50 L 0 100",fill:"#424242"}))),n.a.createElement("g",{id:"graph_view"},n.a.createElement("g",{id:"graph_edge_line_highlight_layer"}),n.a.createElement("g",{id:"graph_node_circle_highlight_layer"}),n.a.createElement("g",{id:"graph_edge_line_layer"}),n.a.createElement("g",{id:"graph_edge_label_layer"}),n.a.createElement("g",{id:"graph_node_circle_layer"}),n.a.createElement("g",{id:"graph_node_label_layer"}))))}}]),t}(r.Component);Ua=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,pathQueries:e.pathQueries,hetioStyles:e.hetioStyles}},null,null,{forwardRef:!0})(Ua);var Ia=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"rows",value:function(){var e={};this.props.hetioDefinitions.properties&&(e=Object(h.a)({},e,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.edges)),(e=Object(h.a)({},e,this.props.hetmechDefinitions)).id&&(e.neo4j_id=e.id);var t=this.props.node||this.props.edge,a=this.props.primaryFields;a=a.map(function(a){return{firstCol:a,secondCol:String(t[a]),tooltipText:e[a]}});var r=Object.keys(t.properties);r=r.map(function(a){return{firstCol:a,secondCol:String(t.properties[a]),tooltipText:e[a]}});var o=a.concat(r),i=(o=g(o,this.props.order,"firstCol")).map(function(e,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("td",{className:"col_s small light"},n.a.createElement(Ct,{text:e.tooltipText},e.firstCol)),n.a.createElement("td",{className:"small"},e.secondCol))}),l=new Array(Math.ceil(i.length/2)).fill().map(function(){return i.splice(0,2)}).map(function(e,t){return n.a.createElement("tr",{key:t},e)});return l}},{key:"render",value:function(){return n.a.createElement("table",{id:"graph_info_table"},n.a.createElement("tbody",null,this.rows()))}}]),t}(r.Component);Ia=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(Ia);a(264);var Qa=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).fetchDefinitions=a.fetchDefinitions.bind(Object(_.a)(a)),a.updateNodesFromUrl=a.updateNodesFromUrl.bind(Object(_.a)(a)),a.updateMetapaths=a.updateMetapaths.bind(Object(_.a)(a)),a.updateHistory=a.updateHistory.bind(Object(_.a)(a)),a.updateTitle=a.updateTitle.bind(Object(_.a)(a)),a.updatePaths=a.updatePaths.bind(Object(_.a)(a)),a.fetchDefinitions(),a.updateNodesFromUrl(),window.addEventListener("popstate",a.updateNodesFromUrl),a}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){e.sourceNode===this.props.sourceNode&&e.targetNode===this.props.targetNode||this.onNodeChange(),e.metapaths!==this.props.metapaths&&this.onMetapathChange()}},{key:"fetchDefinitions",value:function(){this.props.dispatch(function(e){var t=[Qt(Rt),Qt(At),Qt(Wt),Lt];Promise.all(t).then(function(t){var a;e({type:"set_definitions",payload:{metagraph:(a={metagraph:t[0],hetioDefinitions:t[1],hetioStyles:t[2],hetmechDefinitions:t[3]}).metagraph,hetioDefinitions:a.hetioDefinitions,hetioStyles:a.hetioStyles,hetmechDefinitions:a.hetmechDefinitions}})})})}},{key:"updateNodesFromUrl",value:function(){this.props.dispatch(function(e){var t=new URLSearchParams(window.location.search),a=t.get("source"),r=t.get("target"),n=[Bt(a),Bt(r)];Promise.all(n).then(function(t){e(zt({sourceNode:t[0],targetNode:t[1]}))})})}},{key:"onNodeChange",value:function(){this.updateMetapaths(),this.updateHistory(),this.updateTitle()}},{key:"updateMetapaths",value:function(){var e=this;this.props.dispatch(function(t){return function(e,t){var a=new URLSearchParams;return a.set("source",e),a.set("target",t),Qt(Ut+"?"+a.toString()).then(function(e){return e.path_counts})}(e.props.sourceNode.id,e.props.targetNode.id).then(function(e){return t(Gt({metapaths:e}))})})}},{key:"updateHistory",value:function(){var e=new URLSearchParams(window.location.search),t=new URLSearchParams;if(void 0!==this.props.sourceNode.id&&t.set("source",this.props.sourceNode.id),void 0!==this.props.targetNode.id&&t.set("target",this.props.targetNode.id),!(e.get("source")===t.get("source")&e.get("target")===t.get("target"))){var a=t.toString();a.length>0&&(a="?"+a);var r=window.location.origin+window.location.pathname+a;window.history.pushState({},"",r)}}},{key:"updateTitle",value:function(){if(this.props.sourceNode.id||this.props.targetNode.id){var e=(this.props.sourceNode.name||"___")+" \u2192 "+(this.props.targetNode.name||"___");document.title=e}}},{key:"onMetapathChange",value:function(){this.updatePaths()}},{key:"updatePaths",value:function(){var e=this;this.props.dispatch(function(t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e.props.metapaths[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;s.checked&&a.push(Vt(e.props.sourceNode.id,e.props.targetNode.id,s.metapath_abbreviation))}}catch(c){n=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}Promise.all(a).then(function(e){t(qt({pathQueries:e}))})})}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(A,null),n.a.createElement(Zt,null),n.a.createElement(la,null),n.a.createElement(ua,null),n.a.createElement(ja,null),n.a.createElement(Ha,null))}}]),t}(r.Component);Qa=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metapaths:e.metapaths}})(Qa);var Ba=Object(l.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(h.a)({},e);switch(t.type){case"set_definitions":void 0!==t.payload.metagraph&&(a.metagraph=t.payload.metagraph),void 0!==t.payload.hetioDefinitions&&(a.hetioDefinitions=t.payload.hetioDefinitions),void 0!==t.payload.hetioStyles&&(a.hetioStyles=t.payload.hetioStyles),void 0!==t.payload.hetmechDefinitions&&(a.hetmechDefinitions=t.payload.hetmechDefinitions);break;case"update_source_target_nodes":void 0!==t.payload.sourceNode&&(a.sourceNode=t.payload.sourceNode),void 0!==t.payload.targetNode&&(a.targetNode=t.payload.targetNode);break;case"swap_source_target_nodes":e.sourceNode&&e.targetNode&&(a.sourceNode=e.targetNode,a.targetNode=e.sourceNode);break;case"update_metapaths":void 0!==t.payload.metapaths&&(a.metapaths=t.payload.metapaths,v(e.metapaths,a.metapaths,["id"],["checked","highlighted"]));break;case"update_path_queries":void 0!==t.payload.pathQueries&&(a.pathQueries=t.payload.pathQueries,function(e,t,a,r,n){var o,i,l=!0,s=!1,c=void 0;try{for(var h,u=t[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){var p=h.value,d=!0,f=!1,m=void 0;try{for(var g,v=p[a][Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var b=g.value,k=!0,O=!1,j=void 0;try{for(var _,w=e[Symbol.iterator]();!(k=(_=w.next()).done);k=!0){var E=_.value,x=!0,C=!1,N=void 0;try{for(var S,M=E[a][Symbol.iterator]();!(x=(S=M.next()).done);x=!0){var P=S.value,T=!0,D=!0,L=!1,R=void 0;try{for(var A,W=r[Symbol.iterator]();!(D=(A=W.next()).done);D=!0){var F=A.value;if(o=P[F],i=b[F],!(Array.isArray(o)&&Array.isArray(i)?y(o,i,!0):o===i)){T=!1;break}}}catch(z){L=!0,R=z}finally{try{D||null==W.return||W.return()}finally{if(L)throw R}}if(T){var H=!0,U=!1,I=void 0;try{for(var Q,B=n[Symbol.iterator]();!(H=(Q=B.next()).done);H=!0){var V=Q.value;b[V]=P[V]}}catch(z){U=!0,I=z}finally{try{H||null==B.return||B.return()}finally{if(U)throw I}}}}}catch(z){C=!0,N=z}finally{try{x||null==M.return||M.return()}finally{if(C)throw N}}}}catch(z){O=!0,j=z}finally{try{k||null==w.return||w.return()}finally{if(O)throw j}}}}catch(z){f=!0,m=z}finally{try{d||null==v.return||v.return()}finally{if(f)throw m}}}}catch(z){s=!0,c=z}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}(e.pathQueries,a.pathQueries,"paths",["node_ids","rel_ids"],["checked","highlighted"]))}return a.metagraph||(a.metagraph={}),a.hetioDefinitions||(a.hetioDefinitions={}),a.hetioStyles||(a.hetioStyles={}),a.hetmechDefinitions||(a.hetmechDefinitions={}),a.sourceNode||(a.sourceNode={}),a.targetNode||(a.targetNode={}),a.metapaths||(a.metapaths=[]),a.pathQueries||(a.pathQueries=[]),a},Object(l.a)(s.a));Object(o.render)(n.a.createElement(c.a,{store:Ba},n.a.createElement(Qa,null)),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.d82c27e4.chunk.js.map