(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e){e.exports={id:"The unique integer id of the node used internally by Hetmech (but not in Hetionet v1.0)",metapath:"The type of path (metapath) connecting the source node to the target node",path_count:"The number of paths between the source and target node of the specified metapath (path type)",adjusted_p_value:"A measure of the significance of the DWPC that indicates whether more paths were observed than expected due to random chance. Compares the DWPC to a null distribution of DWPCs generated from degree-preserving permuted networks. Bonferroni-adjusted for the number of metapaths with the same source metanode, target metanode, and length.",p_value:"A measure of the significance of the DWPC that indicates whether more paths were observed than expected due to random chance. Compares the DWPC to a null distribution of DWPCs generated from degree-preserving permuted networks. Not adjusted for multiple comparisons (i.e. when multiple metapaths are assessed for significant connectivity between the source and target node).",dwpc:"Degree-Weighted Path Count \u2014 Measures the extent of connectivity between the source and target node for the given metapath. Like the path count, but with less weight given to paths along high-degree nodes.",dgp_source_degree:"The number of edges from the source node that are of the same type as the initial metaedge of the metapath",dgp_target_degree:"The number of edges from the target node that are of the same type as the final metaedge of the metapath",dgp_n_dwpcs:"The number of DWPCs calculated on permuted networks used to generate a null distribution for the DWPC from the real network. Permuted DWPCs are aggregated for all permuted node pairs with the same degrees as the source and target node.",dgp_n_nonzero_dwpcs:"The number of permuted DWPCs from '# of DWPCs' column that were nonzero. Nonzero DWPCs indicate at least one path between the source and target node existed in the permuted network.",dgp_nonzero_mean:"The mean of nonzero permuted DWPCs. Used to generate the gamma-hurdle model of the null DWPC distribution.",dgp_nonzero_sd:"The standard deviation of nonzero permuted DWPCs. Used to generate the gamma-hurdle model of the null DWPC distribution.",path:"The sequence of edges in the network connecting the source node to the target node. Duplicate nodes are not permitted in paths.",score:"A metric of how meaningful the path is in describing the connectivity between the source and target node. The score combines the magnitude of the metapath's p-value with the percent of the DWPC contributed by the path.",percent_of_DWPC:"The contribution of the path to the DWPC for its metapath. This metric compares the importance of all paths of the same metapath from the source node to the target node."}},106:function(e,t,a){e.exports=a(264)},118:function(e,t,a){},119:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),i=a.n(o),l=a(40),s=a(99),c=a(14),h=a(24);var u=a(4),p=a(5),d=a(7),f=a(6),m=a(8),g=a(1);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var y=r.a.createElement("style",null,"\n    #back_line,\n    #front_line,\n    #circle_1,\n    #circle_2,\n    #circle_3,\n    #circle_4 {\n      animation-duration: 1.5s;\n      animation-timing-function: ease;\n      animation-fill-mode: forwards;\n    }\n    #back_line {\n      animation-name: draw_back_line;\n    }\n    @keyframes draw_back_line {\n      0% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 60;\n      }\n      60% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 60;\n      }\n      100% {\n        stroke-dasharray: 60;\n        stroke-dashoffset: 0;\n      }\n    }\n    #front_line {\n      animation-name: draw_front_line;\n    }\n    @keyframes draw_front_line {\n      0% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 158;\n      }\n      60% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 0;\n      }\n      100% {\n        stroke-dasharray: 158;\n        stroke-dashoffset: 0;\n      }\n    }\n    #circle_1 {\n      animation-name: draw_circle_1;\n    }\n    #circle_2 {\n      animation-name: draw_circle_2;\n    }\n    #circle_3 {\n      animation-name: draw_circle_3;\n    }\n    #circle_4 {\n      animation-name: draw_circle_4;\n    }\n    @keyframes draw_circle_1 {\n      0% {\n        transform: scale(0);\n      }\n      20% {\n        transform: scale(0);\n      }\n      40% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_2 {\n      0% {\n        transform: scale(0);\n      }\n      30% {\n        transform: scale(0);\n      }\n      50% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_3 {\n      0% {\n        transform: scale(0);\n      }\n      40% {\n        transform: scale(0);\n      }\n      60% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes draw_circle_4 {\n      0% {\n        transform: scale(0);\n      }\n      50% {\n        transform: scale(0);\n      }\n      70% {\n        transform: scale(1);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n  "),O=r.a.createElement("path",{id:"back_line",stroke:"#bdbdbd",strokeWidth:5,fill:"none",d:"       M 20 50       L 80 50     "}),j=r.a.createElement("path",{id:"front_line",stroke:"#424242",strokeWidth:7.5,fill:"none",d:"       M 0 50       L 20 50       L 40 75       L 60 25       L 80 50       L 100 50     "}),k=r.a.createElement("g",{transform:"translate(20,50)"},r.a.createElement("circle",{id:"circle_1",cx:0,cy:0,r:10,fill:"#02b3e4"})),_=r.a.createElement("g",{transform:"translate(40,75)"},r.a.createElement("circle",{id:"circle_2",cx:0,cy:0,r:10,fill:"#c341d8"})),E=r.a.createElement("g",{transform:"translate(60,25)"},r.a.createElement("circle",{id:"circle_3",cx:0,cy:0,r:10,fill:"#fa750f"})),w=r.a.createElement("g",{transform:"translate(80,50)"},r.a.createElement("circle",{id:"circle_4",cx:0,cy:0,r:10,fill:"#e91e63"})),x=function(e){var t=e.svgRef,a=b(e,["svgRef"]);return r.a.createElement("svg",v({viewBox:"0 0 100 100",ref:t},a),y,O,j,k,_,E,w)},C=r.a.forwardRef(function(e,t){return r.a.createElement(x,v({svgRef:t},e))}),N=(a.p,function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.showLogo=!1,window.setTimeout(function(){return e.setState({showLogo:!0})},1e3),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;return e=this.state.showLogo?r.a.createElement(C,{className:"logo"}):r.a.createElement("svg",{className:"logo"}),r.a.createElement("header",null,e,r.a.createElement("h1",null,"HETMECH"),r.a.createElement("h2",null,"A project of the"," ",r.a.createElement("a",{href:"http://www.greenelab.com/"},"Greene Laboratory")))}}]),t}(n.Component)),S=a(105),M=a(102),P=a.n(M),T=a(103),D=a.n(T),L=a(65),R=a.n(L),A=a(104),W=a.n(A),F=a(27),H=a(9);a(118);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Q=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50     "}),B=function(e){var t=e.svgRef,a=I(e,["svgRef"]);return r.a.createElement("svg",U({viewBox:"0 0 100 100",ref:t},a),Q)},V=r.a.forwardRef(function(e,t){return r.a.createElement(B,U({svgRef:t},e))});a.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var q=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50       M 70 35       L 90 50       L 70 65     "}),Z=function(e){var t=e.svgRef,a=G(e,["svgRef"]);return r.a.createElement("svg",z({viewBox:"0 0 100 100",ref:t},a),q)},K=r.a.forwardRef(function(e,t){return r.a.createElement(Z,z({svgRef:t},e))});a.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Y=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:10,d:"       M 90 50       L 10 50       M 30 35       L 10 50       L 30 65     "}),$=function(e){var t=e.svgRef,a=X(e,["svgRef"]);return r.a.createElement("svg",J({viewBox:"0 0 100 100",ref:t},a),Y)},ee=r.a.forwardRef(function(e,t){return r.a.createElement($,J({svgRef:t},e))});a.p;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ne=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746       L 78.2842755245486 50       L 50 50     "}),re=function(e){var t=e.svgRef,a=ae(e,["svgRef"]);return r.a.createElement("svg",te({viewBox:"0 0 100 100",ref:t},a),ne)},oe=r.a.forwardRef(function(e,t){return r.a.createElement(re,te({svgRef:t},e))});a.p;function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var se=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),ce=function(e){var t=e.svgRef,a=le(e,["svgRef"]);return r.a.createElement("svg",ie({viewBox:"0 0 100 100",ref:t},a),se)},he=r.a.forwardRef(function(e,t){return r.a.createElement(ce,ie({svgRef:t},e))});a.p;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var de=r.a.createElement("clipPath",{id:"clip"},r.a.createElement("rect",{x:0,y:0,width:100,height:100})),fe=r.a.createElement("g",null,r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.5) translate(-50,-50)",clipPath:"url(#clip)",d:"         M 10 110         L 50 0         L 90 110         M 30 70         L 70 70       "})),me=function(e){var t=e.svgRef,a=pe(e,["svgRef"]);return r.a.createElement("svg",ue({viewBox:"0 0 100 100",ref:t},a),de,fe)},ge=r.a.forwardRef(function(e,t){return r.a.createElement(me,ue({svgRef:t},e))});a.p;function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ye=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",d:"       M 25 10       L 50 10       A 40 40 0 0 1 50 90       L 25 90       Z     "}),Oe=function(e){var t=e.svgRef,a=be(e,["svgRef"]);return r.a.createElement("svg",ve({viewBox:"0 0 100 100",ref:t},a),ye)},je=r.a.forwardRef(function(e,t){return r.a.createElement(Oe,ve({svgRef:t},e))});a.p;function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _e(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ee=r.a.createElement("clipPath",{id:"clip"},r.a.createElement("rect",{x:0,y:0,width:100,height:100})),we=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.5) translate(-50,-50)",clipPath:"url(#clip)",d:"       M 80 18       C 70 14 62 10 50 10       C 42 10 22 14 22 30       C 22 46 38 48.4 50 50       C 62 51.6 78 54 78 70       C 78 86 59 90 50 90       C 38 90 30 86 20 82     "}),xe=function(e){var t=e.svgRef,a=_e(e,["svgRef"]);return r.a.createElement("svg",ke({viewBox:"0 0 100 100",ref:t},a),Ee,we)},Ce=r.a.forwardRef(function(e,t){return r.a.createElement(xe,ke({svgRef:t},e))});a.p;function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Me=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-42,0)",d:"       M 80 18       C 70 14 62 10 50 10       C 42 10 22 14 22 30       C 22 46 38 48.4 50 50       C 62 51.6 78 54 78 70       C 78 86 59 90 50 90       C 38 90 30 86 20 82     "}),Pe=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(42,0)",d:"       M 75 10       L 25 10       L 25 90       L 75 90       M 30 50       L 65 50     "}),Te=function(e){var t=e.svgRef,a=Se(e,["svgRef"]);return r.a.createElement("svg",Ne({viewBox:"0 0 100 100",ref:t},a),Me,Pe)},De=r.a.forwardRef(function(e,t){return r.a.createElement(Te,Ne({svgRef:t},e))});a.p;function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ae=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-44,0)",d:"       M 25 10       L 60 10       A 20 20 0 0 1 60 50       A 20 20 0 0 1 60 90       L 25 90       Z       M 30 50       L 60 50     "}),We=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(44,0)",d:"       M 25 90       L 25 10       L 60 10       A 20 20 0 0 1 60 50       L 30 50     "}),Fe=function(e){var t=e.svgRef,a=Re(e,["svgRef"]);return r.a.createElement("svg",Le({viewBox:"0 0 100 100",ref:t},a),Ae,We)},He=r.a.forwardRef(function(e,t){return r.a.createElement(Fe,Le({svgRef:t},e))});a.p;function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Qe=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-43,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),Be=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(48,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),Ve=function(e){var t=e.svgRef,a=Ie(e,["svgRef"]);return r.a.createElement("svg",Ue({viewBox:"0 0 100 100",ref:t},a),Qe,Be)},ze=r.a.forwardRef(function(e,t){return r.a.createElement(Ve,Ue({svgRef:t},e))});a.p;function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ze=r.a.createElement("clipPath",{id:"clip"},r.a.createElement("rect",{x:0,y:0,width:100,height:100})),Ke=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",strokeLinejoin:"bevel",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-40,0)",clipPath:"url(#clip)",d:"       M 10 90       L 10 -10       L 50 65       L 90 -10       L 90 90     "}),Je=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(60,0)",d:"       M 75 10       L 25 10       L 25 90       M 30 50       L 65 50     "}),Xe=function(e){var t=e.svgRef,a=qe(e,["svgRef"]);return r.a.createElement("svg",Ge({viewBox:"0 0 100 100",ref:t},a),Ze,Ke,Je)},Ye=r.a.forwardRef(function(e,t){return r.a.createElement(Xe,Ge({svgRef:t},e))});a.p;function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var tt=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-52,0)",d:"     M 25 90     L 25 10     L 60 10     A 20 20 0 0 1 60 50     L 30 50     "}),at=r.a.createElement("clipPath",{id:"clip"},r.a.createElement("rect",{x:0,y:0,width:100,height:100})),nt=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",strokeLinejoin:"bevel",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(45,0)",clipPath:"url(#clip)",d:"       M 10 -10       L 25 100       L 50 35       L 75 100       L 90 -10     "}),rt=function(e){var t=e.svgRef,a=et(e,["svgRef"]);return r.a.createElement("svg",$e({viewBox:"0 0 100 100",ref:t},a),tt,at,nt)},ot=r.a.forwardRef(function(e,t){return r.a.createElement(rt,$e({svgRef:t},e))});a.p;function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var st=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,strokeLinecap:"square",transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(-50,0)",d:"       M 25 90       L 25 10       L 60 10       A 20 20 0 0 1 60 50       L 30 50     "}),ct=r.a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:20,transform:"translate(50,50) scale(0.4) translate(-50,-50) translate(48,0)",d:"       M 78.2842706364495 21.7157281415257       A 40 40 0 1 0 78.2842755245486 78.2842669703746     "}),ht=function(e){var t=e.svgRef,a=lt(e,["svgRef"]);return r.a.createElement("svg",it({viewBox:"0 0 100 100",ref:t},a),st,ct)},ut=r.a.forwardRef(function(e,t){return r.a.createElement(ht,it({svgRef:t},e))}),pt=(a.p,function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;switch(this.props.type){case"Gene":e=r.a.createElement(oe,null);break;case"Compound":e=r.a.createElement(he,null);break;case"Anatomy":e=r.a.createElement(ge,null);break;case"Disease":e=r.a.createElement(je,null);break;case"Symptom":e=r.a.createElement(Ce,null);break;case"Side Effect":e=r.a.createElement(De,null);break;case"Biological Process":e=r.a.createElement(He,null);break;case"Cellular Component":e=r.a.createElement(ze,null);break;case"Molecular Function":e=r.a.createElement(Ye,null);break;case"Pathway":e=r.a.createElement(ot,null);break;case"Pharmacologic Class":e=r.a.createElement(ut,null)}var t="#424242",a="#fafafa",n=this.props.hetioStyles[this.props.type];return n&&n.fill_color&&(t=n.fill_color),n&&n.text_color&&(a=n.text_color),r.a.createElement("div",{className:"metanode_chip",style:{color:a}},r.a.createElement("svg",{viewBox:"0 0 100 100"},r.a.createElement("circle",{cx:"50",cy:"50",r:"49",fill:t})),e)}}]),t}(n.Component));pt=Object(c.b)(function(e){return{hetioStyles:e.hetioStyles}})(pt);var dt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;switch(this.props.direction){case"backward":e=r.a.createElement(ee,null);break;case"forward":e=r.a.createElement(K,null);break;default:e=r.a.createElement(V,null)}var t="";return this.props.metagraph.kind_to_abbrev&&(t=this.props.metagraph.kind_to_abbrev[this.props.type]),r.a.createElement("div",{className:"metaedge_chip","data-name":this.props.type,"data-abbreviation":t},e)}}]),t}(n.Component);function ft(e,t){return e.map(function(e,a){return"node"===e.element?r.a.createElement(mt,{key:a,type:e.type,name:e.name,expanded:t}):"edge"===e.element?r.a.createElement(dt,{key:a,type:e.type,direction:e.direction}):""})}dt=Object(c.b)(function(e){return{metagraph:e.metagraph}})(dt);var mt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e="#424242",t="#fafafa",a=this.props.hetioStyles[this.props.type];return a&&a.fill_color&&(e=a.fill_color),a&&a.text_color&&(t=a.text_color),r.a.createElement("span",{className:"node_chip",style:{background:e,color:t},"data-expanded":this.props.expanded},this.props.name)}}]),t}(n.Component);mt=Object(c.b)(function(e){return{hetioStyles:e.hetioStyles}})(mt);var gt=a(64),vt=a.n(gt),bt=(a(119),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.open=!1,e.state.x=0,e.state.y=0,e.state.opacity=0,e.onMouseEnter=e.onMouseEnter.bind(Object(g.a)(Object(g.a)(e))),e.openTooltip=e.openTooltip.bind(Object(g.a)(Object(g.a)(e))),e.onMouseLeave=e.onMouseLeave.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onMouseEnter",value:function(e){var t=this,a=e.target;window.setTimeout(function(){return t.openTooltip(a)},1e3),this.setState({hover:!0})}},{key:"openTooltip",value:function(e){if(this.state.hover&&e){var t=e.getBoundingClientRect().left+document.documentElement.scrollLeft,a=e.getBoundingClientRect().top+document.documentElement.scrollTop,n=Math.min(t,document.body.clientWidth-200),r=a;this.setState({open:!0,x:n,y:r})}else this.setState({open:!1})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1,open:!1})}},{key:"render",value:function(){if(!this.props.text)return r.a.createElement(r.a.Fragment,null,this.props.children);var e={onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},t=r.a.Children.map(this.props.children,function(t){return r.a.isValidElement(t)?r.a.cloneElement(t,e):"string"===typeof t?r.a.createElement("span",e,t):t});return r.a.createElement(r.a.Fragment,null,t,this.state.open&&r.a.createElement(yt,{text:this.props.text,open:this.state.open,x:this.state.x,y:this.state.y}))}}]),t}(n.Component)),yt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createPortal(r.a.createElement(vt.a,{in:this.props.open},r.a.createElement("div",{className:"tooltip",style:{left:this.props.x+"px",top:this.props.y+"px"}},this.props.text)),document.body)}}]),t}(n.Component),Ot=(a(140),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(bt,{text:this.props.tooltipText},r.a.createElement("button",{className:this.props.className,onClick:function(t){t.ctrlKey?e.props.onCtrlClick&&e.props.onCtrlClick():t.shiftKey?e.props.onShiftClick&&e.props.onShiftClick():e.props.onClick&&e.props.onClick()}},this.props.children))}}]),t}(n.Component)),jt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(Ot,{className:this.props.className+" text_button small",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.text&&r.a.createElement("span",null,this.props.text),r.a.createElement(F.a,{icon:this.props.icon,className:"text_button_icon"}))}}]),t}(n.Component),kt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(Ot,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&r.a.createElement(F.a,{className:"fa-xs",icon:H.e}))}}]),t}(n.Component),_t=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(Ot,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&r.a.createElement(F.a,{className:"fa-xs",icon:H.k}))}}]),t}(n.Component),Et=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(Ot,{className:"checkbox_button",tooltipText:this.props.tooltipText,onClick:this.props.onClick,onCtrlClick:this.props.onCtrlClick},this.props.checked&&r.a.createElement(F.a,{className:"fa-xs",icon:H.l}))}}]),t}(n.Component),wt=a(101),xt="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/hetnet/json/hetionet-v1.0-metagraph.json",Ct="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/describe/definitions.json",Nt="https://raw.githubusercontent.com/hetio/hetionet/6e08d3039abaad8f6dafe26fe3b143773b0d7e51/describe/styles.json",St="https://search-api.het.io/v1/nodes/",Mt="https://search-api.het.io/v1/query-metapaths/",Pt="https://search-api.het.io/v1/query-paths/";function Tt(e){return fetch(e).then(function(e){return e.json()}).then(function(e){return e||{}}).catch(function(e){return console.log(e),{}})}function Dt(e){return e?Tt(St+e):null}function Lt(e,t,a){var n=new URLSearchParams;return n.set("source",e),n.set("target",t),n.set("metapath",a),Tt(Pt+"?"+n.toString()).then(function(e){return e})}function Rt(e){return{type:"update_source_target_nodes",payload:{sourceNode:e.sourceNode,targetNode:e.targetNode}}}function At(e){return{type:"update_metapaths",payload:{metapaths:e.metapaths}}}function Wt(e){return{type:"update_path_queries",payload:{pathQueries:e.pathQueries}}}function Ft(e){e=parseFloat(e).toExponential(1);var t=parseFloat(e.split("e")[0]).toFixed(1),a=parseInt(e.split("e")[1]);return r.a.createElement("span",null,t," \xd7 10",r.a.createElement("sup",null,a))}function Ht(e){return r.a.createElement("span",null,parseFloat(e).toFixed(1))}function Ut(e){var t=["rgba(255, 255, 255, 0)","rgba(255, 249, 196, 1)","rgba(255, 236, 179, 1)","rgba(255, 224, 178, 1)","rgba(255, 204, 188, 1)","rgba(248, 187, 208, 1)"];t=t.map(function(e){return e=e.split(/[^0-9,]/).join(""),e={r:parseInt(e.split(",")[0]),g:parseInt(e.split(",")[1]),b:parseInt(e.split(",")[2]),a:parseFloat(e.split(",")[3])}});var a=((e=Math.log10(e))-0)/-8;a=Math.min(Math.max(0,a),1);var n=(t.length-1)*a,r=t[Math.floor(n)],o=t[Math.ceil(n)],i=n%1,l={r:r.r+(o.r-r.r)*i,g:r.g+(o.g-r.g)*i,b:r.b+(o.b-r.b)*i,a:r.a+(o.a-r.a)*i};return l.r=Math.floor(l.r),l.g=Math.floor(l.g),l.b=Math.floor(l.b),l.a=l.a.toFixed(3),(l="rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")")||"#ffffff"}function It(e,t){var a=e.map(function(e){return e.join(",")}).join("\n"),n=new Blob([a],{type:"text/csv"}),r=window.URL.createObjectURL(n),o=document.createElement("a");document.body.appendChild(o),o.href=r,o.download=(t||"data")+".csv",o.click(),window.URL.revokeObjectURL(r),o.remove()}function Qt(e){return e=(e=(e=e.trim()).replace(/[^0-9A-Za-z]/gi,"-")).substring(0,15)}function Bt(e,t,a){return e.sort(function(e,n){return a&&(e=e[a],n=n[a]),e=t.indexOf(e),n=t.indexOf(n),-1!==e&&-1!==n?e-n:-1!==e?-1:-1!==n?1:n-e})}a(141);var Vt=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.filters=[],e.state.filterString="",e.updateFilters=e.updateFilters.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"updateFilters",value:function(e,t){this.setState({filters:e,filterString:t})}},{key:"render",value:function(){return r.a.createElement("section",{className:"center"},r.a.createElement(zt.Provider,{value:{filterString:this.state.filterString}},r.a.createElement(Gt,{filters:this.state.filters,filterString:this.state.filterString,updateFilters:this.updateFilters}),r.a.createElement(Zt,null),r.a.createElement($t,null),r.a.createElement(Kt,null)))}}]),t}(n.Component),zt=r.a.createContext({}),Gt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).toggle=a.toggle.bind(Object(g.a)(Object(g.a)(a))),a.solo=a.solo.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.metagraph.metanode_kinds!==this.props.metagraph.metanode_kinds){var t=[],a=!0,n=!1,r=void 0;try{for(var o,i=this.props.metagraph.metanode_kinds[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;t.push({name:l,active:!0})}}catch(s){n=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}t=Bt(t,["Gene","Compound","Anatomy","Disease","Symptom","Side Effect","Biological Process","Cellular Component","Molecular Function","Pathway","Pharmacolocic Class"],"name"),this.props.updateFilters(t,"")}}},{key:"allOn",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if(!r.value.active)return!1}}catch(i){a=!0,n=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return!0}},{key:"allOthersOff",value:function(e,t){var a=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;if(t!==l.name&&l.active)return!1}}catch(s){n=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return!0}},{key:"toggle",value:function(e){var t=this.props.filters.slice(),a=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;l.name===e&&(l.active=!l.active)}}catch(s){n=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}this.props.updateFilters(t,this.toString(t))}},{key:"solo",value:function(e){var t=this.props.filters.slice(),a=this.allOthersOff(t,e),n=!0,r=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value;a?s.active=!0:e===s.name?s.active=!0:s.active=!1}}catch(c){r=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}this.props.updateFilters(t,this.toString(t))}},{key:"toString",value:function(e){if(this.allOn(e))return"";var t=[],a=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;l.active&&t.push(this.props.metagraph.kind_to_abbrev[l.name])}}catch(s){n=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return t.join(",")}},{key:"render",value:function(){var e=this,t=this.props.filters.map(function(t,a){return r.a.createElement(qt,{key:a,name:t.name,tooltipText:e.props.hetioDefinitions.metanodes[t.name],active:t.active,toggle:e.toggle,solo:e.solo})});return r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component);Gt=Object(c.b)(function(e){return{metagraph:e.metagraph,hetioDefinitions:e.hetioDefinitions}})(Gt);var qt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ot,{className:"node_search_filter_button"+(this.props.active?"":" node_search_filter_button_off"),tooltipText:this.props.tooltipText,onClick:function(){return e.props.toggle(e.props.name)},onCtrlClick:function(){return e.props.solo(e.props.name)}},r.a.createElement(pt,{type:this.props.name}),this.props.name)}}]),t}(n.Component),Zt=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).onChange=e.onChange.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.props.dispatch(Rt({sourceNode:e}))}},{key:"render",value:function(){return r.a.createElement(Jt,{label:"Source Node",tooltipText:"The starting node of the paths",value:this.props.node,onChange:this.onChange})}}]),t}(n.Component);Zt=Object(c.b)(function(e){return{node:e.sourceNode}})(Zt);var Kt=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).onChange=e.onChange.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.props.dispatch(Rt({targetNode:e})),e&&document.activeElement.blur()}},{key:"render",value:function(){return r.a.createElement(Jt,{label:"Target Node",tooltipText:"The ending node of the paths",value:this.props.node,onChange:this.onChange})}}]),t}(n.Component);Kt=Object(c.b)(function(e){return{node:e.targetNode}})(Kt);var Jt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={},a.state.searchResults=[],a.inputRef=r.a.createRef(),a.formRef=r.a.createRef(),a.onInput=a.onInput.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onInput",value:function(e){var t=this;(function(e,t){var a=new URLSearchParams;return a.set("search",e),a.set("limit","100"),t&&a.set("metanodes",t),Tt(St+"?"+a.toString()).then(function(e){return e.results})})(e,this.context.filterString).then(function(e){return t.setState({searchResults:e||[]})})}},{key:"itemToString",value:function(e){return e&&e.name?e.name:""}},{key:"render",value:function(){var e=this;return r.a.createElement(S.a,{onChange:this.props.onChange,onInputValueChange:this.onInput,itemToString:this.itemToString,selectedItem:this.props.value},function(t){var a=t.getInputProps,n=t.getItemProps,o=t.getMenuProps,i=t.isOpen,l=t.selectedItem,s=t.highlightedIndex,c=t.clearSelection;return r.a.createElement("div",{className:"node_search_form",ref:e.formRef},r.a.createElement("span",{className:"small light node_search_form_label"},r.a.createElement(bt,{text:e.props.tooltipText},e.props.label)),r.a.createElement(Xt,{inputRef:e.inputRef,getInputProps:a,clearSelection:c,selectedItem:l}),r.a.createElement(Yt,{isOpen:i,inputRef:e.inputRef,formRef:e.formRef,getMenuProps:o,searchResults:e.state.searchResults,selectedItem:l,highlightedIndex:s,getItemProps:n}))})}}]),t}(n.Component);Jt.contextType=zt;var Xt=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.focused=!1,e.onInput=e.onInput.bind(Object(g.a)(Object(g.a)(e))),e.onFocus=e.onFocus.bind(Object(g.a)(Object(g.a)(e))),e.onBlur=e.onBlur.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onInput",value:function(e){""===e.target.value&&this.props.clearSelection()}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null),t=!this.state.focused&&this.props.selectedItem.metanode&&this.props.selectedItem.name;return t&&(e=r.a.createElement("div",{className:"node_search_field_overlay"},r.a.createElement(pt,{type:this.props.selectedItem.metanode}),r.a.createElement("span",{className:"node_search_results_item_name nowrap"},this.props.selectedItem.name))),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,Object.assign({},this.props.getInputProps({onChange:this.onInput}),{inputRef:this.props.inputRef,placeholder:"id, name, or metanode",classes:{root:"node_search_field_container"},InputProps:{classes:{root:"node_search_field",focused:"node_search_field_focused",input:t?"node_search_input_blank":"node_search_input"}},onFocus:this.onFocus,onBlur:this.onBlur})),e,r.a.createElement("div",{className:"node_search_icon"},r.a.createElement(F.a,{icon:H.p})))}}]),t}(n.Component),Yt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(D.a,Object.assign({open:this.props.isOpen,anchorEl:this.props.inputRef.current,placement:"bottom-start",className:"node_search_results_popper",container:this.props.formRef.current,disablePortal:!0},this.props.getMenuProps()),r.a.createElement(R.a,{className:"node_search_results_paper"},this.props.searchResults.map(function(t,a){return r.a.createElement(W.a,Object.assign({className:"node_search_results_item"+(e.props.selectedItem.id===t.id?" node_search_results_item_selected":"")+(e.props.highlightedIndex===a?" node_search_results_item_selected":"")},e.props.getItemProps({item:t,key:a})),r.a.createElement(pt,{type:t.metanode}),r.a.createElement("span",{className:"node_search_results_item_name"},t.name),r.a.createElement("span",{className:"node_search_results_item_identifier"},t.identifier))})))}}]),t}(n.Component),$t=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).onClick=e.onClick.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onClick",value:function(){this.props.dispatch({type:"swap_source_target_nodes"})}},{key:"render",value:function(){return r.a.createElement(Ot,{tooltipText:"Swap source and target node",className:"node_search_swap_button",onClick:this.onClick},r.a.createElement(F.a,{icon:H.h}))}}]),t}(n.Component);$t=Object(c.b)()($t);a(257);var ea=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.focused=!1,e.field=r.a.createRef(),e.onClick=e.onClick.bind(Object(g.a)(Object(g.a)(e))),e.onBlur=e.onBlur.bind(Object(g.a)(Object(g.a)(e))),e.onFocus=e.onFocus.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onClick",value:function(e){e&&e.target&&"a"===e.target.tagName.toLowerCase()&&e.target.click(),this.field.current.focus()}},{key:"onBlur",value:function(){this.setState({focused:!1},this.deselectAll)}},{key:"onFocus",value:function(){this.setState({focused:!0},this.selectAll)}},{key:"deselectAll",value:function(){window.getSelection().empty()}},{key:"selectAll",value:function(){window.setTimeout(function(){window.getSelection().empty(),window.getSelection().selectAllChildren(document.activeElement)},10)}},{key:"render",value:function(){var e;return"string"===typeof(e=this.state.focused&&this.props.fullValue||this.props.value)&&(e=r.a.createElement("span",{className:"nowrap"},e)),r.a.createElement("div",{ref:this.field,tabIndex:"0",onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur,className:"dynamic_field "+(this.props.className||""),"data-expanded":this.state.focused},e)}}]),t}(n.Component),ta=(a(258),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.collapsed=!1,e.loadState=e.loadState.bind(Object(g.a)(Object(g.a)(e))),e.saveState=e.saveState.bind(Object(g.a)(Object(g.a)(e))),e.toggle=e.toggle.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.loadState()&&this.setState({collapsed:!0})}},{key:"loadState",value:function(){var e=this.props.label;return e&&"true"===window.localStorage.getItem(e)}},{key:"saveState",value:function(e){var t=this.props.label;t&&window.localStorage.setItem(t,String("true"===String(e)))}},{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed}),this.saveState(!this.state.collapsed)}},{key:"render",value:function(){return r.a.createElement("div",{className:"collapsible_section","data-collapsed":this.state.collapsed},r.a.createElement(Ot,{tooltipText:this.props.tooltipText,className:"collapsible_section_header",onClick:this.toggle},r.a.createElement("div",null,this.props.label),r.a.createElement(F.a,{icon:this.state.collapsed?H.d:H.a})),this.props.children)}}]),t}(n.Component)),aa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(na,{label:"Source Node",node:this.props.sourceNode}),r.a.createElement(na,{label:"Target Node",node:this.props.targetNode}))}}]),t}(n.Component);aa=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode}})(aa);var na=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(ta,{label:this.props.label,tooltipText:"Details about the "+this.props.label.toLowerCase()},this.props.node.name?r.a.createElement(ra,{node:this.props.node}):r.a.createElement(oa,{label:this.props.label}))}}]),t}(n.Component),ra=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.showMore=!1,e.toggleShowMore=e.toggleShowMore.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"toggleShowMore",value:function(){this.setState({showMore:!this.state.showMore})}},{key:"rows",value:function(){var e=this,t={};this.props.hetioDefinitions.properties&&(t=Object(h.a)({},t,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),t=Object(h.a)({},t,this.props.hetmechDefinitions);var a=["name","metanode","source","identifier","id"];a=a.map(function(a){var n;if("metanode"===a)n=r.a.createElement(r.a.Fragment,null,r.a.createElement(pt,{type:e.props.node[a]}),r.a.createElement("span",{className:"nowrap"},e.props.node[a]));else if("source"===a){var o=e.props.node.url||e.props.node.data.url||"",i=e.props.node.data.source||o;i=function(e){for(var t=0,a=["^http://","^https://","^www."];t<a.length;t++){var n=a[t];e=e.replace(new RegExp(n),"")}return e}(i),n=r.a.createElement("a",{className:"nowrap",href:o},i)}return{firstCol:a,secondCol:n||String(e.props.node[a]),tooltipText:t[a]}}),this.state.showMore||(a.splice(a.findIndex(function(e){return"id"===e.firstCol}),1),a.splice(a.findIndex(function(e){return"identifier"===e.firstCol}),1));var n=[];this.state.showMore&&((n=Object.keys(this.props.node.data)).splice(n.indexOf("source"),1),n.splice(n.indexOf("url"),1),n=n.map(function(a){return{firstCol:a,secondCol:String(e.props.node.data[a]),tooltipText:t[a]}}));var o=a.concat(n);return(o=Bt(o,["name","metanode","source","description","identifier","id"],"firstCol")).map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"col_s small light"},r.a.createElement(bt,{text:e.tooltipText},e.firstCol)),r.a.createElement("td",null,r.a.createElement(ea,{value:e.secondCol,className:"left"})))})}},{key:"render",value:function(){return r.a.createElement("table",{className:"node_results_table"},r.a.createElement("tbody",null,this.rows(),r.a.createElement("tr",null,r.a.createElement("td",{className:"center",colSpan:"2"},r.a.createElement(jt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?H.d:H.a,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Show more information about the node"})))))}}]),t}(n.Component);ra=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(ra);var oa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{className:"node_results_table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center light"},"select a ",this.props.label.toLowerCase()))))}}]),t}(n.Component),ia=(a(259),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(ta,{label:"Metapaths",tooltipText:"Metapaths of length <= 3 between the source and target node"},this.props.metapaths.length>0?r.a.createElement(la,null):r.a.createElement(ma,null)))}}]),t}(n.Component));ia=Object(c.b)(function(e){return{metapaths:e.metapaths}})(ia);var la=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={},a.state.showMore=!1,a.state.allChecked=!1,a.state.sortColumn="adjusted_p_value",a.state.sortUp=!1,a.toggleShowMore=a.toggleShowMore.bind(Object(g.a)(Object(g.a)(a))),a.toggleAllChecked=a.toggleAllChecked.bind(Object(g.a)(Object(g.a)(a))),a.allChecked=a.allChecked.bind(Object(g.a)(Object(g.a)(a))),a.checkAll=a.checkAll.bind(Object(g.a)(Object(g.a)(a))),a.uncheckAll=a.uncheckAll.bind(Object(g.a)(Object(g.a)(a))),a.allOthersUnchecked=a.allOthersUnchecked.bind(Object(g.a)(Object(g.a)(a))),a.toggleChecked=a.toggleChecked.bind(Object(g.a)(Object(g.a)(a))),a.soloChecked=a.soloChecked.bind(Object(g.a)(Object(g.a)(a))),a.changeSort=a.changeSort.bind(Object(g.a)(Object(g.a)(a))),a.downloadCsv=a.downloadCsv.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.metapaths!==e.metapaths&&this.updateAllChecked()}},{key:"updateAllChecked",value:function(){this.allChecked()?this.setState({allChecked:!0}):this.setState({allChecked:!1})}},{key:"toggleShowMore",value:function(e){e&&e.preventDefault(),this.setState({showMore:!this.state.showMore})}},{key:"toggleAllChecked",value:function(){this.allChecked()?this.uncheckAll():this.checkAll()}},{key:"allChecked",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.props.metapaths[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){if(!n.value.checked)return!1}}catch(o){t=!0,a=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!0}},{key:"checkAll",value:function(){var e=this.props.metapaths.slice(),t=!0,a=!1,n=void 0;try{for(var r,o=this.props.metapaths[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.checked=!0}}catch(i){a=!0,n=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}this.props.dispatch(At({metapaths:e}))}},{key:"uncheckAll",value:function(){var e=this.props.metapaths.slice(),t=!0,a=!1,n=void 0;try{for(var r,o=this.props.metapaths[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.checked=!1}}catch(i){a=!0,n=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}this.props.dispatch(At({metapaths:e}))}},{key:"allOthersUnchecked",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=this.props.metapaths[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;if(e!==i.id&&i.checked)return!1}}catch(l){a=!0,n=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return!0}},{key:"toggleChecked",value:function(e){var t=this.props.metapaths.slice(),a=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;l.id===e&&(l.checked=!l.checked)}}catch(s){n=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}this.props.dispatch(At({metapaths:t}))}},{key:"soloChecked",value:function(e){var t=this.props.metapaths.slice(),a=this.allOthersUnchecked(e),n=!0,r=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value;a||e===s.id?s.checked=!0:s.checked=!1}}catch(c){r=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}this.props.dispatch(At({metapaths:t}))}},{key:"changeSort",value:function(e){var t={};t.sortColumn=e,e===this.state.sortColumn?t.sortUp=!this.state.sortUp:t.sortUp=!0,this.setState(t)}},{key:"compareNumbers",value:function(e,t,a){var n=Number(e[a])-Number(t[a]);return Number.isNaN(n)?e[a]<t[a]?-1:e[a]>t[a]?1:0:n}},{key:"compareMetapaths",value:function(e,t,a){return e=e[a],t=t[a],e.length<t.length?-1:e.length>t.length?1:e<t?-1:e>t?1:0}},{key:"downloadCsv",value:function(){this.props.metapaths.length&&this.props.sourceNode.name&&this.props.targetNode.name&&It(function(e){for(var t=[],a=0,n=Object.keys(e[0]);a<n.length;a++){var r=n[a];"number"!==typeof e[0][r]&&"string"!==typeof e[0][r]||t.push(r)}t=Bt(t,["id","metapath_name","metapath_abbreviation","path_count","adjusted_p_value","p_value","dwpc","dgp_source_degree","dgp_target_degree","dgp_n_dwpcs","dgp_n_nonzero_dwpcs","dgp_nonzero_mean","dgp_nonzero_sd"]);var o=[];o.push(t);var i=!0,l=!1,s=void 0;try{for(var c,h=e[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){var u=c.value,p=[],d=!0,f=!1,m=void 0;try{for(var g,v=t[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var b=g.value;p.push(u[b])}}catch(y){f=!0,m=y}finally{try{d||null==v.return||v.return()}finally{if(f)throw m}}o.push(p)}}catch(y){l=!0,s=y}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}return o}(this.props.metapaths),["metapaths",Qt(this.props.sourceNode.name),Qt(this.props.targetNode.name)].join("_"))}},{key:"render",value:function(){var e=this,t=this.props.metapaths,a=this.state.sortColumn;"metapath_metaedges"===a?t.sort(function(t,n){return e.compareMetapaths(t,n,a)}):t.sort(function(t,n){return e.compareNumbers(t,n,a)}),this.state.sortUp&&t.reverse();var n=t.length,o=0,i=!0,l=!1,s=void 0;try{for(var c,h=t[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){c.value.checked&&o++}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}return r.a.createElement(sa.Provider,{value:{sortedMetapaths:t,showMore:this.state.showMore,allChecked:this.state.allChecked,toggleAllChecked:this.toggleAllChecked,toggleChecked:this.toggleChecked,soloChecked:this.soloChecked,sortColumn:this.state.sortColumn,sortUp:this.state.sortUp,changeSort:this.changeSort}},r.a.createElement("div",{className:"table_attic"},r.a.createElement(jt,{text:".csv",icon:H.g,className:"link_button small",onClick:this.downloadCsv,tooltipText:"Download table as .csv file"}),r.a.createElement(jt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?H.b:H.c,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Expand table and show more columns"}),r.a.createElement("div",{className:"small light right"},n," results, ",o," selected")),r.a.createElement("div",{className:"table_container","data-expanded":this.state.showMore},r.a.createElement("table",{className:"metapath_results_table"},r.a.createElement(ca,null),r.a.createElement(pa,null))))}}]),t}(n.Component),sa=r.a.createContext({});la=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metapaths:e.metapaths}})(la);var ca=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("tr",null,r.a.createElement("td",{className:"col_xs"}),r.a.createElement("td",{className:"col_l"}),r.a.createElement("td",{className:"col_s"}),r.a.createElement("td",{className:"col_m"}),r.a.createElement("td",{className:"col_m"}),r.a.createElement("td",{className:"col_s"}),r.a.createElement("td",{className:"col_xxl center",colSpan:"6"},r.a.createElement("div",{className:"divider"},"Null DWPC distribution information"))),a={};this.props.hetioDefinitions.properties&&(a=Object(h.a)({},a,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),a=Object(h.a)({},a,this.props.hetmechDefinitions);var n=r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"col_xs"},r.a.createElement(kt,{checked:this.context.allChecked,onClick:function(){return e.context.toggleAllChecked()},onCtrlClick:function(){return e.context.toggleAllChecked()},tooltipText:"Show all paths"})),r.a.createElement(ha,{className:"col_l",buttonClass:"left",fieldName:"metapath_metaedges",tooltipText:a.metapath,text:"metapath"}),r.a.createElement(ha,{className:"col_s",fieldName:"path_count",tooltipText:a.path_count,text:"path count"}),r.a.createElement(ha,{className:"col_m",fieldName:"adjusted_p_value",tooltipText:a.adjusted_p_value,text:r.a.createElement("span",null,"adjusted",r.a.createElement("br",null),r.a.createElement("i",null,"p"),"-value")})),o=r.a.createElement(r.a.Fragment,null,r.a.createElement(ha,{className:"col_m",fieldName:"p_value",tooltipText:a.p_value,text:r.a.createElement(r.a.Fragment,null,r.a.createElement("i",null,"p"),"-value")}),r.a.createElement(ha,{className:"col_s",fieldName:"dwpc",tooltipText:a.dwpc,text:"DWPC"}),r.a.createElement(ha,{fieldName:"dgp_source_degree",tooltipText:a.dgp_source_degree,text:"source degree"}),r.a.createElement(ha,{fieldName:"dgp_target_degree",tooltipText:a.dgp_target_degree,text:"target degree"}),r.a.createElement(ha,{fieldName:"dgp_n_dwpcs",tooltipText:a.dgp_n_dwpcs,text:"# DWPC's"}),r.a.createElement(ha,{fieldName:"dgp_n_nonzero_dwpcs",tooltipText:a.dgp_n_nonzero_dwpcs,text:"# non-0 DWPC's"}),r.a.createElement(ha,{fieldName:"dgp_nonzero_mean",tooltipText:a.dgp_nonzero_mean,text:"non-0 mean"}),r.a.createElement(ha,{fieldName:"dgp_nonzero_sd",tooltipText:a.dgp_nonzero_sd,text:r.a.createElement(r.a.Fragment,null,"non-0 \u03c3")}));return r.a.createElement("thead",{className:"small light"},this.context.showMore&&t,r.a.createElement("tr",null,n,this.context.showMore&&o))}}]),t}(n.Component);ca.contextType=sa,ca=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(ca);var ha=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("td",{className:this.props.className},r.a.createElement(ua,{text:this.props.text,tooltipText:this.props.tooltipText,fieldName:this.props.fieldName,className:this.props.buttonClass}))}}]),t}(n.Component),ua=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ot,{tooltipText:this.props.tooltipText,className:"sort_button "+(this.props.className||""),onClick:function(){return e.context.changeSort(e.props.fieldName)}},this.props.text,r.a.createElement(F.a,{icon:this.props.fieldName===this.context.sortColumn?this.context.sortUp?H.s:H.r:H.q}))}}]),t}(n.Component);ua.contextType=sa;var pa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tbody",null,this.context.sortedMetapaths.map(function(t,a){return r.a.createElement(da,{key:a,metapath:t,checked:t.checked,showMore:e.props.showMore})}))}}]),t}(n.Component);pa.contextType=sa;var da=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.metapath,n=r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(kt,{checked:this.props.checked,onClick:function(){return t.context.toggleChecked(t.props.metapath.id)},onCtrlClick:function(){return t.context.soloChecked(t.props.metapath.id)},tooltipText:"Show these "+(this.props.metapath.path_count||"")+" paths in the paths table"})),r.a.createElement(fa,{fieldClass:"left",value:(e=a.metapath_metaedges,e.map(function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(pt,{type:t[0]}),r.a.createElement(dt,{type:t[2],direction:t[3]}),a===e.length-1&&r.a.createElement(pt,{type:t[1]}))})),fullValue:a.metapath_name}),r.a.createElement(fa,{value:a.path_count}),r.a.createElement(fa,{style:{backgroundColor:Ut(a.adjusted_p_value)},value:Ft(a.adjusted_p_value),fullValue:a.adjusted_p_value})),o=r.a.createElement(r.a.Fragment,null,r.a.createElement(fa,{style:{backgroundColor:Ut(a.p_value)},value:Ft(a.p_value),fullValue:a.p_value}),r.a.createElement(fa,{value:Ht(a.dwpc),fullValue:a.dwpc}),r.a.createElement(fa,{value:a.dgp_source_degree}),r.a.createElement(fa,{value:a.dgp_target_degree}),r.a.createElement(fa,{value:a.dgp_n_dwpcs}),r.a.createElement(fa,{value:a.dgp_n_nonzero_dwpcs}),r.a.createElement(fa,{value:Ht(a.dgp_nonzero_mean),fullValue:a.dgp_nonzero_mean}),r.a.createElement(fa,{value:Ht(a.dgp_nonzero_sd),fullValue:a.dgp_nonzero_sd}));return r.a.createElement("tr",null,n,this.context.showMore&&o)}}]),t}(n.Component);da.contextType=sa;var fa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("td",{className:this.props.className,style:this.props.style},r.a.createElement(ea,{value:this.props.value,fullValue:this.props.fullValue,className:this.props.fieldClass}))}}]),t}(n.Component),ma=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{className:"metapath_results_table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center light"},"no results to show"))))}}]),t}(n.Component);var ga=a(46),va=(a(260),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(ta,{label:"Paths",tooltipText:"Paths of the selected metapaths"},this.props.pathQueries.length>0?r.a.createElement(ba,null):r.a.createElement(xa,null)))}}]),t}(n.Component));va=Object(c.b)(function(e){return{pathQueries:e.pathQueries}})(va);var ba=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={},a.state.showMore=!1,a.state.allChecked=!1,a.state.allHighlighted=!1,a.state.sortColumn="score",a.state.sortUp=!0,a.toggleShowMore=a.toggleShowMore.bind(Object(g.a)(Object(g.a)(a))),a.toggleAllChecked=a.toggleAllChecked.bind(Object(g.a)(Object(g.a)(a))),a.allChecked=a.allChecked.bind(Object(g.a)(Object(g.a)(a))),a.checkAll=a.checkAll.bind(Object(g.a)(Object(g.a)(a))),a.uncheckAll=a.uncheckAll.bind(Object(g.a)(Object(g.a)(a))),a.allOthersUnchecked=a.allOthersUnchecked.bind(Object(g.a)(Object(g.a)(a))),a.toggleChecked=a.toggleChecked.bind(Object(g.a)(Object(g.a)(a))),a.soloChecked=a.soloChecked.bind(Object(g.a)(Object(g.a)(a))),a.toggleAllHighlighted=a.toggleAllHighlighted.bind(Object(g.a)(Object(g.a)(a))),a.allHighlighted=a.allHighlighted.bind(Object(g.a)(Object(g.a)(a))),a.highlightAll=a.highlightAll.bind(Object(g.a)(Object(g.a)(a))),a.unhighlightAll=a.unhighlightAll.bind(Object(g.a)(Object(g.a)(a))),a.allOthersUnhighlighted=a.allOthersUnhighlighted.bind(Object(g.a)(Object(g.a)(a))),a.toggleHighlighted=a.toggleHighlighted.bind(Object(g.a)(Object(g.a)(a))),a.soloHighlighted=a.soloHighlighted.bind(Object(g.a)(Object(g.a)(a))),a.changeSort=a.changeSort.bind(Object(g.a)(Object(g.a)(a))),a.downloadCsv=a.downloadCsv.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.pathQueries!==e.pathQueries&&(this.updateAllChecked(),this.updateAllHighlighted())}},{key:"toggleShowMore",value:function(e){e&&e.preventDefault(),this.setState({showMore:!this.state.showMore})}},{key:"updateAllChecked",value:function(){this.allChecked()?this.setState({allChecked:!0}):this.setState({allChecked:!1})}},{key:"toggleAllChecked",value:function(){this.allChecked()?this.uncheckAll():this.checkAll()}},{key:"allChecked",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.props.pathQueries[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value,i=!0,l=!1,s=void 0;try{for(var c,h=o.paths[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){if(!c.value.checked)return!1}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}}}catch(u){t=!0,a=u}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!0}},{key:"checkAll",value:function(){var e=this.props.pathQueries.slice(),t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.checked=!0}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){a=!0,n=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}this.props.dispatch(Wt({pathQueries:e}))}},{key:"uncheckAll",value:function(){var e=this.props.pathQueries.slice(),t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.checked=!1}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){a=!0,n=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}this.props.dispatch(Wt({pathQueries:e}))}},{key:"allOthersUnchecked",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=this.props.pathQueries[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){var p=h.value;if(!this.comparePaths(p,e)&&p.checked)return!1}}catch(d){s=!0,c=d}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(d){a=!0,n=d}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return!0}},{key:"toggleChecked",value:function(e){var t=this.props.pathQueries.slice(),a=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value,s=!0,c=!1,h=void 0;try{for(var u,p=l.paths[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;this.comparePaths(d,e)&&(d.checked=!d.checked)}}catch(f){c=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw h}}}}catch(f){n=!0,r=f}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}this.props.dispatch(Wt({pathQueries:t}))}},{key:"soloChecked",value:function(e){var t=this.props.pathQueries.slice(),a=this.allOthersUnchecked(e),n=!0,r=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value,c=!0,h=!1,u=void 0;try{for(var p,d=s.paths[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var f=p.value;a||this.comparePaths(f,e)?f.checked=!0:f.checked=!1}}catch(m){h=!0,u=m}finally{try{c||null==d.return||d.return()}finally{if(h)throw u}}}}catch(m){r=!0,o=m}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}this.props.dispatch(Wt({pathQueries:t}))}},{key:"updateAllHighlighted",value:function(){this.allHighlighted()?this.setState({allHighlighted:!0}):this.setState({allHighlighted:!1})}},{key:"toggleAllHighlighted",value:function(){this.allHighlighted()?this.unhighlightAll():this.highlightAll()}},{key:"allHighlighted",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.props.pathQueries[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value,i=!0,l=!1,s=void 0;try{for(var c,h=o.paths[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){if(!c.value.highlighted)return!1}}catch(u){l=!0,s=u}finally{try{i||null==h.return||h.return()}finally{if(l)throw s}}}}catch(u){t=!0,a=u}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!0}},{key:"highlightAll",value:function(){var e=this.props.pathQueries.slice(),t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.highlighted=!0}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){a=!0,n=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}this.props.dispatch(Wt({pathQueries:e}))}},{key:"unhighlightAll",value:function(){var e=this.props.pathQueries.slice(),t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){h.value.highlighted=!1}}catch(p){s=!0,c=p}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(p){a=!0,n=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}this.props.dispatch(Wt({pathQueries:e}))}},{key:"allOthersUnhighlighted",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=this.props.pathQueries[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,l=!0,s=!1,c=void 0;try{for(var h,u=i.paths[Symbol.iterator]();!(l=(h=u.next()).done);l=!0){var p=h.value;if(!this.comparePaths(p,e)&&p.highlighted)return!1}}catch(d){s=!0,c=d}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}}}catch(d){a=!0,n=d}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return!0}},{key:"toggleHighlighted",value:function(e){var t=this.props.pathQueries.slice(),a=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value,s=!0,c=!1,h=void 0;try{for(var u,p=l.paths[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;this.comparePaths(d,e)&&(d.highlighted=!d.highlighted)}}catch(f){c=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw h}}}}catch(f){n=!0,r=f}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}this.props.dispatch(Wt({pathQueries:t}))}},{key:"soloHighlighted",value:function(e){var t=this.props.pathQueries.slice(),a=this.allOthersUnhighlighted(e),n=!0,r=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value,c=!0,h=!1,u=void 0;try{for(var p,d=s.paths[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var f=p.value;a?f.highlighted=!0:this.comparePaths(f,e)?f.highlighted=!0:f.highlighted=!1}}catch(m){h=!0,u=m}finally{try{c||null==d.return||d.return()}finally{if(h)throw u}}}}catch(m){r=!0,o=m}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}this.props.dispatch(Wt({pathQueries:t}))}},{key:"comparePaths",value:function(e,t){return JSON.stringify(e.node_ids)===JSON.stringify(t.node_ids)&&JSON.stringify(e.rel_ids)===JSON.stringify(t.rel_ids)}},{key:"changeSort",value:function(e){var t={};t.sortColumn=e,e===this.state.sortColumn?t.sortUp=!this.state.sortUp:t.sortUp=!0,this.setState(t)}},{key:"compareNumbers",value:function(e,t,a){var n=Number(e[a])-Number(t[a]);return Number.isNaN(n)?e[a]<t[a]?-1:e[a]>t[a]?1:0:n}},{key:"downloadCsv",value:function(){this.props.pathQueries.length&&this.props.sourceNode.name&&this.props.targetNode.name&&It(function(e){var t={},a=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value;t=Object(h.a)({},t,l.nodes)}}catch(I){n=!0,r=I}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}var s={},c=!0,u=!1,p=void 0;try{for(var d,f=e[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;s=Object(h.a)({},s,m.relationships)}}catch(I){u=!0,p=I}finally{try{c||null==f.return||f.return()}finally{if(u)throw p}}var g=[],v=!0,b=!1,y=void 0;try{for(var O,j=e[Symbol.iterator]();!(v=(O=j.next()).done);v=!0){var k=O.value;g=[].concat(Object(ga.a)(g),Object(ga.a)(k.paths))}}catch(I){b=!0,y=I}finally{try{v||null==j.return||j.return()}finally{if(b)throw y}}for(var _=0,E=g;_<E.length;_++){var w=E[_];w.description=Na(Ca(w,t,s)).join("")}for(var x=[],C=0,N=Object.keys(g[0]);C<N.length;C++){var S=N[C];"number"!==typeof g[0][S]&&"string"!==typeof g[0][S]||x.push(S)}x=Bt(x,["description","metapath","score","percent_of_DWPC"]);var M=[];M.push(x);for(var P=0,T=g;P<T.length;P++){var D=T[P],L=[],R=!0,A=!1,W=void 0;try{for(var F,H=x[Symbol.iterator]();!(R=(F=H.next()).done);R=!0){var U=F.value;L.push(D[U])}}catch(I){A=!0,W=I}finally{try{R||null==H.return||H.return()}finally{if(A)throw W}}M.push(L)}return M}(this.props.pathQueries),["paths",Qt(this.props.sourceNode.name),Qt(this.props.targetNode.name)].join("_"))}},{key:"render",value:function(){var e=this,t={},a=!0,n=!1,o=void 0;try{for(var i,l=this.props.pathQueries[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value;t=Object(h.a)({},t,s.nodes)}}catch(F){n=!0,o=F}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}var c={},u=!0,p=!1,d=void 0;try{for(var f,m=this.props.pathQueries[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var g=f.value;c=Object(h.a)({},c,g.relationships)}}catch(F){p=!0,d=F}finally{try{u||null==m.return||m.return()}finally{if(p)throw d}}var v=[],b=!0,y=!1,O=void 0;try{for(var j,k=this.props.pathQueries[Symbol.iterator]();!(b=(j=k.next()).done);b=!0){var _=j.value;v=[].concat(Object(ga.a)(v),Object(ga.a)(_.paths))}}catch(F){y=!0,O=F}finally{try{b||null==k.return||k.return()}finally{if(y)throw O}}v=v.map(function(a){return Object(h.a)({},a,{chipDescription:ft(Ca(a,t,c),e.state.showMore),textDescription:Na(Ca(a,t,c))})});var E=this.state.sortColumn;v.sort(function(t,a){return e.compareNumbers(t,a,E)}),this.state.sortUp&&v.reverse();var w=v.length,x=0,C=!0,N=!1,S=void 0;try{for(var M,P=v[Symbol.iterator]();!(C=(M=P.next()).done);C=!0){M.value.checked&&x++}}catch(F){N=!0,S=F}finally{try{C||null==P.return||P.return()}finally{if(N)throw S}}var T=0,D=!0,L=!1,R=void 0;try{for(var A,W=v[Symbol.iterator]();!(D=(A=W.next()).done);D=!0){A.value.highlighted&&T++}}catch(F){L=!0,R=F}finally{try{D||null==W.return||W.return()}finally{if(L)throw R}}return r.a.createElement(ya.Provider,{value:{sortedPaths:v,showMore:this.state.showMore,allChecked:this.state.allChecked,toggleAllChecked:this.toggleAllChecked,toggleChecked:this.toggleChecked,soloChecked:this.soloChecked,allHighlighted:this.state.allHighlighted,toggleAllHighlighted:this.toggleAllHighlighted,toggleHighlighted:this.toggleHighlighted,soloHighlighted:this.soloHighlighted,sortColumn:this.state.sortColumn,sortUp:this.state.sortUp,changeSort:this.changeSort}},r.a.createElement("div",{className:"table_attic"},r.a.createElement(jt,{text:".csv",icon:H.g,className:"link_button small",onClick:this.downloadCsv,tooltipText:"Download table as .csv file"}),r.a.createElement(jt,{text:this.state.showMore?"show less ":"show more ",icon:this.state.showMore?H.b:H.c,className:"link_button small",onClick:this.toggleShowMore,tooltipText:"Expand table"}),r.a.createElement("div",{className:"small light right"},w," results, ",x," selected,"," ",T," highlighted")),r.a.createElement("div",{className:"table_container","data-expanded":this.state.showMore},r.a.createElement("table",{className:"path_results_table","data-expanded":this.state.showMore},r.a.createElement(Oa,null),r.a.createElement(_a,null))))}}]),t}(n.Component),ya=r.a.createContext({});ba=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metagraph:e.metagraph,pathQueries:e.pathQueries}})(ba);var Oa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t={};this.props.hetioDefinitions.properties&&(t=Object(h.a)({},t,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.nodes)),t=Object(h.a)({},t,this.props.hetmechDefinitions);var a=r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"col_xs"},r.a.createElement(_t,{checked:this.context.allChecked,onClick:function(){return e.context.toggleAllChecked()},onCtrlClick:function(){return e.context.toggleAllChecked()},tooltipText:"Show all paths"})),r.a.createElement("td",{className:"col_xs"},r.a.createElement(Et,{checked:this.context.allHighlighted,onClick:function(){return e.context.toggleAllHighlighted()},onCtrlClick:function(){return e.context.toggleAllHighlighted()},tooltipText:"Highlight all paths"})),r.a.createElement(ja,{className:"col_s left",buttonClass:"left",fieldName:"metapath",tooltipText:t.metapath,text:"metapath"}),r.a.createElement(ja,{className:"col_xl left",buttonClass:"left",fieldName:"textDescription",tooltipText:t.path,text:"path"}),r.a.createElement(ja,{className:"col_s",fieldName:"score",tooltipText:t.score,text:"path score"}),r.a.createElement(ja,{className:"col_s",fieldName:"percent_of_DWPC",tooltipText:t.percent_of_DWPC,text:"% of DWPC"}));return r.a.createElement("thead",{className:"small light"},r.a.createElement("tr",null,a))}}]),t}(n.Component);Oa.contextType=ya,Oa=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(Oa);var ja=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("td",{className:this.props.className},r.a.createElement(ka,{text:this.props.text,tooltipText:this.props.tooltipText,fieldName:this.props.fieldName,className:this.props.buttonClass}))}}]),t}(n.Component),ka=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ot,{tooltipText:this.props.tooltipText,className:"sort_button "+(this.props.className||""),onClick:function(){return e.context.changeSort(e.props.fieldName)}},this.props.text,r.a.createElement(F.a,{icon:this.props.fieldName===this.context.sortColumn?this.context.sortUp?H.s:H.r:H.q}))}}]),t}(n.Component);ka.contextType=ya;var _a=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("tbody",null,this.context.sortedPaths.map(function(e,t){return r.a.createElement(Ea,{key:t,path:e,checked:e.checked,highlighted:e.highlighted})}))}}]),t}(n.Component);_a.contextType=ya,_a=Object(c.b)(function(e){return{pathQueries:e.pathQueries}})(_a);var Ea=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.path,a=r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(_t,{checked:this.props.checked,onClick:function(){return e.context.toggleChecked(e.props.path)},onCtrlClick:function(){return e.context.soloChecked(e.props.path)},tooltipText:"Show this path in the graph display"})),r.a.createElement("td",null,r.a.createElement(Et,{checked:this.props.highlighted,onClick:function(){return e.context.toggleHighlighted(e.props.path)},onCtrlClick:function(){return e.context.soloHighlighted(e.props.path)},tooltipText:"Highlight this path in the graph display"})),r.a.createElement(wa,{className:"left small",fieldClass:"left",value:t.metapath,fullValue:t.metapath}),r.a.createElement(wa,{className:"left small",fieldClass:"left",value:t.chipDescription,fullValue:t.textDescription}),r.a.createElement(wa,{value:t.score?Ht(t.score):"-",fullValue:t.score||"-"}),r.a.createElement(wa,{value:Ht(t.percent_of_DWPC),fullValue:t.percent_of_DWPC}));return r.a.createElement("tr",null,a)}}]),t}(n.Component);Ea.contextType=ya;var wa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("td",{className:this.props.className,style:this.props.style},r.a.createElement(ea,{value:this.props.value,fullValue:this.props.fullValue,className:this.props.fieldClass}))}}]),t}(n.Component),xa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{className:"metapath_results_table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"center light"},"no results to show"))))}}]),t}(n.Component);function Ca(e,t,a){var n=[],r=!0,o=!1,i=void 0;try{for(var l,s=e.node_ids[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=t[l.value];c&&n.push({element:"node",type:c.metanode,name:c.data.name})}}catch(y){o=!0,i=y}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}for(var h=[],u=0;u<e.rel_ids.length;u++){var p=a[e.rel_ids[u]],d=t[e.node_ids[u]];if(p&&d){var f="";p.directed&&(f=p.source_neo4j_id===d.neo4j_id?"forward":"backward"),h.push({element:"edge",type:p.kind,direction:f})}}for(var m=[],g=0,v=n;g<v.length;g++){var b=v[g];m.push(b),h.length>0&&m.push(h.shift())}return m}function Na(e){return e.map(function(e){if("node"===e.element)return e.name;if("edge"===e.element){var t="\u2013";return"forward"===e.direction?t="\u2192":"backward"===e.direction&&(t="\u2190"),["",t,e.type,t,""].join(" ")}return""})}var Sa=a(12),Ma=(a(261),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={},a.state.value=a.props.value,a.onChange=a.onChange.bind(Object(g.a)(Object(g.a)(a))),a.onKeyPress=a.onKeyPress.bind(Object(g.a)(Object(g.a)(a))),a.onBlur=a.onBlur.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({value:this.props.value})}},{key:"onChange",value:function(e){this.setState({value:e.target.value}),void 0===e.nativeEvent.data?this.onArrows(e.target.value):this.onType(e.target.value)}},{key:"onKeyPress",value:function(e){"enter"===e.key.toLowerCase()&&e.target.blur()}},{key:"onBlur",value:function(e){this.onSubmit(e.target.value)}},{key:"onArrows",value:function(e){this.props.onArrows&&this.props.onArrows(e)}},{key:"onType",value:function(e){this.props.onType&&this.props.onType(e)}},{key:"onSubmit",value:function(e){this.props.onSubmit&&this.props.onSubmit(e)}},{key:"render",value:function(){return r.a.createElement(bt,{text:this.props.tooltipText},r.a.createElement("input",{type:"number",className:"number_box",onChange:this.onChange,onKeyPress:this.onKeyPress,onBlur:this.onBlur,min:this.props.min,step:this.props.step,max:this.props.max,value:this.state.value}))}}]),t}(n.Component)),Pa=(a(262),3840),Ta=2160,Da=.25*Math.PI,La=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.width=Pa,e.state.height=Ta,e.state.nodeCount=0,e.state.edgeCount=0,e.state.selectedElement=null,e.graph=r.a.createRef(),e.expandContainer=e.expandContainer.bind(Object(g.a)(Object(g.a)(e))),e.collapseContainer=e.collapseContainer.bind(Object(g.a)(Object(g.a)(e))),e.updateSectionWidth=e.updateSectionWidth.bind(Object(g.a)(Object(g.a)(e))),e.setWidth=e.setWidth.bind(Object(g.a)(Object(g.a)(e))),e.setHeight=e.setHeight.bind(Object(g.a)(Object(g.a)(e))),e.setGraphCounts=e.setGraphCounts.bind(Object(g.a)(Object(g.a)(e))),e.setSelectedElement=e.setSelectedElement.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.updateSectionWidth(),this.collapseContainer(),window.addEventListener("resize",this.updateSectionWidth)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.width!==t.width){var a=this.state.width;Math.round(a)!==a&&(a=Math.round(a)),a>Pa&&(a=Pa),a<240&&(a=240),this.setState({width:a})}if(this.state.height!==t.height){var n=this.state.height;Math.round(n)!==n&&(n=Math.round(n)),n>Ta&&(n=Ta),n<240&&(n=240),this.setState({height:n})}}},{key:"updateSectionWidth",value:function(){this.setState({sectionWidth:i.a.findDOMNode(this).clientWidth})}},{key:"expandContainer",value:function(){var e=document.body.clientWidth-20-20,t=3*e/4;this.setState({width:e,height:t})}},{key:"collapseContainer",value:function(){var e=i.a.findDOMNode(this).clientWidth,t=3*e/4;this.setState({width:e,height:t})}},{key:"setWidth",value:function(e){this.setState({width:e})}},{key:"setHeight",value:function(e){this.setState({height:e})}},{key:"downloadSvg",value:function(){!function(e,t){var a=(new XMLSerializer).serializeToString(e),n=new Blob([a],{type:"image/svg+xml"}),r=window.URL.createObjectURL(n),o=document.createElement("a");document.body.appendChild(o),o.href=r,o.download=(t||"data")+".svg",o.click(),window.URL.revokeObjectURL(r),o.remove()}(document.getElementById("graph"))}},{key:"setGraphCounts",value:function(e,t){this.setState({nodeCount:e,edgeCount:t})}},{key:"setSelectedElement",value:function(e){this.setState({selectedElement:e})}},{key:"render",value:function(){var e=this,t="";return this.state.selectedElement&&("node"===this.state.selectedElement.elementType&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph_info_header small light"},"Selected Node"),r.a.createElement(Aa,{node:this.state.selectedElement,primaryFields:["metanode","neo4j_id"],order:["name","metanode","source","url","description","identifier","neo4j_id"]}))),"edge"===this.state.selectedElement.elementType&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph_info_header small light"},"Selected Edge"),r.a.createElement(Aa,{edge:this.state.selectedElement,primaryFields:["kind","directed","neo4j_id"],order:["kind","neo4j_id","source"]})))),r.a.createElement("section",null,r.a.createElement(ta,{label:"Path Graph",tooltipText:"Graph of path results"},r.a.createElement("div",{className:"table_attic"},r.a.createElement(jt,{text:"reset",icon:H.o,onClick:function(){e.graph.current&&e.graph.current.restartGraph()},tooltipText:"Completely restart graph"}),r.a.createElement(jt,{text:"unpin all",icon:H.n,onClick:function(){e.graph.current&&e.graph.current.unpinAll()},tooltipText:"Unpin all nodes"}),r.a.createElement(jt,{text:"pin all",icon:H.m,onClick:function(){e.graph.current&&e.graph.current.pinAll()},tooltipText:"Pin all nodes in their current position"}),r.a.createElement(jt,{text:"fit",icon:H.i,onClick:function(){e.graph.current&&e.graph.current.fitView()},tooltipText:"Fit the view to the contents of the graph"}),r.a.createElement(jt,{text:".svg",icon:H.g,onClick:this.downloadSvg,tooltipText:"Download the graph as an .svg file"}),r.a.createElement(Ma,{tooltipText:"Width of the container",min:240,step:"5",max:Pa,value:this.state.width,onArrows:this.setWidth,onSubmit:this.setWidth}),"\xd7",r.a.createElement(Ma,{tooltipText:"Height of the container",min:240,step:"5",max:Ta,value:this.state.height,onArrows:this.setHeight,onSubmit:this.setHeight}),r.a.createElement(jt,{className:"graph_expand_collapse_button",text:"",icon:H.j,onClick:this.expandContainer,tooltipText:"Fit the graph to the window"}),r.a.createElement(jt,{className:"graph_expand_collapse_button",text:"",icon:H.f,onClick:this.collapseContainer,tooltipText:'Fit the graph to the "Path Graph" section'}),r.a.createElement("span",{className:"small light right"},this.state.nodeCount," nodes, ",this.state.edgeCount," edges")),r.a.createElement(Ra,{ref:this.graph,width:this.state.width,height:this.state.height,sectionWidth:this.state.sectionWidth,setGraphCounts:this.setGraphCounts,setSelectedElement:this.setSelectedElement}),t))}}]),t}(n.Component),Ra=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={},e.state.data=e.assembleGraph(null),e.fitView=e.fitView.bind(Object(g.a)(Object(g.a)(e))),e.resetView=e.resetView.bind(Object(g.a)(Object(g.a)(e))),e.onSimulationTick=e.onSimulationTick.bind(Object(g.a)(Object(g.a)(e))),e.onNodeEdgeClick=e.onNodeEdgeClick.bind(Object(g.a)(Object(g.a)(e))),e.onNodeDragStart=e.onNodeDragStart.bind(Object(g.a)(Object(g.a)(e))),e.onNodeDragEnd=e.onNodeDragEnd.bind(Object(g.a)(Object(g.a)(e))),e.onViewClick=e.onViewClick.bind(Object(g.a)(Object(g.a)(e))),e}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.createGraph(),this.setState({data:this.assembleGraph()})}},{key:"componentDidUpdate",value:function(e,t){if(this.props.pathQueries!==e.pathQueries)this.setState({data:this.assembleGraph()});else if(this.state.data!==t.data){var a=!0,n=!1,r=void 0;try{for(var o,i=this.state.data.nodes[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var l=o.value,s=!0,c=!1,h=void 0;try{for(var u,p=t.data.nodes[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;if(l.neo4j_id===d.neo4j_id){l.x=d.x,l.y=d.y,l.fx=d.fx,l.fy=d.fy,l.vx=d.vx,l.vy=d.vy;break}}}catch(f){c=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw h}}}}catch(f){n=!0,r=f}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}this.updateGraph(),this.props.setGraphCounts(this.state.data.nodes.length,this.state.data.edges.length)}}},{key:"restartGraph",value:function(){var e=this;this.resetView(),this.state.simulation.alpha(1).restart(),this.setState({data:this.assembleGraph(null)},function(){return e.setState({data:e.assembleGraph()})})}},{key:"createGraph",value:function(){var e=Sa.h("#graph"),t=Sa.g().force("link",Sa.e().distance(100).id(function(e){return e.neo4j_id})).force("collide",Sa.d().radius(25).strength(1)).force("charge",Sa.f().strength(-200)).force("center",Sa.c(0,0));t.on("tick",this.onSimulationTick);var a=Sa.j().scaleExtent([.25,4]).on("zoom",this.onViewZoom);e.call(a),e.on("click",this.onViewClick);var n=Sa.a().on("drag",this.onNodeDrag).on("start",this.onNodeDragStart).on("end",this.onNodeDragEnd);this.setState({simulation:t,viewZoomHandler:a,nodeDragHandler:n},this.resetView)}},{key:"onSimulationTick",value:function(){Sa.i(".graph_edge_line_highlight").each(this.positionEdge),Sa.i(".graph_edge_line").each(this.positionEdge),Sa.i(".graph_edge_label").each(this.positionEdgeLabel),Sa.i(".graph_node_circle_highlight").each(this.positionNode),Sa.i(".graph_node_circle").each(this.positionNode),Sa.i(".graph_node_label").each(this.positionNode)}},{key:"positionNode",value:function(e,t,a){var n=a[t];Sa.h(n).attr("transform","translate("+e.x+","+e.y+")")}},{key:"positionEdge",value:function(e,t,a){var n=e.source.x,r=e.source.y,o=e.target.x,i=e.target.y,l="",s=Math.atan2(i-r,o-n),c=24.75;if(e.directed&&(c+=2.5),0===e.coincidentOffset)l=["M",n+=24.75*Math.cos(s),r+=24.75*Math.sin(s),"L",o-=Math.cos(s)*c,i-=Math.sin(s)*c].join(" ");else{var h=Da*e.coincidentOffset;n+=24.75*Math.cos(s+h),r+=24.75*Math.sin(s+h),o-=Math.cos(s-h)*c,i-=Math.sin(s-h)*c;var u=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),p=Math.min(20,u)*e.coincidentOffset;l=["M",n,r,"Q",(o+n)/2-2*p*(i-r)/u,(i+r)/2+2*p*(o-n)/u,o,i].join(" ")}var d=a[t];Sa.h(d).attr("d",l)}},{key:"positionEdgeLabel",value:function(e,t,a){var n=e.source.x,r=e.source.y,o=e.target.x,i=e.target.y,l=Math.atan2(i-r,o-n),s=24.75;e.directed&&(s+=2.5);var c=Da*e.coincidentOffset;n+=24.75*Math.cos(l+c),r+=24.75*Math.sin(l+c),o-=Math.cos(l-c)*s,i-=Math.sin(l-c)*s;var h=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),u=Math.min(20,h)*e.coincidentOffset,p=(o+n)/2-u*(i-r)/h,d=(i+r)/2+u*(o-n)/h;(l=l/(2*Math.PI)*360)>90&&(l-=180),l<=-90&&(l+=180);var f=-2.8;u<0&&e.source.x>e.target.x&&(f=8.8);var m=a[t];Sa.h(m).attr("x",0).attr("y",0).attr("dy",f).attr("transform","translate("+p+","+d+") rotate("+l+") ")}},{key:"fitView",value:function(){var e=Sa.h("#graph_view").node().getBBox(),t=Sa.h("#graph").node().getBoundingClientRect();if(0!==e.width&&0!==e.height){t.width-=2,t.height-=2,e.midX=e.x+e.width/2,e.midY=e.y+e.height/2;var a=1/Math.max(e.width/(t.width-25),e.height/(t.height-25)),n=t.width/2-a*e.midX,r=t.height/2-a*e.midY;Sa.h("#graph").call(this.state.viewZoomHandler.transform,Sa.k.translate(n,r).scale(a))}}},{key:"resetView",value:function(){var e=Sa.h("#graph").node().getBoundingClientRect();e.width-=2,e.height-=2;var t=e.width/2,a=e.height/2;Sa.h("#graph").call(this.state.viewZoomHandler.transform,Sa.k.translate(t,a).scale(1))}},{key:"unpinAll",value:function(){this.state.data.nodes.forEach(function(e){e.fx=null,e.fy=null}),this.state.simulation.alpha(1).restart()}},{key:"pinAll",value:function(){this.state.data.nodes.forEach(function(e){e.fx=e.x,e.fy=e.y})}},{key:"onNodeEdgeClick",value:function(e){Sa.b.stopPropagation(),e.selected?this.deselectAll():(this.deselectAll(),e.selected=!0),this.updateNodeCircles(),this.updateEdgeLines(),this.props.setSelectedElement(e)}},{key:"deselectAll",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.state.data.nodes[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){n.value.selected=void 0}}catch(h){t=!0,a=h}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}var o=!0,i=!1,l=void 0;try{for(var s,c=this.state.data.edges[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){s.value.selected=void 0}}catch(h){i=!0,l=h}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}}},{key:"onNodeDragStart",value:function(){this.state.simulation.alphaTarget(1).restart()}},{key:"onNodeDrag",value:function(e){e.fx=Sa.b.x,e.fy=Sa.b.y}},{key:"onNodeDragEnd",value:function(){this.state.simulation.alphaTarget(0).restart()}},{key:"onViewClick",value:function(){this.deselectAll(),this.updateNodeCircles(),this.updateEdgeLines(),this.props.setSelectedElement(null)}},{key:"onViewZoom",value:function(){Sa.h("#graph_view").attr("transform",Sa.b.transform)}},{key:"updateSimulation",value:function(){var e=this.state.data;this.state.simulation.nodes(e.nodes),this.state.simulation.force("link").links(e.edges),this.state.simulation.alpha(1).restart()}},{key:"updateEdgeLineHighlights",value:function(){var e=this.state.data,t=Sa.h("#graph_edge_line_highlight_layer").selectAll(".graph_edge_line_highlight").data(e.edges.filter(function(e){return!0===e.highlighted}));t.enter().append("path").merge(t).attr("class","graph_edge_line_highlight").attr("fill","none").attr("stroke","#B3E8F7").attr("stroke-width",10).attr("stroke-linecap","square"),t.exit().remove()}},{key:"updateEdgeLines",value:function(){var e=this.state.data,t=Sa.h("#graph_edge_line_layer").selectAll(".graph_edge_line").data(e.edges);t.enter().append("path").on("click",this.onNodeEdgeClick).merge(t).attr("class","graph_edge_line").attr("marker-end",function(e){return e.directed?"url(#graph_arrowhead)":""}).attr("fill","none").attr("stroke","#424242").attr("stroke-width",2).style("stroke-dasharray",function(e){return e.selected?"4 2":"none"}).style("cursor","pointer"),t.exit().remove()}},{key:"updateEdgeLabels",value:function(){var e=this.state.data,t=Sa.h("#graph_edge_label_layer").selectAll(".graph_edge_label").data(e.edges);t.enter().append("text").on("click",this.onNodeEdgeClick).merge(t).attr("class","graph_edge_label").attr("font-size",8).attr("font-weight",500).attr("text-anchor","middle").attr("user-select","none").attr("fill","#424242").style("cursor","pointer").text(function(e){return e.kind}),t.exit().remove()}},{key:"updateNodeCircleHighlights",value:function(){var e=this.state.data,t=Sa.h("#graph_node_circle_highlight_layer").selectAll(".graph_node_circle_highlight").data(e.nodes.filter(function(e){return!0===e.highlighted}));t.enter().append("circle").merge(t).attr("class","graph_node_circle_highlight").attr("r",25).attr("fill","none").attr("stroke","#B3E8F7").attr("stroke-width",10),t.exit().remove()}},{key:"updateNodeCircles",value:function(){var e=this,t=this.state.data,a=Sa.h("#graph_node_circle_layer").selectAll(".graph_node_circle").data(t.nodes);a.enter().append("circle").call(this.state.nodeDragHandler).on("click",this.onNodeEdgeClick).merge(a).attr("class","graph_node_circle").attr("r",25).attr("fill",function(t){return e.getNodeFillColor(t.metanode)}).attr("stroke",function(e){return e.selected?"#424242":"none"}).attr("stroke-width",2).style("stroke-dasharray","4 2").style("cursor","pointer"),a.exit().remove()}},{key:"updateNodeLabels",value:function(){var e=this,t=this.state.data,a=Sa.h("#graph_node_label_layer"),n=a.selectAll(".graph_node_label").data(t.nodes);n.enter().append("foreignObject").attr("class","graph_node_label").append("xhtml:div").append("xhtml:span"),a.selectAll(".graph_node_label").attr("x",-25).attr("y",-25).attr("width",50).attr("height",50).style("pointer-events","none").select("div").style("display","flex").style("justify-content","center").style("align-items","center").style("width","100%").style("height","100%").style("box-sizing","border-box").style("padding","6.25px").select("span").style("text-align","center").style("font-size","8px").style("font-weight",500).style("color",function(t){return e.getNodeTextColor(t.metanode)}).style("word-break","break-word").html(function(e){return e.data.name.length>25?e.data.name.substr(0,22)+"...":e.data.name}),n.exit().remove()}},{key:"updateGraph",value:function(){this.updateEdgeLineHighlights(),this.updateEdgeLines(),this.updateEdgeLabels(),this.updateNodeCircleHighlights(),this.updateNodeCircles(),this.updateNodeLabels(),this.pinSourceAndTargetNodes(),this.updateSimulation()}},{key:"pinSourceAndTargetNodes",value:function(){var e=this.state.data;e.nodes.forEach(function(t){t.neo4j_id===e.source_neo4j_id&&(t.x||t.fx||(t.fx=-200),t.y||t.fy||(t.fy=0)),t.neo4j_id===e.target_neo4j_id&&(t.x||t.fx||(t.fx=200),t.y||t.fy||(t.fy=0))})}},{key:"getNodeFillColor",value:function(e){var t=this.props.hetioStyles[e];return t&&t.fill_color?t.fill_color:"#424242"}},{key:"getNodeTextColor",value:function(e){var t=this.props.hetioStyles[e];return t&&t.text_color?t.text_color:"#fafafa"}},{key:"assembleGraph",value:function(e){var t={source_neo4j_id:null,target_neo4j_id:null,nodes:[],edges:[]};if(null===e)return t;if(e||(e=this.props.pathQueries),!e||e.length<=0)return t;var a=e[0].paths[0];t.source_neo4j_id=a.node_ids[0],t.target_neo4j_id=a.node_ids[a.node_ids.length-1];var n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value,c=!0,u=!1,p=void 0;try{for(var d,f=s.paths[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;if(m.checked){var g=!0,v=!1,b=void 0;try{for(var y,O=function(){var e=y.value,a=s.nodes[e],n=t.nodes.find(function(e){return e.neo4j_id===a.neo4j_id});n?m.highlighted&&(n.highlighted=!0):t.nodes.push(Object(h.a)({},a,{highlighted:m.highlighted,elementType:"node"}))},j=m.node_ids[Symbol.iterator]();!(g=(y=j.next()).done);g=!0)O()}catch(B){v=!0,b=B}finally{try{g||null==j.return||j.return()}finally{if(v)throw b}}var k=!0,_=!1,E=void 0;try{for(var w,x=function(){var e=w.value,a=s.relationships[e],n=t.edges.find(function(e){return e.source_neo4j_id===a.source_neo4j_id&&e.target_neo4j_id===a.target_neo4j_id&&e.kind===a.kind&&e.directed===a.directed});n?m.highlighted&&(n.highlighted=!0):t.edges.push(Object(h.a)({},a,{source:a.source_neo4j_id,target:a.target_neo4j_id,highlighted:m.highlighted,elementType:"edge"}))},C=m.rel_ids[Symbol.iterator]();!(k=(w=C.next()).done);k=!0)x()}catch(B){_=!0,E=B}finally{try{k||null==C.return||C.return()}finally{if(_)throw E}}}}}catch(B){u=!0,p=B}finally{try{c||null==f.return||f.return()}finally{if(u)throw p}}}}catch(B){r=!0,o=B}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}var N=[],S=!0,M=!1,P=void 0;try{for(var T,D=function(){for(var e=T.value,t=!1,a=0,n=N;a<n.length;a++){var r=n[a];if(r.find(function(t){return e.source_neo4j_id===t.source_neo4j_id&&e.target_neo4j_id===t.target_neo4j_id||e.source_neo4j_id===t.target_neo4j_id&&e.target_neo4j_id===t.source_neo4j_id})){r.push(e),t=!0;break}}t||N.push([e])},L=t.edges[Symbol.iterator]();!(S=(T=L.next()).done);S=!0)D()}catch(B){M=!0,P=B}finally{try{S||null==L.return||L.return()}finally{if(M)throw P}}for(var R=0,A=N;R<A.length;R++)for(var W=A[R],F=W[0].source_neo4j_id,H=0;H<W.length;H++){var U=0;W.length>1&&(U=H/(W.length-1)-.5),W[H].source_neo4j_id!==F&&(U*=-1),W[H].coincidentOffset=U}var I=t.nodes.findIndex(function(e){return e.neo4j_id===t.source_neo4j_id});-1!==I&&t.nodes.push(t.nodes.splice(I,1)[0]);var Q=t.nodes.findIndex(function(e){return e.neo4j_id===t.target_neo4j_id});return-1!==Q&&t.nodes.push(t.nodes.splice(Q,1)[0]),t}},{key:"render",value:function(){var e=0;if(this.props.sectionWidth&&this.props.width){e=this.props.sectionWidth/2-this.props.width/2;var t=this.props.sectionWidth/2-document.body.clientWidth/2+20;e<t&&(e=t)}var a=(this.props.sourceNode.name||"___")+" \u2192 "+(this.props.targetNode.name||"___"),n=["Graph visualization of the connectivity between ",this.props.sourceNode.name||"___"," (",this.props.sourceNode.metanode||"___",") and ",this.props.targetNode.name||"___"," (",this.props.targetNode.metanode||"___","). ","\n\n","Created at ",window.location.href,"\n\n","This subgraph of Hetionet v1.0 was created from paths between the ","specified source/target nodes that occurred more than expected ","by chance. ","See https://het.io for more information. "].join("");return r.a.createElement("div",{id:"graph_container",style:{height:this.props.height}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"graph",width:this.props.width,height:this.props.height,style:{left:e}},r.a.createElement("title",null,a),r.a.createElement("desc",null,n),r.a.createElement("defs",null,r.a.createElement("style",null,"\n                @import url('https://fonts.googleapis.com/css?family=Raleway:400,500,700');\n                @import url('https://fonts.googleapis.com/css?family=Montserrat:400,500,700&text=0123456789');\n                * {\n                  font-family: 'Montserrat', 'Raleway', sans-serif;\n                }\n              "),r.a.createElement("marker",{id:"graph_arrowhead",viewBox:"0 0 100 100",refX:"80",refY:"50",orient:"auto",markerUnits:"userSpaceOnUse",markerWidth:10,markerHeight:10},r.a.createElement("path",{d:" M 0 0 L 100 50 L 0 100",fill:"#424242"}))),r.a.createElement("g",{id:"graph_view"},r.a.createElement("g",{id:"graph_edge_line_highlight_layer"}),r.a.createElement("g",{id:"graph_node_circle_highlight_layer"}),r.a.createElement("g",{id:"graph_edge_line_layer"}),r.a.createElement("g",{id:"graph_edge_label_layer"}),r.a.createElement("g",{id:"graph_node_circle_layer"}),r.a.createElement("g",{id:"graph_node_label_layer"}))))}}]),t}(n.Component);Ra=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,pathQueries:e.pathQueries,hetioStyles:e.hetioStyles}},null,null,{forwardRef:!0})(Ra);var Aa=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"rows",value:function(){var e={};this.props.hetioDefinitions.properties&&(e=Object(h.a)({},e,this.props.hetioDefinitions.properties.common,this.props.hetioDefinitions.properties.edges)),(e=Object(h.a)({},e,this.props.hetmechDefinitions)).id&&(e.neo4j_id=e.id);var t=this.props.node||this.props.edge,a=this.props.primaryFields;a=a.map(function(a){return{firstCol:a,secondCol:String(t[a]),tooltipText:e[a]}});var n=Object.keys(t.data);n=n.map(function(a){return{firstCol:a,secondCol:String(t.data[a]),tooltipText:e[a]}});var o=a.concat(n),i=(o=Bt(o,this.props.order,"firstCol")).map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("td",{className:"col_s small light"},r.a.createElement(bt,{text:e.tooltipText},e.firstCol)),r.a.createElement("td",{className:"small"},e.secondCol))}),l=new Array(Math.ceil(i.length/2)).fill().map(function(){return i.splice(0,2)}).map(function(e,t){return r.a.createElement("tr",{key:t},e)});return l}},{key:"render",value:function(){return r.a.createElement("table",{id:"graph_info_table"},r.a.createElement("tbody",null,this.rows()))}}]),t}(n.Component);Aa=Object(c.b)(function(e){return{hetioDefinitions:e.hetioDefinitions,hetmechDefinitions:e.hetmechDefinitions}})(Aa);a(263);var Wa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).fetchDefinitions=a.fetchDefinitions.bind(Object(g.a)(Object(g.a)(a))),a.updateNodesFromUrl=a.updateNodesFromUrl.bind(Object(g.a)(Object(g.a)(a))),a.updateMetapaths=a.updateMetapaths.bind(Object(g.a)(Object(g.a)(a))),a.updateHistory=a.updateHistory.bind(Object(g.a)(Object(g.a)(a))),a.updateTitle=a.updateTitle.bind(Object(g.a)(Object(g.a)(a))),a.updatePaths=a.updatePaths.bind(Object(g.a)(Object(g.a)(a))),a.fetchDefinitions(),a.updateNodesFromUrl(),window.addEventListener("popstate",a.updateNodesFromUrl),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){e.sourceNode===this.props.sourceNode&&e.targetNode===this.props.targetNode||this.onNodeChange(),e.metapaths!==this.props.metapaths&&this.onMetapathChange()}},{key:"fetchDefinitions",value:function(){this.props.dispatch(function(e){var t=[Tt(xt),Tt(Ct),Tt(Nt),wt];Promise.all(t).then(function(t){var a;e({type:"set_definitions",payload:{metagraph:(a={metagraph:t[0],hetioDefinitions:t[1],hetioStyles:t[2],hetmechDefinitions:t[3]}).metagraph,hetioDefinitions:a.hetioDefinitions,hetioStyles:a.hetioStyles,hetmechDefinitions:a.hetmechDefinitions}})})})}},{key:"updateNodesFromUrl",value:function(){this.props.dispatch(function(e){var t=new URLSearchParams(window.location.search),a=t.get("source"),n=t.get("target"),r=[Dt(a),Dt(n)];Promise.all(r).then(function(t){e(Rt({sourceNode:t[0],targetNode:t[1]}))})})}},{key:"onNodeChange",value:function(){this.updateMetapaths(),this.updateHistory(),this.updateTitle()}},{key:"updateMetapaths",value:function(){var e=this;this.props.dispatch(function(t){return function(e,t){var a=new URLSearchParams;return a.set("source",e),a.set("target",t),Tt(Mt+"?"+a.toString()).then(function(e){return e.path_counts})}(e.props.sourceNode.id,e.props.targetNode.id).then(function(e){return t(At({metapaths:e}))})})}},{key:"updateHistory",value:function(){var e=new URLSearchParams(window.location.search),t=new URLSearchParams;if(void 0!==this.props.sourceNode.id&&t.set("source",this.props.sourceNode.id),void 0!==this.props.targetNode.id&&t.set("target",this.props.targetNode.id),!(e.get("source")===t.get("source")&e.get("target")===t.get("target"))){var a=t.toString();a.length>0&&(a="?"+a);var n=window.location.origin+window.location.pathname+a;window.history.pushState({},"",n)}}},{key:"updateTitle",value:function(){if(this.props.sourceNode.id||this.props.targetNode.id){var e=(this.props.sourceNode.name||"___")+" \u2192 "+(this.props.targetNode.name||"___");document.title=e}}},{key:"onMetapathChange",value:function(){this.updatePaths()}},{key:"updatePaths",value:function(){var e=this;this.props.dispatch(function(t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e.props.metapaths[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value;s.checked&&a.push(Lt(e.props.sourceNode.id,e.props.targetNode.id,s.metapath_abbreviation))}}catch(c){r=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}Promise.all(a).then(function(e){t(Wt({pathQueries:e}))})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement(Vt,null),r.a.createElement(aa,null),r.a.createElement(ia,null),r.a.createElement(va,null),r.a.createElement(La,null))}}]),t}(n.Component);Wa=Object(c.b)(function(e){return{sourceNode:e.sourceNode,targetNode:e.targetNode,metapaths:e.metapaths}})(Wa);var Fa=Object(l.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(h.a)({},e);switch(t.type){case"set_definitions":void 0!==t.payload.metagraph&&(a.metagraph=t.payload.metagraph),void 0!==t.payload.hetioDefinitions&&(a.hetioDefinitions=t.payload.hetioDefinitions),void 0!==t.payload.hetioStyles&&(a.hetioStyles=t.payload.hetioStyles),void 0!==t.payload.hetmechDefinitions&&(a.hetmechDefinitions=t.payload.hetmechDefinitions);break;case"update_source_target_nodes":void 0!==t.payload.sourceNode&&(a.sourceNode=t.payload.sourceNode),void 0!==t.payload.targetNode&&(a.targetNode=t.payload.targetNode);break;case"swap_source_target_nodes":e.sourceNode&&e.targetNode&&(a.sourceNode=e.targetNode,a.targetNode=e.sourceNode);break;case"update_metapaths":void 0!==t.payload.metapaths&&(a.metapaths=t.payload.metapaths);break;case"update_path_queries":void 0!==t.payload.pathQueries&&(a.pathQueries=t.payload.pathQueries)}return a.metagraph||(a.metagraph={}),a.hetioDefinitions||(a.hetioDefinitions={}),a.hetioStyles||(a.hetioStyles={}),a.hetmechDefinitions||(a.hetmechDefinitions={}),a.sourceNode||(a.sourceNode={}),a.targetNode||(a.targetNode={}),a.metapaths||(a.metapaths=[]),a.pathQueries||(a.pathQueries=[]),a},Object(l.a)(s.a));Object(o.render)(r.a.createElement(c.a,{store:Fa},r.a.createElement(Wa,null)),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.512dfe13.chunk.js.map